/*! For license information about the extension and its dependencies, please see extracted-comments.LICENSE.txt. */
(()=>{var e,t,n={4184:(e,t)=>{var n;!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var a=r.apply(null,n);a&&e.push(a)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)o.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},4098:function(e,t){var n="undefined"!=typeof self?self:this,o=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,o="Symbol"in e&&"iterator"in Symbol,r="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,a="ArrayBuffer"in e;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return o&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function g(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:r&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&r&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e,t,n,o=h(this);if(o)return o;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=f(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),o=0;o<t.length;o++)n[o]=String.fromCharCode(t[o]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=c(e),t=u(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[c(e)]},p.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},p.prototype.set=function(e,t){this.map[c(e)]=u(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},o&&(p.prototype[Symbol.iterator]=p.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _(e,t){var n,o,r=(t=t||{}).body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(n=t.method||this.method||"GET",o=n.toUpperCase(),v.indexOf(o)>-1?o:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function b(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),o=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(r))}})),t}function w(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},y.call(_.prototype),y.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];w.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function A(e,n){return new Promise((function(o,i){var a=new _(e,n);if(a.signal&&a.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function l(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new p,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),o=n.shift().trim();if(o){var r=n.join(":").trim();t.append(o,r)}})),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var r="response"in s?s.response:s.responseText;o(new w(r,n))},s.onerror=function(){i(new TypeError("Network request failed"))},s.ontimeout=function(){i(new TypeError("Network request failed"))},s.onabort=function(){i(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&r&&(s.responseType="blob"),a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",l),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",l)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}A.polyfill=!0,e.fetch||(e.fetch=A,e.Headers=p,e.Request=_,e.Response=w),t.Headers=p,t.Request=_,t.Response=w,t.fetch=A,Object.defineProperty(t,"__esModule",{value:!0})}({})}(o),o.fetch.ponyfill=!0,delete o.fetch.polyfill;var r=o;(t=r.fetch).default=r.fetch,t.fetch=r.fetch,t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response,e.exports=t},7856:function(e){e.exports=function(){"use strict";const{entries:e,setPrototypeOf:t,isFrozen:n,getPrototypeOf:o,getOwnPropertyDescriptor:r}=Object;let{freeze:i,seal:a,create:s}=Object,{apply:l,construct:c}="undefined"!=typeof Reflect&&Reflect;i||(i=function(e){return e}),a||(a=function(e){return e}),l||(l=function(e,t,n){return e.apply(t,n)}),c||(c=function(e,t){return new e(...t)});const u=w(Array.prototype.forEach),d=w(Array.prototype.pop),p=w(Array.prototype.push),h=w(String.prototype.toLowerCase),f=w(String.prototype.toString),g=w(String.prototype.match),m=w(String.prototype.replace),y=w(String.prototype.indexOf),v=w(String.prototype.trim),_=w(RegExp.prototype.test),b=x(TypeError);function w(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return l(e,t,o)}}function x(e){return function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return c(e,n)}}function A(e,o){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;t&&t(e,null);let i=o.length;for(;i--;){let t=o[i];if("string"==typeof t){const e=r(t);e!==t&&(n(o)||(o[i]=e),t=e)}e[t]=!0}return e}function k(t){const n=s(null);for(const[o,i]of e(t))void 0!==r(t,o)&&(n[o]=i);return n}function C(e,t){for(;null!==e;){const n=r(e,t);if(n){if(n.get)return w(n.get);if("function"==typeof n.value)return w(n.value)}e=o(e)}function n(e){return console.warn("fallback value for",e),null}return n}const S=i(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),N=i(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),E=i(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),O=i(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),T=i(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),P=i(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),D=i(["#text"]),L=i(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),R=i(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),I=i(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),M=i(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),j=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),U=a(/<%[\w\W]*|[\w\W]*%>/gm),F=a(/\${[\w\W]*}/gm),B=a(/^data-[\-\w.\u00B7-\uFFFF]/),H=a(/^aria-[\-\w]+$/),$=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),q=a(/^(?:\w+script|data):/i),V=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),W=a(/^html$/i);var z=Object.freeze({__proto__:null,MUSTACHE_EXPR:j,ERB_EXPR:U,TMPLIT_EXPR:F,DATA_ATTR:B,ARIA_ATTR:H,IS_ALLOWED_URI:$,IS_SCRIPT_OR_DATA:q,ATTR_WHITESPACE:V,DOCTYPE_NAME:W});const G=function(){return"undefined"==typeof window?null:window},Y=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));const r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};function K(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G();const n=e=>K(e);if(n.version="3.0.6",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;let{document:o}=t;const r=o,a=r.currentScript,{DocumentFragment:l,HTMLTemplateElement:c,Node:w,Element:x,NodeFilter:j,NamedNodeMap:U=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:F,DOMParser:B,trustedTypes:H}=t,q=x.prototype,V=C(q,"cloneNode"),X=C(q,"nextSibling"),J=C(q,"childNodes"),Z=C(q,"parentNode");if("function"==typeof c){const e=o.createElement("template");e.content&&e.content.ownerDocument&&(o=e.content.ownerDocument)}let Q,ee="";const{implementation:te,createNodeIterator:ne,createDocumentFragment:oe,getElementsByTagName:re}=o,{importNode:ie}=r;let ae={};n.isSupported="function"==typeof e&&"function"==typeof Z&&te&&void 0!==te.createHTMLDocument;const{MUSTACHE_EXPR:se,ERB_EXPR:le,TMPLIT_EXPR:ce,DATA_ATTR:ue,ARIA_ATTR:de,IS_SCRIPT_OR_DATA:pe,ATTR_WHITESPACE:he}=z;let{IS_ALLOWED_URI:fe}=z,ge=null;const me=A({},[...S,...N,...E,...T,...D]);let ye=null;const ve=A({},[...L,...R,...I,...M]);let _e=Object.seal(s(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),be=null,we=null,xe=!0,Ae=!0,ke=!1,Ce=!0,Se=!1,Ne=!1,Ee=!1,Oe=!1,Te=!1,Pe=!1,De=!1,Le=!0,Re=!1;const Ie="user-content-";let Me=!0,je=!1,Ue={},Fe=null;const Be=A({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let He=null;const $e=A({},["audio","video","img","source","image","track"]);let qe=null;const Ve=A({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),We="http://www.w3.org/1998/Math/MathML",ze="http://www.w3.org/2000/svg",Ge="http://www.w3.org/1999/xhtml";let Ye=Ge,Ke=!1,Xe=null;const Je=A({},[We,ze,Ge],f);let Ze=null;const Qe=["application/xhtml+xml","text/html"],et="text/html";let tt=null,nt=null;const ot=o.createElement("form"),rt=function(e){return e instanceof RegExp||e instanceof Function},it=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!nt||nt!==e){if(e&&"object"==typeof e||(e={}),e=k(e),Ze=Ze=-1===Qe.indexOf(e.PARSER_MEDIA_TYPE)?et:e.PARSER_MEDIA_TYPE,tt="application/xhtml+xml"===Ze?f:h,ge="ALLOWED_TAGS"in e?A({},e.ALLOWED_TAGS,tt):me,ye="ALLOWED_ATTR"in e?A({},e.ALLOWED_ATTR,tt):ve,Xe="ALLOWED_NAMESPACES"in e?A({},e.ALLOWED_NAMESPACES,f):Je,qe="ADD_URI_SAFE_ATTR"in e?A(k(Ve),e.ADD_URI_SAFE_ATTR,tt):Ve,He="ADD_DATA_URI_TAGS"in e?A(k($e),e.ADD_DATA_URI_TAGS,tt):$e,Fe="FORBID_CONTENTS"in e?A({},e.FORBID_CONTENTS,tt):Be,be="FORBID_TAGS"in e?A({},e.FORBID_TAGS,tt):{},we="FORBID_ATTR"in e?A({},e.FORBID_ATTR,tt):{},Ue="USE_PROFILES"in e&&e.USE_PROFILES,xe=!1!==e.ALLOW_ARIA_ATTR,Ae=!1!==e.ALLOW_DATA_ATTR,ke=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ce=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Se=e.SAFE_FOR_TEMPLATES||!1,Ne=e.WHOLE_DOCUMENT||!1,Te=e.RETURN_DOM||!1,Pe=e.RETURN_DOM_FRAGMENT||!1,De=e.RETURN_TRUSTED_TYPE||!1,Oe=e.FORCE_BODY||!1,Le=!1!==e.SANITIZE_DOM,Re=e.SANITIZE_NAMED_PROPS||!1,Me=!1!==e.KEEP_CONTENT,je=e.IN_PLACE||!1,fe=e.ALLOWED_URI_REGEXP||$,Ye=e.NAMESPACE||Ge,_e=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&rt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(_e.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&rt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(_e.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(_e.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Se&&(Ae=!1),Pe&&(Te=!0),Ue&&(ge=A({},[...D]),ye=[],!0===Ue.html&&(A(ge,S),A(ye,L)),!0===Ue.svg&&(A(ge,N),A(ye,R),A(ye,M)),!0===Ue.svgFilters&&(A(ge,E),A(ye,R),A(ye,M)),!0===Ue.mathMl&&(A(ge,T),A(ye,I),A(ye,M))),e.ADD_TAGS&&(ge===me&&(ge=k(ge)),A(ge,e.ADD_TAGS,tt)),e.ADD_ATTR&&(ye===ve&&(ye=k(ye)),A(ye,e.ADD_ATTR,tt)),e.ADD_URI_SAFE_ATTR&&A(qe,e.ADD_URI_SAFE_ATTR,tt),e.FORBID_CONTENTS&&(Fe===Be&&(Fe=k(Fe)),A(Fe,e.FORBID_CONTENTS,tt)),Me&&(ge["#text"]=!0),Ne&&A(ge,["html","head","body"]),ge.table&&(A(ge,["tbody"]),delete be.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw b('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw b('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Q=e.TRUSTED_TYPES_POLICY,ee=Q.createHTML("")}else void 0===Q&&(Q=Y(H,a)),null!==Q&&"string"==typeof ee&&(ee=Q.createHTML(""));i&&i(e),nt=e}},at=A({},["mi","mo","mn","ms","mtext"]),st=A({},["foreignobject","desc","title","annotation-xml"]),lt=A({},["title","style","font","a","script"]),ct=A({},N);A(ct,E),A(ct,O);const ut=A({},T);A(ut,P);const dt=function(e){let t=Z(e);t&&t.tagName||(t={namespaceURI:Ye,tagName:"template"});const n=h(e.tagName),o=h(t.tagName);return!!Xe[e.namespaceURI]&&(e.namespaceURI===ze?t.namespaceURI===Ge?"svg"===n:t.namespaceURI===We?"svg"===n&&("annotation-xml"===o||at[o]):Boolean(ct[n]):e.namespaceURI===We?t.namespaceURI===Ge?"math"===n:t.namespaceURI===ze?"math"===n&&st[o]:Boolean(ut[n]):e.namespaceURI===Ge?!(t.namespaceURI===ze&&!st[o])&&!(t.namespaceURI===We&&!at[o])&&!ut[n]&&(lt[n]||!ct[n]):!("application/xhtml+xml"!==Ze||!Xe[e.namespaceURI]))},pt=function(e){p(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.remove()}},ht=function(e,t){try{p(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){p(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!ye[e])if(Te||Pe)try{pt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},ft=function(e){let t=null,n=null;if(Oe)e="<remove></remove>"+e;else{const t=g(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===Ze&&Ye===Ge&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const r=Q?Q.createHTML(e):e;if(Ye===Ge)try{t=(new B).parseFromString(r,Ze)}catch(e){}if(!t||!t.documentElement){t=te.createDocument(Ye,"template",null);try{t.documentElement.innerHTML=Ke?ee:r}catch(e){}}const i=t.body||t.documentElement;return e&&n&&i.insertBefore(o.createTextNode(n),i.childNodes[0]||null),Ye===Ge?re.call(t,Ne?"html":"body")[0]:Ne?t.documentElement:i},gt=function(e){return ne.call(e.ownerDocument||e,e,j.SHOW_ELEMENT|j.SHOW_COMMENT|j.SHOW_TEXT,null)},mt=function(e){return e instanceof F&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof U)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},yt=function(e){return"function"==typeof w&&e instanceof w},vt=function(e,t,o){ae[e]&&u(ae[e],(e=>{e.call(n,t,o,nt)}))},_t=function(e){let t=null;if(vt("beforeSanitizeElements",e,null),mt(e))return pt(e),!0;const o=tt(e.nodeName);if(vt("uponSanitizeElement",e,{tagName:o,allowedTags:ge}),e.hasChildNodes()&&!yt(e.firstElementChild)&&_(/<[/\w]/g,e.innerHTML)&&_(/<[/\w]/g,e.textContent))return pt(e),!0;if(!ge[o]||be[o]){if(!be[o]&&wt(o)){if(_e.tagNameCheck instanceof RegExp&&_(_e.tagNameCheck,o))return!1;if(_e.tagNameCheck instanceof Function&&_e.tagNameCheck(o))return!1}if(Me&&!Fe[o]){const t=Z(e)||e.parentNode,n=J(e)||e.childNodes;if(n&&t)for(let o=n.length-1;o>=0;--o)t.insertBefore(V(n[o],!0),X(e))}return pt(e),!0}return e instanceof x&&!dt(e)?(pt(e),!0):"noscript"!==o&&"noembed"!==o&&"noframes"!==o||!_(/<\/no(script|embed|frames)/i,e.innerHTML)?(Se&&3===e.nodeType&&(t=e.textContent,u([se,le,ce],(e=>{t=m(t,e," ")})),e.textContent!==t&&(p(n.removed,{element:e.cloneNode()}),e.textContent=t)),vt("afterSanitizeElements",e,null),!1):(pt(e),!0)},bt=function(e,t,n){if(Le&&("id"===t||"name"===t)&&(n in o||n in ot))return!1;if(Ae&&!we[t]&&_(ue,t));else if(xe&&_(de,t));else if(!ye[t]||we[t]){if(!(wt(e)&&(_e.tagNameCheck instanceof RegExp&&_(_e.tagNameCheck,e)||_e.tagNameCheck instanceof Function&&_e.tagNameCheck(e))&&(_e.attributeNameCheck instanceof RegExp&&_(_e.attributeNameCheck,t)||_e.attributeNameCheck instanceof Function&&_e.attributeNameCheck(t))||"is"===t&&_e.allowCustomizedBuiltInElements&&(_e.tagNameCheck instanceof RegExp&&_(_e.tagNameCheck,n)||_e.tagNameCheck instanceof Function&&_e.tagNameCheck(n))))return!1}else if(qe[t]);else if(_(fe,m(n,he,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==y(n,"data:")||!He[e])if(ke&&!_(pe,m(n,he,"")));else if(n)return!1;return!0},wt=function(e){return e.indexOf("-")>0},xt=function(e){vt("beforeSanitizeAttributes",e,null);const{attributes:t}=e;if(!t)return;const o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ye};let r=t.length;for(;r--;){const i=t[r],{name:a,namespaceURI:s,value:l}=i,c=tt(a);let p="value"===a?l:v(l);if(o.attrName=c,o.attrValue=p,o.keepAttr=!0,o.forceKeepAttr=void 0,vt("uponSanitizeAttribute",e,o),p=o.attrValue,o.forceKeepAttr)continue;if(ht(a,e),!o.keepAttr)continue;if(!Ce&&_(/\/>/i,p)){ht(a,e);continue}Se&&u([se,le,ce],(e=>{p=m(p,e," ")}));const h=tt(e.nodeName);if(bt(h,c,p)){if(!Re||"id"!==c&&"name"!==c||(ht(a,e),p=Ie+p),Q&&"object"==typeof H&&"function"==typeof H.getAttributeType)if(s);else switch(H.getAttributeType(h,c)){case"TrustedHTML":p=Q.createHTML(p);break;case"TrustedScriptURL":p=Q.createScriptURL(p)}try{s?e.setAttributeNS(s,a,p):e.setAttribute(a,p),d(n.removed)}catch(e){}}}vt("afterSanitizeAttributes",e,null)},At=function e(t){let n=null;const o=gt(t);for(vt("beforeSanitizeShadowDOM",t,null);n=o.nextNode();)vt("uponSanitizeShadowNode",n,null),_t(n)||(n.content instanceof l&&e(n.content),xt(n));vt("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null,i=null,a=null,s=null;if(Ke=!e,Ke&&(e="\x3c!--\x3e"),"string"!=typeof e&&!yt(e)){if("function"!=typeof e.toString)throw b("toString is not a function");if("string"!=typeof(e=e.toString()))throw b("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Ee||it(t),n.removed=[],"string"==typeof e&&(je=!1),je){if(e.nodeName){const t=tt(e.nodeName);if(!ge[t]||be[t])throw b("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof w)o=ft("\x3c!----\x3e"),i=o.ownerDocument.importNode(e,!0),1===i.nodeType&&"BODY"===i.nodeName||"HTML"===i.nodeName?o=i:o.appendChild(i);else{if(!Te&&!Se&&!Ne&&-1===e.indexOf("<"))return Q&&De?Q.createHTML(e):e;if(o=ft(e),!o)return Te?null:De?ee:""}o&&Oe&&pt(o.firstChild);const c=gt(je?e:o);for(;a=c.nextNode();)_t(a)||(a.content instanceof l&&At(a.content),xt(a));if(je)return e;if(Te){if(Pe)for(s=oe.call(o.ownerDocument);o.firstChild;)s.appendChild(o.firstChild);else s=o;return(ye.shadowroot||ye.shadowrootmode)&&(s=ie.call(r,s,!0)),s}let d=Ne?o.outerHTML:o.innerHTML;return Ne&&ge["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&_(W,o.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+d),Se&&u([se,le,ce],(e=>{d=m(d,e," ")})),Q&&De?Q.createHTML(d):d},n.setConfig=function(){it(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Ee=!0},n.clearConfig=function(){nt=null,Ee=!1},n.isValidAttribute=function(e,t,n){nt||it({});const o=tt(e),r=tt(t);return bt(o,r,n)},n.addHook=function(e,t){"function"==typeof t&&(ae[e]=ae[e]||[],p(ae[e],t))},n.removeHook=function(e){if(ae[e])return d(ae[e])},n.removeHooks=function(e){ae[e]&&(ae[e]=[])},n.removeAllHooks=function(){ae={}},n}return K()}()},1739:e=>{e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},3150:function(e,t){var n,o,r;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e],n=function(e){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(void 0===globalThis.browser||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const t="The message port closed before a response was received.",n=e=>{const n={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(n).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class o extends WeakMap{constructor(e,t=void 0){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const r=e=>e&&"object"==typeof e&&"function"==typeof e.then,i=(t,n)=>(...o)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):n.singleCallbackArg||o.length<=1&&!1!==n.singleCallbackArg?t.resolve(o[0]):t.resolve(o)},a=e=>1==e?"argument":"arguments",s=(e,t)=>function(n,...o){if(o.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${a(t.minArgs)} for ${e}(), got ${o.length}`);if(o.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${a(t.maxArgs)} for ${e}(), got ${o.length}`);return new Promise(((r,a)=>{if(t.fallbackToNoCallback)try{n[e](...o,i({resolve:r,reject:a},t))}catch(i){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,i),n[e](...o),t.fallbackToNoCallback=!1,t.noCallback=!0,r()}else t.noCallback?(n[e](...o),r()):n[e](...o,i({resolve:r,reject:a},t))}))},l=(e,t,n)=>new Proxy(t,{apply:(t,o,r)=>n.call(o,e,...r)});let c=Function.call.bind(Object.prototype.hasOwnProperty);const u=(e,t={},n={})=>{let o=Object.create(null),r={has:(t,n)=>n in e||n in o,get(r,i,a){if(i in o)return o[i];if(!(i in e))return;let d=e[i];if("function"==typeof d)if("function"==typeof t[i])d=l(e,e[i],t[i]);else if(c(n,i)){let t=s(i,n[i]);d=l(e,e[i],t)}else d=d.bind(e);else if("object"==typeof d&&null!==d&&(c(t,i)||c(n,i)))d=u(d,t[i],n[i]);else{if(!c(n,"*"))return Object.defineProperty(o,i,{configurable:!0,enumerable:!0,get:()=>e[i],set(t){e[i]=t}}),d;d=u(d,t[i],n["*"])}return o[i]=d,d},set:(t,n,r,i)=>(n in o?o[n]=r:e[n]=r,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(o,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(o,t)},i=Object.create(e);return new Proxy(i,r)},d=e=>({addListener(t,n,...o){t.addListener(e.get(n),...o)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}}),p=new o((e=>"function"!=typeof e?e:function(t){const n=u(t,{},{getContent:{minArgs:0,maxArgs:0}});e(n)})),h=new o((e=>"function"!=typeof e?e:function(t,n,o){let i,a,s=!1,l=new Promise((e=>{i=function(t){s=!0,e(t)}}));try{a=e(t,n,i)}catch(e){a=Promise.reject(e)}const c=!0!==a&&r(a);if(!0!==a&&!c&&!s)return!1;const u=e=>{e.then((e=>{o(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",o({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)}))};return u(c?a:l),!0})),f=({reject:n,resolve:o},r)=>{e.runtime.lastError?e.runtime.lastError.message===t?o():n(new Error(e.runtime.lastError.message)):r&&r.__mozWebExtensionPolyfillReject__?n(new Error(r.message)):o(r)},g=(e,t,n,...o)=>{if(o.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${a(t.minArgs)} for ${e}(), got ${o.length}`);if(o.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${a(t.maxArgs)} for ${e}(), got ${o.length}`);return new Promise(((e,t)=>{const r=f.bind(null,{resolve:e,reject:t});o.push(r),n.sendMessage(...o)}))},m={devtools:{network:{onRequestFinished:d(p)}},runtime:{onMessage:d(h),onMessageExternal:d(h),sendMessage:g.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:g.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},y={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return n.privacy={network:{"*":y},services:{"*":y},websites:{"*":y}},u(e,m,n)};e.exports=n(chrome)}else e.exports=globalThis.browser},void 0===(r="function"==typeof n?n.apply(t,o):n)||(e.exports=r)},3154:(e,t,n)=>{var o;if("function"==typeof fetch&&(o=void 0!==n.g&&n.g.fetch?n.g.fetch:"undefined"!=typeof window&&window.fetch?window.fetch:fetch),"undefined"==typeof window||void 0===window.document){var r=o||n(4098);r.default&&(r=r.default),t.default=r,e.exports=t.default}}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var i=o[e]={exports:{}};return n[e].call(i.exports,i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"==typeof n.then)return n}var i=Object.create(null);r.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>n[e]));return a.default=()=>n,r.d(i,a),i},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};r.r(e),r.d(e,{body1:()=>Ln,body2:()=>Rn,button:()=>In,caption:()=>Mn,caption1Big:()=>jn,caption1Small:()=>Un,caption2Big:()=>Fn,caption2Small:()=>Bn,chip:()=>Hn,gutterBottom:()=>$n,h1:()=>qn,h2:()=>Vn,h3:()=>Wn,h4:()=>zn,h5:()=>Gn,h6:()=>Yn,inherit:()=>Kn,interaction:()=>Xn,noWrap:()=>Jn,overline:()=>Zn,paragraph:()=>Qn,primary:()=>eo,root:()=>to,secondary:()=>no,subtitle1:()=>oo,subtitle2:()=>ro,tag1:()=>io,tag2:()=>ao,textHint:()=>so,textPrimary:()=>lo,textSecondary:()=>co,voucherTitle:()=>uo,white:()=>po});var t,n,o,i,a,s,l,c,u={},d=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,h=Array.isArray;function f(e,t){for(var n in t)e[n]=t[n];return e}function g(e){var t=e.parentNode;t&&t.removeChild(e)}function m(e,n,o){var r,i,a,s={};for(a in n)"key"==a?r=n[a]:"ref"==a?i=n[a]:s[a]=n[a];if(arguments.length>2&&(s.children=arguments.length>3?t.call(arguments,2):o),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===s[a]&&(s[a]=e.defaultProps[a]);return y(e,s,r,i,null)}function y(e,t,r,i,a){var s={type:e,props:t,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==a?++o:a};return null==a&&null!=n.vnode&&n.vnode(s),s}function v(e){return e.children}function _(e,t){this.props=e,this.context=t}function b(e,t){if(null==t)return e.__?b(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?b(e):null}function w(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return w(e)}}function x(e){(!e.__d&&(e.__d=!0)&&i.push(e)&&!A.__r++||a!==n.debounceRendering)&&((a=n.debounceRendering)||s)(A)}function A(){var e,t,n,o,r,a,s,c,u;for(i.sort(l);e=i.shift();)e.__d&&(t=i.length,o=void 0,r=void 0,a=void 0,c=(s=(n=e).__v).__e,(u=n.__P)&&(o=[],r=[],(a=f({},s)).__v=s.__v+1,L(u,s,a,n.__n,void 0!==u.ownerSVGElement,null!=s.__h?[c]:null,o,null==c?b(s):c,s.__h,r),R(o,s,r),s.__e!=c&&w(s)),i.length>t&&i.sort(l));A.__r=0}function k(e,t,n,o,r,i,a,s,l,c,p){var f,g,m,_,w,x,A,k,S,O=0,T=o&&o.__k||d,P=T.length,D=P,R=t.length;for(n.__k=[],f=0;f<R;f++)null!=(_=n.__k[f]=null==(_=t[f])||"boolean"==typeof _||"function"==typeof _?null:"string"==typeof _||"number"==typeof _||"bigint"==typeof _?y(null,_,null,null,_):h(_)?y(v,{children:_},null,null,null):_.__b>0?y(_.type,_.props,_.key,_.ref?_.ref:null,_.__v):_)?(_.__=n,_.__b=n.__b+1,-1===(k=E(_,T,A=f+O,D))?m=u:(m=T[k]||u,T[k]=void 0,D--),L(e,_,m,r,i,a,s,l,c,p),w=_.__e,(g=_.ref)&&m.ref!=g&&(m.ref&&M(m.ref,null,_),p.push(g,_.__c||w,_)),null!=w&&(null==x&&(x=w),(S=m===u||null===m.__v)?-1==k&&O--:k!==A&&(k===A+1?O++:k>A?D>R-A?O+=k-A:O--:O=k<A&&k==A-1?k-A:0),A=f+O,"function"!=typeof _.type||k===A&&m.__k!==_.__k?"function"==typeof _.type||k===A&&!S?void 0!==_.__d?(l=_.__d,_.__d=void 0):l=w.nextSibling:l=N(e,w,l):l=C(_,l,e),"function"==typeof n.type&&(n.__d=l))):(m=T[f])&&null==m.key&&m.__e&&(m.__e==l&&(l=b(m)),j(m,m,!1),T[f]=null);for(n.__e=x,f=P;f--;)null!=T[f]&&("function"==typeof n.type&&null!=T[f].__e&&T[f].__e==n.__d&&(n.__d=T[f].__e.nextSibling),j(T[f],T[f]))}function C(e,t,n){for(var o,r=e.__k,i=0;r&&i<r.length;i++)(o=r[i])&&(o.__=e,t="function"==typeof o.type?C(o,t,n):N(n,o.__e,t));return t}function S(e,t){return t=t||[],null==e||"boolean"==typeof e||(h(e)?e.some((function(e){S(e,t)})):t.push(e)),t}function N(e,t,n){return null==n||n.parentNode!==e?e.insertBefore(t,null):t==n&&null!=t.parentNode||e.insertBefore(t,n),t.nextSibling}function E(e,t,n,o){var r=e.key,i=e.type,a=n-1,s=n+1,l=t[n];if(null===l||l&&r==l.key&&i===l.type)return n;if(o>(null!=l?1:0))for(;a>=0||s<t.length;){if(a>=0){if((l=t[a])&&r==l.key&&i===l.type)return a;a--}if(s<t.length){if((l=t[s])&&r==l.key&&i===l.type)return s;s++}}return-1}function O(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||p.test(t)?n:n+"px"}function T(e,t,n,o,r){var i;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof o&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||O(e.style,t,"");if(n)for(t in n)o&&n[t]===o[t]||O(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?o||e.addEventListener(t,i?D:P,i):e.removeEventListener(t,i?D:P,i);else if("dangerouslySetInnerHTML"!==t){if(r)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))}}function P(e){return this.l[e.type+!1](n.event?n.event(e):e)}function D(e){return this.l[e.type+!0](n.event?n.event(e):e)}function L(e,t,o,r,i,a,s,l,c,u){var d,p,g,m,y,b,w,x,A,C,S,N,E,O,T,P=t.type;if(void 0!==t.constructor)return null;null!=o.__h&&(c=o.__h,l=t.__e=o.__e,t.__h=null,a=[l]),(d=n.__b)&&d(t);e:if("function"==typeof P)try{if(x=t.props,A=(d=P.contextType)&&r[d.__c],C=d?A?A.props.value:d.__:r,o.__c?w=(p=t.__c=o.__c).__=p.__E:("prototype"in P&&P.prototype.render?t.__c=p=new P(x,C):(t.__c=p=new _(x,C),p.constructor=P,p.render=U),A&&A.sub(p),p.props=x,p.state||(p.state={}),p.context=C,p.__n=r,g=p.__d=!0,p.__h=[],p._sb=[]),null==p.__s&&(p.__s=p.state),null!=P.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=f({},p.__s)),f(p.__s,P.getDerivedStateFromProps(x,p.__s))),m=p.props,y=p.state,p.__v=t,g)null==P.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==P.getDerivedStateFromProps&&x!==m&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(x,C),!p.__e&&(null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(x,p.__s,C)||t.__v===o.__v)){for(t.__v!==o.__v&&(p.props=x,p.state=p.__s,p.__d=!1),t.__e=o.__e,t.__k=o.__k,t.__k.forEach((function(e){e&&(e.__=t)})),S=0;S<p._sb.length;S++)p.__h.push(p._sb[S]);p._sb=[],p.__h.length&&s.push(p);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(x,p.__s,C),null!=p.componentDidUpdate&&p.__h.push((function(){p.componentDidUpdate(m,y,b)}))}if(p.context=C,p.props=x,p.__P=e,p.__e=!1,N=n.__r,E=0,"prototype"in P&&P.prototype.render){for(p.state=p.__s,p.__d=!1,N&&N(t),d=p.render(p.props,p.state,p.context),O=0;O<p._sb.length;O++)p.__h.push(p._sb[O]);p._sb=[]}else do{p.__d=!1,N&&N(t),d=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++E<25);p.state=p.__s,null!=p.getChildContext&&(r=f(f({},r),p.getChildContext())),g||null==p.getSnapshotBeforeUpdate||(b=p.getSnapshotBeforeUpdate(m,y)),k(e,h(T=null!=d&&d.type===v&&null==d.key?d.props.children:d)?T:[T],t,o,r,i,a,s,l,c,u),p.base=t.__e,t.__h=null,p.__h.length&&s.push(p),w&&(p.__E=p.__=null)}catch(e){t.__v=null,(c||null!=a)&&(t.__e=l,t.__h=!!c,a[a.indexOf(l)]=null),n.__e(e,t,o)}else null==a&&t.__v===o.__v?(t.__k=o.__k,t.__e=o.__e):t.__e=I(o.__e,t,o,r,i,a,s,c,u);(d=n.diffed)&&d(t)}function R(e,t,o){for(var r=0;r<o.length;r++)M(o[r],o[++r],o[++r]);n.__c&&n.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){n.__e(e,t.__v)}}))}function I(e,n,o,r,i,a,s,l,c){var d,p,f,m=o.props,y=n.props,v=n.type,_=0;if("svg"===v&&(i=!0),null!=a)for(;_<a.length;_++)if((d=a[_])&&"setAttribute"in d==!!v&&(v?d.localName===v:3===d.nodeType)){e=d,a[_]=null;break}if(null==e){if(null===v)return document.createTextNode(y);e=i?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,y.is&&y),a=null,l=!1}if(null===v)m===y||l&&e.data===y||(e.data=y);else{if(a=a&&t.call(e.childNodes),p=(m=o.props||u).dangerouslySetInnerHTML,f=y.dangerouslySetInnerHTML,!l){if(null!=a)for(m={},_=0;_<e.attributes.length;_++)m[e.attributes[_].name]=e.attributes[_].value;(f||p)&&(f&&(p&&f.__html==p.__html||f.__html===e.innerHTML)||(e.innerHTML=f&&f.__html||""))}if(function(e,t,n,o,r){var i;for(i in n)"children"===i||"key"===i||i in t||T(e,i,null,n[i],o);for(i in t)r&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||T(e,i,t[i],n[i],o)}(e,y,m,i,l),f)n.__k=[];else if(k(e,h(_=n.props.children)?_:[_],n,o,r,i&&"foreignObject"!==v,a,s,a?a[0]:o.__k&&b(o,0),l,c),null!=a)for(_=a.length;_--;)null!=a[_]&&g(a[_]);l||("value"in y&&void 0!==(_=y.value)&&(_!==e.value||"progress"===v&&!_||"option"===v&&_!==m.value)&&T(e,"value",_,m.value,!1),"checked"in y&&void 0!==(_=y.checked)&&_!==e.checked&&T(e,"checked",_,m.checked,!1))}return e}function M(e,t,o){try{"function"==typeof e?e(t):e.current=t}catch(e){n.__e(e,o)}}function j(e,t,o){var r,i;if(n.unmount&&n.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||M(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){n.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&j(r[i],t,o||"function"!=typeof e.type);o||null==e.__e||g(e.__e),e.__=e.__e=e.__d=void 0}function U(e,t,n){return this.constructor(e,n)}function F(e,o,r){var i,a,s,l;n.__&&n.__(e,o),a=(i="function"==typeof r)?null:r&&r.__k||o.__k,s=[],l=[],L(o,e=(!i&&r||o).__k=m(v,null,[e]),a||u,u,void 0!==o.ownerSVGElement,!i&&r?[r]:a?null:o.firstChild?t.call(o.childNodes):null,s,!i&&r?r:a?a.__e:o.firstChild,i,l),R(s,e,l)}function B(e,t){F(e,t,B)}function H(e,n,o){var r,i,a,s,l=f({},e.props);for(a in e.type&&e.type.defaultProps&&(s=e.type.defaultProps),n)"key"==a?r=n[a]:"ref"==a?i=n[a]:l[a]=void 0===n[a]&&void 0!==s?s[a]:n[a];return arguments.length>2&&(l.children=arguments.length>3?t.call(arguments,2):o),y(e.type,l,r||e.key,i||e.ref,null)}function $(e,t){var n={__c:t="__cC"+c++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,o;return this.getChildContext||(n=[],(o={})[t]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some((function(e){e.__e=!0,x(e)}))},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}t=d.slice,n={__e:function(e,t,n,o){for(var r,i,a;t=t.__;)if((r=t.__c)&&!r.__)try{if((i=r.constructor)&&null!=i.getDerivedStateFromError&&(r.setState(i.getDerivedStateFromError(e)),a=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(e,o||{}),a=r.__d),a)return r.__E=r}catch(t){e=t}throw e}},o=0,_.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=f({},this.state),"function"==typeof e&&(e=e(f({},n),this.props)),e&&f(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),x(this))},_.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),x(this))},_.prototype.render=v,i=[],s="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,l=function(e,t){return e.__v.__b-t.__v.__b},A.__r=0,c=0;var q=0;function V(e,t,o,r,i,a){var s,l,c={};for(l in t)"ref"==l?s=t[l]:c[l]=t[l];var u={type:e,props:c,key:o,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--q,__source:i,__self:a};if("function"==typeof e&&(s=e.defaultProps))for(l in s)void 0===c[l]&&(c[l]=s[l]);return n.vnode&&n.vnode(u),u}var W={d:(e,t)=>{for(var n in t)W.o(t,n)&&!W.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},z={};W.d(z,{xw:()=>X,Yd:()=>We,Op:()=>Ve,JU:()=>qe,$3:()=>le,YH:()=>ce,PE:()=>Pe,vt:()=>rt,_x:()=>$e});let G=()=>{};function Y(e){G=e}const K={error:(e,t)=>G({level:"ERROR",message:e,stack:t instanceof Error&&t.stack||(new Error).stack||""}),info:e=>G({details:JSON.stringify(e),level:"INFO"}),perf:(e,t)=>G({label:e,level:"PERF",meta:t})};var X;function J(e){if(!e)throw new Error("Cannot parse amount from empty value");if("string"!=typeof e)throw new Error(`Cannot parse amount from "${typeof e}"`);if(!e.match(/\d/))throw new Error(`Amount not found in "${e}"`);let t=e.replace(/[^0-9,.]/g,"");t.match(/^\d{1,3}(?:\.\d{3})*(?:,\d{2})?$/)&&(t=t.replaceAll(".","").replace(",",".")),t.match(/^\d{1,3}(?:,\d{3})*(?:.\d{2})?$/)&&(t=t.replaceAll(",","")),(t.match(/^\d*(?:,\d{2})?$/)||t.match(/^\d*(?:,\d{1})?$/))&&(t=t.replaceAll(",","."));const n=parseFloat(t.replace(/([^0-9.])/g,"")),o=function(e){let t=null;function n(e){null!==t&&t!==e?K.error(`Amount has conflicting types: ${t} and ${e}`):t=e}return(e.includes("")||e.includes("EUR"))&&n(X.Euro),e.includes("$")&&(e.includes("R$")?n(X.Real):n(X.Dollar)),e.includes("")&&n(X.Pound),e.includes("%")&&n(X.Percent),(e.includes("z")||e.includes("PLN"))&&n(X.Zloty),(e.match(/\b\d*(kr)\d*\b/)||e.includes("SEK"))&&n(X.Krona),t}(e);return null!==o?{type:o,value:n}:{value:n}}!function(e){e.Dollar="$",e.Euro="",e.Percent="%",e.Pound="",e.Real="R$",e.Zloty="z",e.Krona="kr"}(X||(X={}));const Z="data-caa-text";function Q(e){try{const[,t=""]=e.split('"');return Object(JSON.parse(decodeURI(t)))}catch{return{}}}function ee(e){return Q(e)}const te=/[0-9.,]+/g;function ne(e){return e?e.normalize("NFC").replaceAll(te,""):null}function oe({innerText:e,tagName:t}){return function(e){try{return encodeURI(JSON.stringify(e))}catch(e){return K.error("Cannot encode a custom cssSelector: ",e),""}}({innerText:e,tagName:t})}function re(e){const{tagName:t,innerText:n}=Q(e);return e.includes(Z)&&"string"==typeof t&&"string"==typeof n}function ie(e){return re(e)}function ae(e){const t=Array.from(document.querySelectorAll(e));return re(e)?t.length>0?t.filter((n=e,function(e){const{tagName:t,innerText:o}=ee(n);return e.tagName===t&&ne(e.innerText)===ne(o)})):function(e){const{tagName:t,innerText:n}=ee(e);return Array.from(document.getElementsByTagName(t)).filter((e=>e instanceof HTMLElement)).filter((e=>ne(e.innerText)===ne(n))).map((e=>(e.setAttribute(Z,oe(e)),e)))}(e):[];var n}function se(e){try{if(ie(e)){const[t=null]=ae(e);return t}return document.querySelector(e)}catch(t){return K.error(`Cannot find the element in the DOM with the selector="${e}":`,t),null}}function le(e){try{return ie(e)?ae(e):Array.from(document.querySelectorAll(e))}catch(t){return K.error(`Cannot find elements in the DOM with the selector="${e}":`,t),[]}}function ce(e){const t=function(e){return`[${Z}="${oe(e)}"]`}(e);return 1===le(t).length?t:null}const ue=function(){try{return"object"==typeof browser&&null!==browser&&"runtime"in browser?browser:chrome}catch{return console.warn("[CAA-ENGINE]: not running in a DOM environment, the browser object is not defined."),{}}}();var de,pe;async function he(e=500){return new Promise((t=>setTimeout(t,e)))}function fe(e,t){return"object"==typeof e&&null!==e&&t in e}function ge(e){return!fe(e,"disabled")||!e.disabled}function me(e){return!!ge(e)&&"none"!==window.getComputedStyle(e).getPropertyValue("pointer-events")}function ye(e){if(e.hidden)return!1;const t=window.getComputedStyle(e);return"hidden"!==t.getPropertyValue("visibility")&&"0"!==t.getPropertyValue("opacity")&&"none"!==t.getPropertyValue("display")&&0!==e.offsetWidth&&0!==e.offsetHeight}function ve(e){return ge(e)&&me(e)&&ye(e)}function _e(e){return"INPUT"!==e.tagName&&!e.innerHTML.length}!function(e){e.GetPageState="caa-get-page-state",e.ApplyCode="caa-apply-code",e.RemoveCode="caa-remove-code"}(de||(de={})),function(e){e.Reloading="Reloading",e.Done="Done",e.UnhandledError="UnhandledError",e.Timeout="Timeout",e.NoRequiredSelectorsProvided="NoRequiredSelectorsProvided",e.ApplyAndRemoveButtonsHaveSameSelector="ApplyAndRemoveButtonsHaveSameSelector"}(pe||(pe={}));const be=1e3;function we(e=.5){return new Promise((t=>setTimeout(t,e*be)))}function xe(e){e.dispatchEvent(new PointerEvent("pointerdown",{bubbles:!0,pointerType:"mouse"})),e.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),e.dispatchEvent(new PointerEvent("pointerup",{bubbles:!0,pointerType:"mouse"})),e.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0})),e.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0}))}async function Ae(e,t=0,n=0){if(!e.closeModal)return;if(t>=4)throw pe.Timeout;const o=se(e.closeModal);if(!o||!ve(o)){if(t>0||n>=4)return;return await he(),Ae(e,t,n+1)}return K.info("Trying to close modal"),xe(o),await he(),Ae(e,t+1)}function ke(e){const t=e&&se(e);return!!t&&ye(t)}function Ce(e){return e.loading?function(e){const t={bodyObserver:null,isLoading:ke(e)};return[new Promise((n=>{t.bodyObserver=new MutationObserver((()=>{ke(e)?t.isLoading=!0:t.isLoading&&n()})),t.bodyObserver.observe(document.body,{attributes:!0,childList:!0,subtree:!0})})),()=>t.bodyObserver?.disconnect()]}(e.loading):[void 0,()=>{}]}function Se(e){const[t,n]=function(e){const t={pending:!0};return[(async()=>{for(let n=0;n<4;n++){const n=[e.error,e.removeButton,e.appliedCode];if(!t.pending||n.some(ke))break;K.info("Waiting for feedback"),await we()}})(),()=>{t.pending=!1}]}(e),[o,r]=Ce(e),i=[t,o].filter(Boolean),a=[n,r];return Promise.race(i).finally((()=>{a.forEach((e=>e()))}))}function Ne(e,t){const n=se(e);return!!(n&&(o=n,fe(o,"value")&&ve(o)))&&(K.info("Trying to fill in the code"),function(e,t){const{value:n}=e;if(e.value=t,fe(e,"_valueTracker")&&e._valueTracker){const t=e._valueTracker;fe(t,"setValue")&&"function"==typeof t.setValue&&t.setValue(n)}e.dispatchEvent(new KeyboardEvent("keydown",{bubbles:!0})),e.dispatchEvent(new KeyboardEvent("keypress",{bubbles:!0})),e.dispatchEvent(new KeyboardEvent("input",{bubbles:!0})),e.dispatchEvent(new KeyboardEvent("keyup",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0}))}(n,t),!0);var o}function Ee(e){const t=se(e);return!(!t||!ve(t)||(K.info("Trying to submit the code"),xe(t),0))}async function Oe(e,t){for(let n=0;n<10&&!(e.couponInput&&Ne(e.couponInput,t)&&(await he(),e.applyButton&&Ee(e.applyButton)));n++);}function Te(e){switch(e){case pe.Reloading:return pe.Reloading;case pe.Timeout:return pe.Timeout;case pe.NoRequiredSelectorsProvided:return pe.NoRequiredSelectorsProvided;default:return pe.UnhandledError}}function Pe(e){const t=e.toLowerCase().replace(/^https?:\/\//,"").replace(/:\d+.*/,"").replace(/(:|\/|\?|#).*/,"");if(!/[a-z0-9-.]+/.test(t))throw new Error(`Cannot get main domain from ${e}`);const[n,o,r]=t.split(".").reverse();if("localhost"===n)return n;if(!n||n.length<2)throw new Error(`Wrong root domain "${n}" in ${e}`);if(!o)throw new Error(`Unknown main domain "${o}" in ${e}`);if(!["co.uk","co.za","com.au","com.de","org.uk","uk.com","com.br","com.pl","com.nl","com.mx","com.at","co.at","com.se"].includes(`${o}.${n}`))return`${o}.${n}`;if(!r)throw new Error(`Unknown main domain "${r}" in ${e}`);return`${r}.${o}.${n}`}var De;function Le(e){try{if(!e)return{html:"",isClickable:!1,isEmpty:!0,isEnabled:!1,isVisible:!1,multipleMatches:!1,result:De.NoSelectorProvided};const t=le(e),[n]=t;return n?{html:n.outerHTML,isClickable:Boolean(t.filter(me).length),isEmpty:_e(n),isEnabled:Boolean(t.filter(ge).length),isVisible:Boolean(t.filter(ye).length),multipleMatches:t.length>1,result:De.ElementFound}:{html:"",isClickable:!1,isEmpty:!0,isEnabled:!1,isVisible:!1,multipleMatches:!1,result:De.NoElementsFound}}catch(e){return e instanceof Error&&"SyntaxError"===e.name?(K.error(De.InvalidCSSSelector,e),{html:"",isClickable:!1,isEmpty:!0,isEnabled:!1,isVisible:!1,multipleMatches:!1,result:De.InvalidCSSSelector}):(K.error(De.Unhandled,e),{html:"",isClickable:!1,isEmpty:!0,isEnabled:!1,isVisible:!1,multipleMatches:!1,result:De.Unhandled})}}function Re(e){if(!e)return!1;const t=e.totalAmount?le(e.totalAmount):[],n=e.couponInput?le(e.couponInput).filter(ve):[],o=e.applyButton?le(e.applyButton).filter(ye):[],r=e.showFormButton?le(e.showFormButton).filter(ve):[];return Boolean(n.length)&&Boolean(o.length)&&Boolean(t.length)||Boolean(t.length)&&Boolean(r.length)}function Ie(e){if(!e||!e.removeButton)return!1;const t=le(e.removeButton).filter(ve);return Boolean(t.length)}function Me(e){try{if(!e)return{html:"",isEmpty:!0,isVisible:!1,multipleMatches:!1,result:De.NoSelectorProvided};const t=le(e),[n]=t;return n?{amount:J(n.innerText),html:n.outerHTML,isEmpty:_e(n),isVisible:Boolean(t.filter(ye).length),multipleMatches:t.length>1,result:De.ElementFound}:{html:"",isEmpty:!0,isVisible:!1,multipleMatches:!1,result:De.NoElementsFound}}catch(e){return e instanceof Error&&"SyntaxError"===e.name?(K.error(De.InvalidCSSSelector,e),{html:"",isEmpty:!0,isVisible:!1,multipleMatches:!1,result:De.InvalidCSSSelector}):(K.error(De.Unhandled,e),{html:"",isEmpty:!0,isVisible:!1,multipleMatches:!1,result:De.Unhandled})}}function je(e){try{if(!e)return{html:"",isEmpty:!0,isVisible:!1,multipleMatches:!1,result:De.NoSelectorProvided,value:""};const t=le(e),[n]=t;return n?{html:n.outerHTML,isEmpty:_e(n),isVisible:Boolean(t.filter(ye).length),multipleMatches:t.length>1,result:De.ElementFound,value:n.innerHTML}:{html:"",isEmpty:!0,isVisible:!1,multipleMatches:!1,result:De.NoElementsFound,value:""}}catch(e){return e instanceof Error&&"SyntaxError"===e.name?(K.error(De.InvalidCSSSelector,e),{html:"",isEmpty:!0,isVisible:!1,multipleMatches:!1,result:De.InvalidCSSSelector,value:""}):(K.error(De.Unhandled,e),{html:"",isEmpty:!0,isVisible:!1,multipleMatches:!1,result:De.Unhandled,value:""})}}function Ue(){return window.location.href}!function(e){e.ElementFound="ElementFound",e.NoSelectorProvided="NoSelectorProvided",e.Unhandled="Unhandled",e.NoElementsFound="NoElementsFound",e.InvalidCSSSelector="InvalidCSSSelector",e.NoConfigProvided="NoConfigProvided"}(De||(De={}));const Fe={applyCode:async function(e,t){return new Promise((n=>{const o=()=>{K.info("Page is about to reload."),n({type:pe.Reloading})};(async()=>{try{if(!e.couponInput||!e.applyButton)throw pe.NoRequiredSelectorsProvided;K.info(`Preparing to apply code: ${t}`),window.addEventListener("beforeunload",o),await async function(e){if(e.showFormButton){for(let t=0;t<4;t++){const t=e.couponInput&&se(e.couponInput);if(t&&ve(t))return;const n=se(e.showFormButton);n&&ve(n)&&(K.info("Trying to show the coupon form"),xe(n)),await he()}throw pe.Timeout}}(e),await Oe(e,t),await Se(e),await Ae(e),K.info(`Code: ${t} applied.`),n({type:pe.Done})}catch(e){const o=Te(e);K.error(`Failed to apply code: ${t} -- ${o}`,e),n({type:o})}finally{window.removeEventListener("beforeunload",o),K.info("beforeunload listener removed.")}})()}))},getPageState:async function(e){return{amounts:{discount:Me(e.discountAmount),subtotal:Me(e.subtotalAmount),total:Me(e.totalAmount)},coupon:{appliedCode:je(e.appliedCode),canApply:Re(e),canRemove:Ie(e)},currentUrl:Ue(),elements:{applyButton:Le(e.applyButton),closeModal:Le(e.closeModal),couponInput:Le(e.couponInput),error:Le(e.error),loading:Le(e.loading),removeButton:Le(e.removeButton),showFormButton:Le(e.showFormButton)},mainDomain:Pe(Ue())}},removeCode:async function(e){let t=!1;try{if(!e.removeButton)throw pe.NoRequiredSelectorsProvided;if(e.removeButton===e.applyButton)throw pe.ApplyAndRemoveButtonsHaveSameSelector;return K.info("Trying to remove applied code."),window.addEventListener("beforeunload",n),await async function n(o=0){if(o>=4)throw pe.Timeout;if(t)throw pe.Reloading;if(!e.removeButton)return;const r=se(e.removeButton);return r&&ve(r)?(xe(r),K.info("Waiting for coupon is removed"),await he(),n(o+1)):void 0}(),K.info("Code removed."),{type:pe.Done}}catch(e){let t;switch(K.error("Failed to remove the code",e),e){case pe.Reloading:t=pe.Reloading;break;case pe.ApplyAndRemoveButtonsHaveSameSelector:t=pe.ApplyAndRemoveButtonsHaveSameSelector;break;default:t=pe.UnhandledError}return{type:t}}finally{window.removeEventListener("beforeunload",n),K.info("beforeunload listener removed.")}function n(){K.info("Page is about to reload."),t=!0}}},Be={applyCode:async function(e,t){return new Promise((n=>{const o=()=>{K.info("Page is about to reload."),n({type:pe.Reloading})};(async()=>{try{if(!e.couponInput||!e.applyButton)throw pe.NoRequiredSelectorsProvided;K.info(`Preparing to apply code: ${t}`),window.addEventListener("beforeunload",o),await function(e,t){return"/br/checkout/"===e.urlPattern?async function(e,t){await Oe(e,t),await Se(e)}(e,t):function(e,t){const[n,o]=Ce(e);for(let r=0;r<10;r++)if(e.couponInput&&Ne(e.couponInput,t)){const t=[n,he(2e3)].filter(Boolean);return Promise.race(t).then((()=>{e.applyButton&&Ee(e.applyButton)})).finally((()=>{o()}))}return Promise.resolve()}(e,t)}(e,t),K.info(`Code: ${t} applied.`),n({type:pe.Done})}catch(e){const o=Te(e);K.error(`Failed to apply code: ${t} -- ${o}`,e),n({type:o})}finally{window.removeEventListener("beforeunload",o),K.info("beforeunload listener removed.")}})()}))},getPageState:Fe.getPageState,removeCode:Fe.removeCode};function He(e){return"samsung.com"===e.domain?Be:Fe}function $e({logger:e=(()=>{})}={}){ue.runtime.onMessage.addListener(((t,n,o)=>{switch(Y(e),t.type){case de.GetPageState:{const{getPageState:e}=He(t.config);return e(t.config).then(o),!0}case de.ApplyCode:{const{applyCode:e}=He(t.config);return e(t.config,t.code).then(o),!0}case de.RemoveCode:{const{removeCode:e}=He(t.config);return e(t.config).then(o),!0}}}))}var qe,Ve,We,ze;!function(e){e.Discount="Discount",e.Invalid="Invalid"}(qe||(qe={})),function(e){e.TryCodes="caa-try-codes",e.Stop="caa-stop",e.GetPageState="caa-get-page-state"}(Ve||(Ve={})),function(e){e.CodeTested="caa-code-tested"}(We||(We={})),function(e){e.PageLoaded="caa-page-loaded"}(ze||(ze={}));const Ge=1e4,Ye=200;async function Ke(e,t,n){return new Promise((async o=>{let r=!1;const i=setTimeout((()=>{r=!0,o(null)}),Ge);for(;!r;){try{const r=await ue.tabs.sendMessage(e,{config:t,type:de.GetPageState});if(r&&(!n||n(r)))return clearTimeout(i),void o(r)}catch(e){K.error("get caa page state",e)}await he(Ye)}}))}async function Xe(e,t,n){const o=await Ke(e,n,(e=>!!e?.amounts.total.amount));if(!o)return{...t,type:qe.Invalid};let r=o.amounts.total.amount;if(o.elements.removeButton.isClickable){try{await async function(e,t){let n=10;try{await ue.tabs.sendMessage(e,{config:t,type:de.RemoveCode})}catch(e){K.error("remove caa-engine error",e)}for(;n>0;){n--;const o=await Ke(e,t);if(o){if(!o.elements.removeButton.isVisible)return;await he(200)}}if(!n)throw new Error("remove code is not removed")}(e,n)}catch(e){return K.error("remove code caa-background",e),{...t,type:qe.Invalid}}const o=await Ke(e,n);if(!o)return{...t,type:qe.Invalid};!o.elements.removeButton.isVisible&&o.amounts.total.amount&&(r=o.amounts.total.amount)}try{const o=await ue.tabs.sendMessage(e,{code:t.code,config:n,type:de.ApplyCode});K.info({codeApplicationResult:o})}catch(e){K.error("apply code caa-from-content",e)}let i=10;for(;i>0;){i--;const o=await Ke(e,n,(e=>!!e?.amounts.total.amount));if(!o){await he(Ye);continue}const a=o.amounts.total.amount;if(r&&a&&a.value<r.value)return{...t,initialTotal:r,totalWithDiscount:a,type:qe.Discount};await he(Ye)}return K.info("timeout handleApplyProcess"),{...t,type:qe.Invalid}}const Je=new Map;async function Ze(e,t){const n=Pe(e),o=new URL(e).pathname,r=await t(n),i=await async function(e,t){const n=Je.get(e);if(n?.length)return n;const o=await fetch(t).then((e=>e.json())).then(Qe).catch((()=>[]));return Je.set(e,o),o}(n,r).then(et);let a=null,s=null;for(const e of i)e.urlPattern?new RegExp(e.urlPattern).test(o)&&(s=e):a=e;if(s)return s;if(a)return a;throw new Error(`No config found for ${n}`)}function Qe(e){const t=e,n=[];for(const e of t.configs){const t=e;t.data&&(t.disabled||n.push({appliedCode:t.data.appliedCode||void 0,applyButton:t.data.applyButton||void 0,applyType:t.data.applyType||void 0,closeModal:t.data.closeModal||void 0,couponInput:t.data.couponInput||void 0,discountAmount:t.data.discountAmount||void 0,domain:t.data.domain||"",error:t.data.error||void 0,loading:t.data.loading||void 0,removeButton:t.data.removeButton||void 0,showFormButton:t.data.showFormButton||void 0,subtotalAmount:t.data.subtotalAmount||void 0,totalAmount:t.data.totalAmount||void 0,urlPattern:t.data.urlPattern||void 0}))}return n}function et(e){return e.sort(((e,t)=>e.urlPattern?t.urlPattern?e.urlPattern.length-t.urlPattern.length:1:-1))}class tt{active;testedCodes=new Map;constructor(){this.active=!0}get isActive(){return this.active}stop(){this.active=!1}addTestedCode(e,t){this.testedCodes.set(e,t)}getTestedCode(e){return this.testedCodes.get(e)}}function nt(e){return e.code.trim().length&&!/\s/.test(e.code.trim())}const ot=new Map;function rt({getUnifiedConfigUrl:e,logger:t=(()=>()=>{})}){ue.runtime.onMessage.addListener(((n,o,r)=>{const i=o.tab?.id,a=o.tab?.url;if(void 0!==i)if(Y(t(i)),void 0!==a)switch(n.type){case ze.PageLoaded:return void K.info({message:n,tabId:i});case Ve.Stop:return K.info({message:n,tabId:i}),ot.get(i)?.stop(),void K.info("stopping CAA for tab"+i);case Ve.TryCodes:return K.info({message:n,tabId:i}),void async function(e,t,n,{codes:o,cacheDuplicates:r=!1,validateCodes:i=!1,minDelay:a=1e3,config:s}){let l;try{l=s||await Ze(t,n)}catch(e){return void K.error("Cannot get config for "+t,e)}K.info("starting CAA for tab "+e);const c=new tt;ot.set(e,c);for(const t of o){if(!c.isActive)break;const n=c.getTestedCode(t.code);if(r&&n){await he(a),await it(e,{...n,...t});continue}if(i&&!nt(t)){await he(a),await it(e,{...t,type:qe.Invalid});continue}const o=(new Date).getTime(),s=await Xe(e,t,l);K.perf(t.code+" tested in: ",{code:t.code,timeSpent:(new Date).getTime()-o}),c.addTestedCode(t.code,s),await it(e,s)}ot.delete(e)}(i,a,e,n);case Ve.GetPageState:return K.info({message:n,tabId:i}),async function(e,t,n,o){let r;if(o)r=o;else try{r=await Ze(t,n)}catch(e){return void K.error("No config exists for: "+t,e)}const i=await Ke(e,r);return K.info({pageState:i,tabId:e}),i}(i,a,e,n.config).then(r),!0}else K.error("No tabUrl provided for "+i);else console.warn("No tabId provided")}))}async function it(e,t){K.info({code:t,info:"sending tried code",tabId:e});const n={code:t,type:We.CodeTested};let o=!1;for(let r=0;r<10;r++){try{await at(e),o=await ue.tabs.sendMessage(e,n)}catch(n){K.info({code:t,info:"Tried code not received by the tab.",tabId:e})}if(o)break;await he(200)}if(!o)throw new Error(`Cannot send tried code to the browser tab. code: ${t.code} , tabId: ${e}`)}async function at(e){let t=10;for(;t--;){if("complete"===(await ue.tabs.get(e)).status)return;await he(100)}}var st,lt,ct,ut=z.xw,dt=z.Yd,pt=z.Op,ht=z.JU,ft=z._x;!function(e){e.Light="light",e.Dark="dark"}(st||(st={})),function(e){e.Bing="bing",e.Google="google",e.Ecosia="ecosia",e.Qwant="qwant",e.Yahoo="yahoo"}(lt||(lt={})),function(e){e.analytics="analytics",e.checked="serpChecked",e.partnerName="partnerName"}(ct||(ct={}));const gt=[{container:{insertTo:"",link:"div > a, div > span > a",parent:".yuRUbf"},name:lt.Google,regex:/https?:\/\/www\.google\.(com|fr|de|es|pl|at|be|nl|uk|mx|it|ru)/},{container:{insertTo:"h2",link:"h2 > a",parent:"#b_results li.b_algo"},name:lt.Bing,regex:/https?:\/\/www\.bing\.com/},{container:{insertTo:"",link:"h3 > a",parent:"#web .relsrch > div:first-of-type"},name:lt.Yahoo,regex:/https?:\/\/\w*\.?search\.yahoo\.com/},{container:{insertTo:".result__header",link:".result__title > a",parent:".result__body"},name:lt.Ecosia,regex:/https?:\/\/\w*\.ecosia\.org/},{container:{insertTo:"",link:"a[data-testid=serTitle]",parent:"div[data-testid=webResult] > div > div > div > div:first-of-type > div"},name:lt.Qwant,regex:/https?:\/\/\w*\.qwant\.com/}];const mt=new class{searchEngineConfig;renderUI;sendAnalytics;theme=st.Light;init(e,t){this.renderUI=e,this.sendAnalytics=t;const n=this.#e();n&&(this.searchEngineConfig=n,this.theme=this.#t(),this.#n(),this.#o())}#n(){setTimeout((()=>{this.#r(),this.#n()}),1e3)}#o(){setTimeout((()=>{this.#i(),this.#o()}),1e3)}#t(){const e=document.querySelector("body"),t=e&&window.getComputedStyle(e).backgroundColor;return t&&!1===["rgba(0, 0, 0, 0)","rgb(255, 255, 255)"].includes(t)?st.Dark:st.Light}#e(){const e=window.location.href;return gt.find((t=>t.regex.test(e)))}#a(e){const t=e.getBoundingClientRect();return(0!==t.width||0!==t.height)&&(t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth))}insertElementTo(e,t){switch(this.searchEngineConfig.name){case lt.Bing:case lt.Ecosia:case lt.Google:case lt.Qwant:case lt.Yahoo:}e.append(t)}#s(e){switch(this.searchEngineConfig.name){case lt.Bing:case lt.Ecosia:case lt.Google:case lt.Qwant:case lt.Yahoo:}return e.lastChild}#r(){const e=document.querySelectorAll(this.searchEngineConfig.container.parent);if(0!==e.length)try{e.forEach((e=>{const t=e.querySelector(this.searchEngineConfig.container.link),n=""!==this.searchEngineConfig.container.insertTo?e.querySelector(this.searchEngineConfig.container.insertTo):e;if(t&&n&&!t.dataset[ct.checked]){t.dataset[ct.checked]="1";const e=this.#s(n);e?.dataset[ct.partnerName]||this.renderUI(t,this.theme,this.searchEngineConfig?.name,n)}}))}catch(e){console.warn(e)}}#l(e){this.#a(e)&&!e.dataset[ct.analytics]&&(e.dataset[ct.analytics]="1",e.dataset[ct.partnerName]&&this.sendAnalytics(e.dataset[ct.partnerName]))}#i(){document.querySelectorAll("[data-partner-name]").forEach((e=>{this.#l(e)}))}};class yt{areaName;constructor(e){this.areaName=e}async get(e){if(3===chrome.runtime.getManifest().manifest_version){const t=await this.getStorage().get([e]);return t?.[e]??null}return new Promise((t=>{this.getStorage().get([e],(n=>t(n?.[e]??null)))}))}async remove(e){return 3===chrome.runtime.getManifest().manifest_version?this.getStorage().remove(e):new Promise((t=>{this.getStorage().remove(e,(()=>t()))}))}async set(e,t){return 3===chrome.runtime.getManifest().manifest_version?this.getStorage().set({[e]:t}):new Promise((n=>{this.getStorage().set({[e]:t},(()=>n()))}))}onChanged=(e,t)=>{chrome.storage.onChanged.addListener(((n,o)=>{o===this.areaName&&n[e]&&t(n[e].newValue,n[e].oldValue)}))};getStorage(){return chrome.storage[this.areaName]}}const vt=new class extends yt{constructor(){super("local")}},_t=new class extends yt{constructor(){super("session")}};var bt,wt,xt,At,kt=0,Ct=[],St=[],Nt=n.__b,Et=n.__r,Ot=n.diffed,Tt=n.__c,Pt=n.unmount;function Dt(e,t){n.__h&&n.__h(wt,e,kt||t),kt=0;var o=wt.__H||(wt.__H={__:[],__h:[]});return e>=o.__.length&&o.__.push({__V:St}),o.__[e]}function Lt(e){return kt=1,Rt(Gt,e)}function Rt(e,t,n){var o=Dt(bt++,2);if(o.t=e,!o.__c&&(o.__=[n?n(t):Gt(void 0,t),function(e){var t=o.__N?o.__N[0]:o.__[0],n=o.t(t,e);t!==n&&(o.__N=[n,o.__[1]],o.__c.setState({}))}],o.__c=wt,!wt.u)){var r=function(e,t,n){if(!o.__c.__H)return!0;var r=o.__c.__H.__.filter((function(e){return e.__c}));if(r.every((function(e){return!e.__N})))return!i||i.call(this,e,t,n);var a=!1;return r.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(a=!0)}})),!(!a&&o.__c.props===e)&&(!i||i.call(this,e,t,n))};wt.u=!0;var i=wt.shouldComponentUpdate,a=wt.componentWillUpdate;wt.componentWillUpdate=function(e,t,n){if(this.__e){var o=i;i=void 0,r(e,t,n),i=o}a&&a.call(this,e,t,n)},wt.shouldComponentUpdate=r}return o.__N||o.__}function It(e,t){var o=Dt(bt++,3);!n.__s&&zt(o.__H,t)&&(o.__=e,o.i=t,wt.__H.__h.push(o))}function Mt(e,t){var o=Dt(bt++,4);!n.__s&&zt(o.__H,t)&&(o.__=e,o.i=t,wt.__h.push(o))}function jt(e){return kt=5,Ut((function(){return{current:e}}),[])}function Ut(e,t){var n=Dt(bt++,7);return zt(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function Ft(e,t){return kt=8,Ut((function(){return e}),t)}function Bt(e){var t=wt.context[e.__c],n=Dt(bt++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(wt)),t.props.value):e.__}function Ht(){for(var e;e=Ct.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Vt),e.__H.__h.forEach(Wt),e.__H.__h=[]}catch(t){e.__H.__h=[],n.__e(t,e.__v)}}n.__b=function(e){wt=null,Nt&&Nt(e)},n.__r=function(e){Et&&Et(e),bt=0;var t=(wt=e.__c).__H;t&&(xt===wt?(t.__h=[],wt.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=St,e.__N=e.i=void 0}))):(t.__h.forEach(Vt),t.__h.forEach(Wt),t.__h=[],bt=0)),xt=wt},n.diffed=function(e){Ot&&Ot(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==Ct.push(t)&&At===n.requestAnimationFrame||((At=n.requestAnimationFrame)||qt)(Ht)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==St&&(e.__=e.__V),e.i=void 0,e.__V=St}))),xt=wt=null},n.__c=function(e,t){t.some((function(e){try{e.__h.forEach(Vt),e.__h=e.__h.filter((function(e){return!e.__||Wt(e)}))}catch(o){t.some((function(e){e.__h&&(e.__h=[])})),t=[],n.__e(o,e.__v)}})),Tt&&Tt(e,t)},n.unmount=function(e){Pt&&Pt(e);var t,o=e.__c;o&&o.__H&&(o.__H.__.forEach((function(e){try{Vt(e)}catch(e){t=e}})),o.__H=void 0,t&&n.__e(t,o.__v))};var $t="function"==typeof requestAnimationFrame;function qt(e){var t,n=function(){clearTimeout(o),$t&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(n,100);$t&&(t=requestAnimationFrame(n))}function Vt(e){var t=wt,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),wt=t}function Wt(e){var t=wt;e.__c=e.__(),wt=t}function zt(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function Gt(e,t){return"function"==typeof t?t(e):t}function Yt(e,t){for(var n in t)e[n]=t[n];return e}function Kt(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var o in t)if("__source"!==o&&e[o]!==t[o])return!0;return!1}function Xt(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}function Jt(e){this.props=e}(Jt.prototype=new _).isPureReactComponent=!0,Jt.prototype.shouldComponentUpdate=function(e,t){return Kt(this.props,e)||Kt(this.state,t)};var Zt=n.__b;n.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Zt&&Zt(e)};var Qt="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function en(e){function t(t){var n=Yt({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=Qt,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var tn=function(e,t){return null==e?null:S(S(e).map(t))},nn={map:tn,forEach:tn,count:function(e){return e?S(e).length:0},only:function(e){var t=S(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:S},on=n.__e;n.__e=function(e,t,n,o){if(e.then)for(var r,i=t;i=i.__;)if((r=i.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t);on(e,t,n,o)};var rn=n.unmount;function an(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=Yt({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return an(e,t,n)}))),e}function sn(e,t,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return sn(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function ln(){this.__u=0,this.t=null,this.__b=null}function cn(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function un(){this.u=null,this.o=null}n.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),rn&&rn(e)},(ln.prototype=new _).__c=function(e,t){var n=t.__c,o=this;null==o.t&&(o.t=[]),o.t.push(n);var r=cn(o.__v),i=!1,a=function(){i||(i=!0,n.__R=null,r?r(s):s())};n.__R=a;var s=function(){if(! --o.__u){if(o.state.__a){var e=o.state.__a;o.__v.__k[0]=sn(e,e.__c.__P,e.__c.__O)}var t;for(o.setState({__a:o.__b=null});t=o.t.pop();)t.forceUpdate()}},l=!0===t.__h;o.__u++||l||o.setState({__a:o.__b=o.__v.__k[0]}),e.then(a,a)},ln.prototype.componentWillUnmount=function(){this.t=[]},ln.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=an(this.__b,n,o.__O=o.__P)}this.__b=null}var r=t.__a&&m(v,null,e.fallback);return r&&(r.__h=null),[m(v,null,t.__a?null:e.children),r]};var dn=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function pn(e){return this.getChildContext=function(){return e.context},e.children}function hn(e){var t=this,n=e.i;t.componentWillUnmount=function(){F(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),F(m(pn,{context:t.context},e.__v),t.l)}(un.prototype=new _).__a=function(e){var t=this,n=cn(t.__v),o=t.o.get(e);return o[0]++,function(r){var i=function(){t.props.revealOrder?(o.push(r),dn(t,e,o)):r()};n?n(i):i()}},un.prototype.render=function(e){this.u=null,this.o=new Map;var t=S(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},un.prototype.componentDidUpdate=un.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){dn(e,n,t)}))};var fn="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,gn=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,mn=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,yn=/[A-Z0-9]/g,vn="undefined"!=typeof document,_n=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};_.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(_.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var bn=n.event;function wn(){}function xn(){return this.cancelBubble}function An(){return this.defaultPrevented}n.event=function(e){return bn&&(e=bn(e)),e.persist=wn,e.isPropagationStopped=xn,e.isDefaultPrevented=An,e.nativeEvent=e};var kn,Cn={enumerable:!1,configurable:!0,get:function(){return this.class}},Sn=n.vnode;n.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,o={};for(var r in t){var i=t[r];if(!("value"===r&&"defaultValue"in t&&null==i||vn&&"children"===r&&"noscript"===n||"class"===r||"className"===r)){var a=r.toLowerCase();"defaultValue"===r&&"value"in t&&null==t.value?r="value":"download"===r&&!0===i?i="":"ondoubleclick"===a?r="ondblclick":"onchange"!==a||"input"!==n&&"textarea"!==n||_n(t.type)?"onfocus"===a?r="onfocusin":"onblur"===a?r="onfocusout":mn.test(r)?r=a:-1===n.indexOf("-")&&gn.test(r)?r=r.replace(yn,"-$&").toLowerCase():null===i&&(i=void 0):a=r="oninput","oninput"===a&&o[r=a]&&(r="oninputCapture"),o[r]=i}}"select"==n&&o.multiple&&Array.isArray(o.value)&&(o.value=S(t.children).forEach((function(e){e.props.selected=-1!=o.value.indexOf(e.props.value)}))),"select"==n&&null!=o.defaultValue&&(o.value=S(t.children).forEach((function(e){e.props.selected=o.multiple?-1!=o.defaultValue.indexOf(e.props.value):o.defaultValue==e.props.value}))),t.class&&!t.className?(o.class=t.class,Object.defineProperty(o,"className",Cn)):(t.className&&!t.class||t.class&&t.className)&&(o.class=o.className=t.className),e.props=o}(e),e.$$typeof=fn,Sn&&Sn(e)};var Nn=n.__r;n.__r=function(e){Nn&&Nn(e),kn=e.__c};var En=n.diffed;n.diffed=function(e){En&&En(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value),kn=null};var On={ReactCurrentDispatcher:{current:{readContext:function(e){return kn.__n[e.__c].props.value}}}};function Tn(e){return!!e&&e.$$typeof===fn}function Pn(e){e()}var Dn={useState:Lt,useId:function(){var e=Dt(bt++,11);if(!e.__){for(var t=wt.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__},useReducer:Rt,useEffect:It,useLayoutEffect:Mt,useInsertionEffect:Mt,useTransition:function(){return[!1,Pn]},useDeferredValue:function(e){return e},useSyncExternalStore:function(e,t){var n=t(),o=Lt({h:{__:n,v:t}}),r=o[0].h,i=o[1];return Mt((function(){r.__=n,r.v=t,Xt(r.__,t())||i({h:r})}),[e,n,t]),It((function(){return Xt(r.__,r.v())||i({h:r}),e((function(){Xt(r.__,r.v())||i({h:r})}))}),[e]),n},startTransition:Pn,useRef:jt,useImperativeHandle:function(e,t,n){kt=6,Mt((function(){return"function"==typeof e?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0}),null==n?n:n.concat(e))},useMemo:Ut,useCallback:Ft,useContext:Bt,useDebugValue:function(e,t){n.useDebugValue&&n.useDebugValue(t?t(e):e)},version:"17.0.2",Children:nn,render:function(e,t,n){return null==t.__k&&(t.textContent=""),F(e,t),"function"==typeof n&&n(),e?e.__c:null},hydrate:function(e,t,n){return B(e,t),"function"==typeof n&&n(),e?e.__c:null},unmountComponentAtNode:function(e){return!!e.__k&&(F(null,e),!0)},createPortal:function(e,t){var n=m(hn,{__v:e,i:t});return n.containerInfo=t,n},createElement:m,createContext:$,createFactory:function(e){return m.bind(null,e)},cloneElement:function(e){return Tn(e)?H.apply(null,arguments):e},createRef:function(){return{current:null}},Fragment:v,isValidElement:Tn,isElement:Tn,isFragment:function(e){return Tn(e)&&e.type===v},findDOMNode:function(e){return e&&(e.base||1===e.nodeType&&e)||null},Component:_,PureComponent:Jt,memo:function(e,t){function n(e){var n=this.props.ref,o=n==e.ref;return!o&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!o:Kt(this.props,e)}function o(t){return this.shouldComponentUpdate=n,m(e,t)}return o.displayName="Memo("+(e.displayName||e.name)+")",o.prototype.isReactComponent=!0,o.__f=!0,o},forwardRef:en,flushSync:function(e,t){return e(t)},unstable_batchedUpdates:function(e,t){return e(t)},StrictMode:v,Suspense:ln,SuspenseList:un,lazy:function(e){var t,n,o;function r(r){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){o=e})),o)throw o;if(!n)throw t;return m(n,r)}return r.displayName="Lazy",r.__f=!0,r},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:On},Ln="lk9xbg9",Rn="lk9xbga",In="lk9xbgb",Mn="lk9xbgc",jn="lk9xbgi",Un="lk9xbgj",Fn="lk9xbgk",Bn="lk9xbgl",Hn="lk9xbgf",$n="lk9xbgu",qn="lk9xbg1",Vn="lk9xbg2",Wn="lk9xbg3",zn="lk9xbg4",Gn="lk9xbg5",Yn="lk9xbg6",Kn="lk9xbgw",Xn="lk9xbgq",Jn="lk9xbgm",Zn="lk9xbgd",Qn="lk9xbgv",eo="lk9xbgr",to="lk9xbg0",no="lk9xbgs",oo="lk9xbg7",ro="lk9xbg8",io="lk9xbgg",ao="lk9xbgh",so="lk9xbgp",lo="lk9xbgn",co="lk9xbgo",uo="lk9xbge",po="lk9xbgt";function ho({tagName:e,children:t,...n}){return Dn.createElement(e,n,t)}function fo({variant:t="body1",component:n,className:o="",noWrap:r=!1,children:i,ref:a,color:s}){const l=n||{h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",button:"span",overline:"span",caption:"span",voucherTitle:"h5",chip:"span",tag1:"span",tag2:"span",caption1Big:"span",caption1Small:"span",caption2Big:"span",caption2Small:"span",inherit:"p"}[t],c=`\n        ${s?e[s]:""}\n        ${to}\n        ${e[t]}\n        ${o}\n        ${r?Jn:""}`;return V(ho,{ref:a,tagName:l.toString(),className:c,children:i})}const go="uk",mo="it",yo="nl",vo="",_o="pl",bo="hiddenRetailers",wo=864e5,xo=31104e6,Ao="userLocale";var ko;!function(e){e.SEND_GA="send-google-analytics"}(ko||(ko={}));const Co=[_o,yo,mo,go],So={CLOSE_BUTTON:{CLICKED:"caa:close-button:clicked"},CTA:{DISPLAY:"tooltips:caa:cta:display"},DISPLAY:"caa:display",GET_STATE:"caa:get-state",HIDDEN:"caa:hidden",LOG_EVENT:"caa:log-event",LOG_SESSION:"caa:log-session",REMOVE:"caa:remove",SHOWN:"caa:shown",START:"caa:start"},No={CLOSE_BUTTON:{CLICKED:"cay:close-button:clicked"},CODE:{ADD_TO_STORAGE:"cay:code:add-to-storage",IS_SHOWN:"cay:code:is-shown"},DISPLAY:"cay:display",HIDDEN:"cay:hidden",REMOVE:"cay:remove",SHOWN:"cay:shown"},Eo={GET_INFO:"feedbackBanner:get-info",HIDDEN_BY_USER:"feedbackBanner:hidden-by-user",INCREASE_DEALS_CLICK_COUNT:"feedbackBanner:increase-deals-click-count"},Oo={READY:"injections:ready"},To={CLOSE_BUTTON:{CLICKED:"notification:close-button:clicked"},DISPLAY:"notification:display",HIDDEN:"notification:hidden",REMOVE:"notification:remove",SHOWN:"notification:shown"},Po={REQUESTED:"session:requested",UPDATED:"session:updated"},Do={CLICKED:"side-button:clicked",DISPLAY:"side-button:display",GET_POSITION_TOP:"side-button:get-position-top",HIDDEN:"side-button:hidden",REMOVE:"side-button:remove",SET_POSITION_TOP:"side-button:set-position-top",SHOWN:"side-button:shown"},Lo={CAA:{BUTTON:{CLICKED:"tooltips:caa:button:clicked"},DISPLAY:"tooltips:caa:display",HIDE:"tooltips:caa:hide",REMOVE:"tooltips:caa:remove"},CAY:{DEALS:{BUTTON:{CLICKED:"tooltips:cay:deals:button:clicked"},DISPLAY:"tooltips:cay:deals:display",HIDE:"tooltips:cay:deals:hide",REMOVE:"tooltips:cay:deals:remove"},VOUCHERS:{BUTTON:{CLICKED:"tooltips:cay:vouchers:button:clicked"},DISPLAY:"tooltips:cay:vouchers:display",HIDE:"tooltips:cay:vouchers:hide",REMOVE:"tooltips:cay:vouchers:remove"}},HIDDEN:{BUTTON:{CLICKED:"tooltips:hidden:button:clicked"},DISPLAY:"tooltips:hidden:display",HIDE:"tooltips:hidden:hide",REMOVE:"tooltips:hidden:remove"},NOTIFICATION:{BUTTON:{CLICKED:"tooltips:notification:button:clicked"},DISPLAY:"tooltips:notification:display",HIDE:"tooltips:notification:hide",REMOVE:"tooltips:notification:remove"},SIDE_BUTTON:{BUTTON:{CLICKED:"tooltips:side-button:button:clicked"},DISPLAY:"tooltips:side-button:display",HIDE:"tooltips:side-button:hide",REMOVE:"tooltips:side-button:remove"}};function Ro(e){return Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ro(e)}function Io(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mo(e){var t=function(e,t){if("object"!=Ro(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=Ro(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ro(t)?t:t+""}function jo(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,Mo(o.key),o)}}function Uo(e,t,n){return t&&jo(e.prototype,t),n&&jo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bo(e,t){return Bo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bo(e,t)}function Ho(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bo(e,t)}function $o(e,t){if(t&&("object"==Ro(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Fo(e)}function qo(e){return qo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qo(e)}function Vo(e,t,n){return(t=Mo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wo(e){if(Array.isArray(e))return e}function zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function Go(e,t){if(e){if("string"==typeof e)return zo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zo(e,t):void 0}}function Yo(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ko(e){return Wo(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Go(e)||Yo()}function Xo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Jo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xo(Object(n),!0).forEach((function(t){Vo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zo={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},Qo=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Io(this,e),this.init(t,n)}return Uo(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Zo,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,o){return o&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,Jo(Jo({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new e(this.logger,t)}}]),e}()),er=function(){function e(){Io(this,e),this.observers={}}return Uo(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];this.observers[e]&&[].concat(this.observers[e]).forEach((function(e){e.apply(void 0,n)}));this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(t){t.apply(t,[e].concat(n))}))}}]),e}();function tr(){var e,t,n=new Promise((function(n,o){e=n,t=o}));return n.resolve=e,n.reject=t,n}function nr(e){return null==e?"":""+e}function or(e,t,n){function o(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function r(){return!e||"string"==typeof e}for(var i="string"!=typeof t?[].concat(t):t.split(".");i.length>1;){if(r())return{};var a=o(i.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return r()?{}:{obj:e,k:o(i.shift())}}function rr(e,t,n){var o=or(e,t,Object);o.obj[o.k]=n}function ir(e,t){var n=or(e,t),o=n.obj,r=n.k;if(o)return o[r]}function ar(e,t,n){for(var o in t)"__proto__"!==o&&"constructor"!==o&&(o in e?"string"==typeof e[o]||e[o]instanceof String||"string"==typeof t[o]||t[o]instanceof String?n&&(e[o]=t[o]):ar(e[o],t[o],n):e[o]=t[o]);return e}function sr(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var lr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function cr(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return lr[e]})):e}var ur="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,dr=[" ",",","?","!",";"];function pr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var o=t.split(n),r=e,i=0;i<o.length;++i){if(!r)return;if("string"==typeof r[o[i]]&&i+1<o.length)return;if(void 0===r[o[i]]){for(var a=2,s=o.slice(i,i+a).join(n),l=r[s];void 0===l&&o.length>i+a;)a++,l=r[s=o.slice(i,i+a).join(n)];if(void 0===l)return;if(null===l)return null;if(t.endsWith(s)){if("string"==typeof l)return l;if(s&&"string"==typeof l[s])return l[s]}var c=o.slice(i+a).join(n);return c?pr(l,c,n):void 0}r=r[o[i]]}return r}}function hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(n),!0).forEach((function(t){Vo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=qo(e);if(t){var r=qo(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return $o(this,n)}}var mr=function(e){Ho(n,e);var t=gr(n);function n(e){var o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Io(this,n),o=t.call(this),ur&&er.call(Fo(o)),o.data=e||{},o.options=r,void 0===o.options.keySeparator&&(o.options.keySeparator="."),void 0===o.options.ignoreJSONStructure&&(o.options.ignoreJSONStructure=!0),o}return Uo(n,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator,i=void 0!==o.ignoreJSONStructure?o.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[e,t];n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(a=e.split("."));var s=ir(this.data,a);return s||!i||"string"!=typeof n?s:pr(this.data&&this.data[e]&&this.data[e][t],n,r)}},{key:"addResource",value:function(e,t,n,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,a=[e,t];n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(o=t,t=(a=e.split("."))[1]),this.addNamespaces(t),rr(this.data,a,o),r.silent||this.emit("added",e,t,n,o)}},{key:"addResources",value:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var r in n)"string"!=typeof n[r]&&"[object Array]"!==Object.prototype.toString.apply(n[r])||this.addResource(e,t,r,n[r],{silent:!0});o.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,o,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(o=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=ir(this.data,a)||{};o?ar(s,n,r):s=fr(fr({},s),n),rr(this.data,a,s),i.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?fr(fr({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),n}(er),yr={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,o,r){var i=this;return e.forEach((function(e){i.processors[e]&&(t=i.processors[e].process(t,n,o,r))})),t}};function vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vr(Object(n),!0).forEach((function(t){Vo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function br(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=qo(e);if(t){var r=qo(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return $o(this,n)}}var wr={},xr=function(e){Ho(n,e);var t=br(n);function n(e){var o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Io(this,n),o=t.call(this),ur&&er.call(Fo(o)),function(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,Fo(o)),o.options=r,void 0===o.options.keySeparator&&(o.options.keySeparator="."),o.logger=Qo.create("translator"),o}return Uo(n,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,r=t.ns||this.options.defaultNS||[],i=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var o=dr.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===o.length)return!0;var r=new RegExp("(".concat(o.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),i=!r.test(e);if(!i){var a=e.indexOf(n);a>0&&!r.test(e.substring(0,a))&&(i=!0)}return i}(e,n,o));if(i&&!a){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:r};var l=e.split(n);(n!==o||n===o&&this.options.ns.indexOf(l[0])>-1)&&(r=l.shift()),e=l.join(o)}return"string"==typeof r&&(r=[r]),{key:e,namespaces:r}}},{key:"translate",value:function(e,t,o){var r=this;if("object"!==Ro(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"===Ro(t)&&(t=_r({},t)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var i=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,a=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],t),l=s.key,c=s.namespaces,u=c[c.length-1],d=t.lng||this.language,p=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&"cimode"===d.toLowerCase()){if(p){var h=t.nsSeparator||this.options.nsSeparator;return i?{res:"".concat(u).concat(h).concat(l),usedKey:l,exactUsedKey:l,usedLng:d,usedNS:u}:"".concat(u).concat(h).concat(l)}return i?{res:l,usedKey:l,exactUsedKey:l,usedLng:d,usedNS:u}:l}var f=this.resolve(e,t),g=f&&f.res,m=f&&f.usedKey||l,y=f&&f.exactUsedKey||l,v=Object.prototype.toString.apply(g),_=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject;if(b&&g&&("string"!=typeof g&&"boolean"!=typeof g&&"number"!=typeof g)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(v)<0&&("string"!=typeof _||"[object Array]"!==v)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var w=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,g,_r(_r({},t),{},{ns:c})):"key '".concat(l," (").concat(this.language,")' returned an object instead of string.");return i?(f.res=w,f):w}if(a){var x="[object Array]"===v,A=x?[]:{},k=x?y:m;for(var C in g)if(Object.prototype.hasOwnProperty.call(g,C)){var S="".concat(k).concat(a).concat(C);A[C]=this.translate(S,_r(_r({},t),{joinArrays:!1,ns:c})),A[C]===S&&(A[C]=g[C])}g=A}}else if(b&&"string"==typeof _&&"[object Array]"===v)(g=g.join(_))&&(g=this.extendTranslation(g,e,t,o));else{var N=!1,E=!1,O=void 0!==t.count&&"string"!=typeof t.count,T=n.hasDefaultValue(t),P=O?this.pluralResolver.getSuffix(d,t.count,t):"",D=t["defaultValue".concat(P)]||t.defaultValue;!this.isValidLookup(g)&&T&&(N=!0,g=D),this.isValidLookup(g)||(E=!0,g=l);var L=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&E?void 0:g,R=T&&D!==g&&this.options.updateMissing;if(E||N||R){if(this.logger.log(R?"updateKey":"missingKey",d,u,l,R?D:g),a){var I=this.resolve(l,_r(_r({},t),{},{keySeparator:!1}));I&&I.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var M=[],j=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&j&&j[0])for(var U=0;U<j.length;U++)M.push(j[U]);else"all"===this.options.saveMissingTo?M=this.languageUtils.toResolveHierarchy(t.lng||this.language):M.push(t.lng||this.language);var F=function(e,n,o){var i=T&&o!==g?o:L;r.options.missingKeyHandler?r.options.missingKeyHandler(e,u,n,i,R,t):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(e,u,n,i,R,t),r.emit("missingKey",e,u,n,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&O?M.forEach((function(e){r.pluralResolver.getSuffixes(e,t).forEach((function(n){F([e],l+n,t["defaultValue".concat(n)]||D)}))})):F(M,l,D))}g=this.extendTranslation(g,e,t,f,o),E&&g===l&&this.options.appendNamespaceToMissingKey&&(g="".concat(u,":").concat(l)),(E||N)&&this.options.parseMissingKeyHandler&&(g="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(u,":").concat(l):l,N?g:void 0):this.options.parseMissingKeyHandler(g))}return i?(f.res=g,f):g}},{key:"extendTranslation",value:function(e,t,n,o,r){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,_r(_r({},this.options.interpolation.defaultVariables),n),o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(_r(_r({},n),{interpolation:_r(_r({},this.options.interpolation),n.interpolation)}));var a,s="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var l=e.match(this.interpolator.nestingRegexp);a=l&&l.length}var c=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(c=_r(_r({},this.options.interpolation.defaultVariables),c)),e=this.interpolator.interpolate(e,c,n.lng||this.language,n),s){var u=e.match(this.interpolator.nestingRegexp);a<(u&&u.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&o&&o.res&&(n.lng=o.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return r&&r[0]===o[0]&&!n.context?(i.logger.warn("It seems you are nesting recursively key: ".concat(o[0]," in key: ").concat(t[0])),null):i.translate.apply(i,o.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var d=n.postProcess||this.options.postProcess,p="string"==typeof d?[d]:d;return null!=e&&p&&p.length&&!1!==n.applyPostProcessor&&(e=yr.handle(p,e,t,this.options&&this.options.postProcessPassResolved?_r({i18nResolved:o},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,o,r,i,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!a.isValidLookup(t)){var l=a.extractFromKey(e,s),c=l.key;n=c;var u=l.namespaces;a.options.fallbackNS&&(u=u.concat(a.options.fallbackNS));var d=void 0!==s.count&&"string"!=typeof s.count,p=d&&!s.ordinal&&0===s.count&&a.pluralResolver.shouldUseIntlApi(),h=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,f=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);u.forEach((function(e){a.isValidLookup(t)||(i=e,!wr["".concat(f[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(i)&&(wr["".concat(f[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(f.join(", "),'" won\'t get resolved as namespace "').concat(i,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach((function(n){if(!a.isValidLookup(t)){r=n;var i,l=[c];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(l,c,n,e,s);else{var u;d&&(u=a.pluralResolver.getSuffix(n,s.count,s));var f="".concat(a.options.pluralSeparator,"zero");if(d&&(l.push(c+u),p&&l.push(c+f)),h){var g="".concat(c).concat(a.options.contextSeparator).concat(s.context);l.push(g),d&&(l.push(g+u),p&&l.push(g+f))}}for(;i=l.pop();)a.isValidLookup(t)||(o=i,t=a.getResource(n,e,i,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:o,usedLng:r,usedNS:i}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,o):this.resourceStore.getResource(e,t,n,o)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}]),n}(er);function Ar(e){return e.charAt(0).toUpperCase()+e.slice(1)}var kr=function(){function e(t){Io(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Qo.create("languageUtils")}return Uo(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Ar(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Ar(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=Ar(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var o=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(o)||(t=o)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var o=n.getLanguagePartFromCode(e);if(n.isSupportedCode(o))return t=o;t=n.options.supportedLngs.find((function(e){return e===o?e:e.indexOf("-")<0&&o.indexOf("-")<0?void 0:0===e.indexOf(o)?e:void 0}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,o=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],i=function(e){e&&(n.isSupportedCode(e)?r.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):"string"==typeof e&&i(this.formatLanguageCode(e)),o.forEach((function(e){r.indexOf(e)<0&&i(n.formatLanguageCode(e))})),r}}]),e}(),Cr=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Sr={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},Nr=["v1","v2","v3"],Er={zero:0,one:1,two:2,few:3,many:4,other:5};var Or=function(){function e(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Io(this,e),this.languageUtils=t,this.options=o,this.logger=Qo.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(n={},Cr.forEach((function(e){e.lngs.forEach((function(t){n[t]={numbers:e.nr,plurals:Sr[e.fc]}}))})),n)}return Uo(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=this.getRule(e,n);return o?this.shouldUseIntlApi()?o.resolvedOptions().pluralCategories.sort((function(e,t){return Er[e]-Er[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):o.numbers.map((function(o){return t.getSuffix(e,o,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.getRule(e,n);return o?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(o.select(t)):this.getSuffixRetroCompatible(o,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,o=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),r=e.numbers[o];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===r?r="plural":1===r&&(r=""));var i=function(){return n.options.prepend&&r.toString()?n.options.prepend+r.toString():r.toString()};return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?"_plural_".concat(r.toString()):i():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?i():this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString()}},{key:"shouldUseIntlApi",value:function(){return!Nr.includes(this.options.compatibilityJSON)}}]),e}();function Tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tr(Object(n),!0).forEach((function(t){Vo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dr(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=function(e,t,n){var o=ir(e,n);return void 0!==o?o:ir(t,n)}(e,t,n);return!i&&r&&"string"==typeof n&&void 0===(i=pr(e,n,o))&&(i=pr(t,n,o)),i}var Lr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Io(this,e),this.logger=Qo.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return Uo(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:cr,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?sr(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?sr(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?sr(t.nestingPrefix):t.nestingPrefixEscaped||sr("$t("),this.nestingSuffix=t.nestingSuffix?sr(t.nestingSuffix):t.nestingSuffixEscaped||sr(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,o){var r,i,a,s=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var u=function(e){if(e.indexOf(s.formatSeparator)<0){var r=Dr(t,l,e,s.options.keySeparator,s.options.ignoreJSONStructure);return s.alwaysFormat?s.format(r,void 0,n,Pr(Pr(Pr({},o),t),{},{interpolationkey:e})):r}var i=e.split(s.formatSeparator),a=i.shift().trim(),c=i.join(s.formatSeparator).trim();return s.format(Dr(t,l,a,s.options.keySeparator,s.options.ignoreJSONStructure),c,n,Pr(Pr(Pr({},o),t),{},{interpolationkey:a}))};this.resetRegExp();var d=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,p=o&&o.interpolation&&void 0!==o.interpolation.skipOnVariables?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return c(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?c(s.escape(e)):c(e)}}].forEach((function(t){for(a=0;r=t.regex.exec(e);){var n=r[1].trim();if(void 0===(i=u(n)))if("function"==typeof d){var l=d(e,r,o);i="string"==typeof l?l:""}else if(o&&Object.prototype.hasOwnProperty.call(o,n))i="";else{if(p){i=r[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),i=""}else"string"==typeof i||s.useRawValueToEscape||(i=nr(i));var c=t.safeValue(i);if(e=e.replace(r[0],c),p?(t.regex.lastIndex+=i.length,t.regex.lastIndex-=r[0].length):t.regex.lastIndex=0,++a>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,o,r,i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var o=e.split(new RegExp("".concat(n,"[ ]*{"))),i="{".concat(o[1]);e=o[0];var a=(i=this.interpolate(i,r)).match(/'/g),s=i.match(/"/g);(a&&a.length%2==0&&!s||s.length%2!=0)&&(i=i.replace(/'/g,'"'));try{r=JSON.parse(i),t&&(r=Pr(Pr({},t),r))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(i)}return delete r.defaultValue,e}for(;n=this.nestingRegexp.exec(e);){var l=[];(r=(r=Pr({},a)).replace&&"string"!=typeof r.replace?r.replace:r).applyPostProcessor=!1,delete r.defaultValue;var c=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var u=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=u.shift(),l=u,c=!0}if((o=t(s.call(this,n[1].trim(),r),r))&&n[0]===e&&"string"!=typeof o)return o;"string"!=typeof o&&(o=nr(o)),o||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),o=""),c&&(o=l.reduce((function(e,t){return i.format(e,t,a.lng,Pr(Pr({},a),{},{interpolationkey:n[1].trim()}))}),o.trim())),e=e.replace(n[0],o),this.regexp.lastIndex=0}return e}}]),e}();function Rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rr(Object(n),!0).forEach((function(t){Vo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mr(e){var t={};return function(n,o,r){var i=o+JSON.stringify(r),a=t[i];return a||(a=e(o,r),t[i]=a),a(n)}}var jr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Io(this,e),this.logger=Qo.create("formatter"),this.options=t,this.formats={number:Mr((function(e,t){var n=new Intl.NumberFormat(e,Ir({},t));return function(e){return n.format(e)}})),currency:Mr((function(e,t){var n=new Intl.NumberFormat(e,Ir(Ir({},t),{},{style:"currency"}));return function(e){return n.format(e)}})),datetime:Mr((function(e,t){var n=new Intl.DateTimeFormat(e,Ir({},t));return function(e){return n.format(e)}})),relativetime:Mr((function(e,t){var n=new Intl.RelativeTimeFormat(e,Ir({},t));return function(e){return n.format(e,t.range||"day")}})),list:Mr((function(e,t){var n=new Intl.ListFormat(e,Ir({},t));return function(e){return n.format(e)}}))},this.init(t)}return Uo(e,[{key:"init",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"addCached",value:function(e,t){this.formats[e.toLowerCase().trim()]=Mr(t)}},{key:"format",value:function(e,t,n){var o=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.split(this.formatSeparator).reduce((function(e,t){var i=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var o=e.split("(");t=o[0].toLowerCase().trim();var r=o[1].substring(0,o[1].length-1);"currency"===t&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):"relativetime"===t&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach((function(e){if(e){var t=Ko(e.split(":")),o=t[0],r=t.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[o.trim()]||(n[o.trim()]=r),"false"===r&&(n[o.trim()]=!1),"true"===r&&(n[o.trim()]=!0),isNaN(r)||(n[o.trim()]=parseInt(r,10))}}))}return{formatName:t,formatOptions:n}}(t),a=i.formatName,s=i.formatOptions;if(o.formats[a]){var l=e;try{var c=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},u=c.locale||c.lng||r.locale||r.lng||n;l=o.formats[a](e,u,Ir(Ir(Ir({},s),r),c))}catch(e){o.logger.warn(e)}return l}return o.logger.warn("there was no format function for ".concat(a)),e}),e);return i}}]),e}();function Ur(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ur(Object(n),!0).forEach((function(t){Vo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ur(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Br(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=qo(e);if(t){var r=qo(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return $o(this,n)}}var Hr=function(e){Ho(n,e);var t=Br(n);function n(e,o,r){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Io(this,n),i=t.call(this),ur&&er.call(Fo(i)),i.backend=e,i.store=o,i.services=r,i.languageUtils=r.languageUtils,i.options=a,i.logger=Qo.create("backendConnector"),i.waitingReads=[],i.maxParallelReads=a.maxParallelReads||10,i.readingCalls=0,i.maxRetries=a.maxRetries>=0?a.maxRetries:5,i.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,i.state={},i.queue=[],i.backend&&i.backend.init&&i.backend.init(r,a.backend,a),i}return Uo(n,[{key:"queueLoad",value:function(e,t,n,o){var r=this,i={},a={},s={},l={};return e.forEach((function(e){var o=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&r.store.hasResourceBundle(e,t)?r.state[s]=2:r.state[s]<0||(1===r.state[s]?void 0===a[s]&&(a[s]=!0):(r.state[s]=1,o=!1,void 0===a[s]&&(a[s]=!0),void 0===i[s]&&(i[s]=!0),void 0===l[t]&&(l[t]=!0)))})),o||(s[e]=!0)})),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}},{key:"loaded",value:function(e,t,n){var o=e.split("|"),r=o[0],i=o[1];t&&this.emit("failedLoading",r,i,t),n&&this.store.addResourceBundle(r,i,n),this.state[e]=t?-1:2;var a={};this.queue.forEach((function(n){!function(e,t,n,o){var r=or(e,t,Object),i=r.obj,a=r.k;i[a]=i[a]||[],o&&(i[a]=i[a].concat(n)),o||i[a].push(n)}(n.loaded,[r],i),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(e){a[e]||(a[e]={});var t=n.loaded[e];t.length&&t.forEach((function(t){void 0===a[e][t]&&(a[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var o=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads)this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:i,callback:a});else{this.readingCalls++;var s=function(s,l){if(o.readingCalls--,o.waitingReads.length>0){var c=o.waitingReads.shift();o.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}s&&l&&r<o.maxRetries?setTimeout((function(){o.read.call(o,e,t,n,r+1,2*i,a)}),i):a(s,l)},l=this.backend[n].bind(this.backend);if(2!==l.length)return l(e,t,s);try{var c=l(e,t);c&&"function"==typeof c.then?c.then((function(e){return s(null,e)})).catch(s):s(null,c)}catch(e){s(e)}}}},{key:"prepareLoading",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var i=this.queueLoad(e,t,o,r);if(!i.toLoad.length)return i.pending.length||r(),null;i.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=e.split("|"),r=o[0],i=o[1];this.read(r,i,"read",void 0,void 0,(function(o,a){o&&t.logger.warn("".concat(n,"loading namespace ").concat(i," for language ").concat(r," failed"),o),!o&&a&&t.logger.log("".concat(n,"loaded namespace ").concat(i," for language ").concat(r),a),t.loaded(e,o,a)}))}},{key:"saveMissing",value:function(e,t,n,o,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){var s=Fr(Fr({},i),{},{isUpdate:r}),l=this.backend.create.bind(this.backend);if(l.length<6)try{var c;(c=5===l.length?l(e,t,n,o,s):l(e,t,n,o))&&"function"==typeof c.then?c.then((function(e){return a(null,e)})).catch(a):a(null,c)}catch(e){a(e)}else l(e,t,n,o,a,s)}e&&e[0]&&this.store.addResource(e[0],t,n,o)}}}]),n}(er);function $r(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===Ro(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===Ro(e[2])||"object"===Ro(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,o){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function qr(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function Vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(n),!0).forEach((function(t){Vo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=qo(e);if(t){var r=qo(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return $o(this,n)}}function Gr(){}var Yr=function(e){Ho(n,e);var t=zr(n);function n(){var e,o,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(Io(this,n),e=t.call(this),ur&&er.call(Fo(e)),e.options=qr(r),e.services={},e.logger=Qo,e.modules={external:[]},o=Fo(e),Object.getOwnPropertyNames(Object.getPrototypeOf(o)).forEach((function(e){"function"==typeof o[e]&&(o[e]=o[e].bind(o))})),i&&!e.isInitialized&&!r.isClone){if(!e.options.initImmediate)return e.init(r,i),$o(e,Fo(e));setTimeout((function(){e.init(r,i)}),0)}return e}return Uo(n,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var o=$r();function r(e){return e?"function"==typeof e?new e:e:null}if(this.options=Wr(Wr(Wr({},o),this.options),qr(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=Wr(Wr({},o.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var i;this.modules.logger?Qo.init(r(this.modules.logger),this.options):Qo.init(null,this.options),this.modules.formatter?i=this.modules.formatter:"undefined"!=typeof Intl&&(i=jr);var a=new kr(this.options);this.store=new mr(this.options.resources,this.options);var s=this.services;s.logger=Qo,s.resourceStore=this.store,s.languageUtils=a,s.pluralResolver=new Or(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!i||this.options.interpolation.format&&this.options.interpolation.format!==o.interpolation.format||(s.formatter=r(i),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new Lr(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new Hr(r(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];e.emit.apply(e,[t].concat(o))})),this.modules.languageDetector&&(s.languageDetector=r(this.modules.languageDetector),s.languageDetector.init&&s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=r(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new xr(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];e.emit.apply(e,[t].concat(o))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=Gr),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&"dev"!==l[0]&&(this.options.lng=l[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var c=tr(),u=function(){var t=function(t,o){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),c.resolve(o),n(t,o)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),c}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gr,o="string"==typeof e?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(o&&"cimode"===o.toLowerCase())return n();var r=[],i=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){r.indexOf(e)<0&&r.push(e)}))};if(o)i(o);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(e){return i(e)}));this.options.preload&&this.options.preload.forEach((function(e){return i(e)})),this.services.backendConnector.load(r,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),n(e)}))}else n(null)}},{key:"reloadResources",value:function(e,t,n){var o=tr();return e||(e=this.languages),t||(t=this.options.ns),n||(n=Gr),this.services.backendConnector.reload(e,t,(function(e){o.resolve(),n(e)})),o}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&yr.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var o=tr();this.emit("languageChanging",e);var r=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},i=function(i){e||i||!n.services.languageDetector||(i=[]);var a="string"==typeof i?i:n.services.languageUtils.getBestMatchFromCodes(i);a&&(n.language||r(a),n.translator.language||n.translator.changeLanguage(a),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage&&n.services.languageDetector.cacheUserLanguage(a)),n.loadResources(a,(function(e){!function(e,i){i?(r(i),n.translator.changeLanguage(i),n.isLanguageChangingTo=void 0,n.emit("languageChanged",i),n.logger.log("languageChanged",i)):n.isLanguageChangingTo=void 0,o.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,a)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(i):this.services.languageDetector.detect(i):i(e):i(this.services.languageDetector.detect()),o}},{key:"getFixedT",value:function(e,t,n){var o=this,r=function e(t,r){var i;if("object"!==Ro(r)){for(var a=arguments.length,s=new Array(a>2?a-2:0),l=2;l<a;l++)s[l-2]=arguments[l];i=o.options.overloadTranslationOptionHandler([t,r].concat(s))}else i=Wr({},r);i.lng=i.lng||e.lng,i.lngs=i.lngs||e.lngs,i.ns=i.ns||e.ns,i.keyPrefix=i.keyPrefix||n||e.keyPrefix;var c,u=o.options.keySeparator||".";return c=i.keyPrefix&&Array.isArray(t)?t.map((function(e){return"".concat(i.keyPrefix).concat(u).concat(e)})):i.keyPrefix?"".concat(i.keyPrefix).concat(u).concat(t):t,o.t(c,i)};return"string"==typeof e?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=n,r}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var o=n.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===o.toLowerCase())return!0;var a=function(e,n){var o=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===o||2===o};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!!this.hasResourceBundle(o,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!a(o,e)||r&&!a(i,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,o=tr();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){o.resolve(),t&&t(e)})),o):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=tr();"string"==typeof e&&(e=[e]);var o=this.options.preload||[],r=e.filter((function(e){return o.indexOf(e)<0}));return r.length?(this.options.preload=o.concat(r),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";var t=this.services&&this.services.languageUtils||new kr($r());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gr,r=Wr(Wr(Wr({},this.options),t),{isClone:!0}),i=new n(r);void 0===t.debug&&void 0===t.prefix||(i.logger=i.logger.clone(t));return["store","services","language"].forEach((function(t){i[t]=e[t]})),i.services=Wr({},this.services),i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i.translator=new xr(i.services,i.options),i.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];i.emit.apply(i,[e].concat(n))})),i.init(r,o),i.translator.options=i.options,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(er);Vo(Yr,"createInstance",(function(){return new Yr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}));var Kr=Yr.createInstance();Kr.createInstance=Yr.createInstance;Kr.createInstance,Kr.dir,Kr.init,Kr.loadResources,Kr.reloadResources,Kr.use,Kr.changeLanguage,Kr.getFixedT,Kr.t,Kr.exists,Kr.setDefaultNamespace,Kr.hasLoadedNamespace,Kr.loadNamespaces,Kr.loadLanguages;function Xr(e){return Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xr(e)}var Jr=[],Zr=Jr.forEach,Qr=Jr.slice;function ei(e){return Zr.call(Qr.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}function ti(){return"function"==typeof XMLHttpRequest||"object"===("undefined"==typeof XMLHttpRequest?"undefined":Xr(XMLHttpRequest))}var ni,oi,ri,ii=r(3154),ai=r.t(ii,2);function si(e){return si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},si(e)}"function"==typeof fetch&&(ni="undefined"!=typeof global&&global.fetch?global.fetch:"undefined"!=typeof window&&window.fetch?window.fetch:fetch),ti()&&("undefined"!=typeof global&&global.XMLHttpRequest?oi=global.XMLHttpRequest:"undefined"!=typeof window&&window.XMLHttpRequest&&(oi=window.XMLHttpRequest)),"function"==typeof ActiveXObject&&("undefined"!=typeof global&&global.ActiveXObject?ri=global.ActiveXObject:"undefined"!=typeof window&&window.ActiveXObject&&(ri=window.ActiveXObject)),ni||!ai||oi||ri||(ni=ii||ai),"function"!=typeof ni&&(ni=void 0);var li=function(e,t){if(t&&"object"===si(t)){var n="";for(var o in t)n+="&"+encodeURIComponent(o)+"="+encodeURIComponent(t[o]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e},ci=function(e,t,n){ni(e,t).then((function(e){if(!e.ok)return n(e.statusText||"Error",{status:e.status});e.text().then((function(t){n(null,{status:e.status,data:t})})).catch(n)})).catch(n)},ui=!1;const di=function(e,t,n,o){return"function"==typeof n&&(o=n,n=void 0),o=o||function(){},ni&&0!==t.indexOf("file:")?function(e,t,n,o){e.queryStringParams&&(t=li(t,e.queryStringParams));var r=ei({},"function"==typeof e.customHeaders?e.customHeaders():e.customHeaders);n&&(r["Content-Type"]="application/json");var i="function"==typeof e.requestOptions?e.requestOptions(n):e.requestOptions,a=ei({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:r},ui?{}:i);try{ci(t,a,o)}catch(e){if(!i||0===Object.keys(i).length||!e.message||e.message.indexOf("not implemented")<0)return o(e);try{Object.keys(i).forEach((function(e){delete a[e]})),ci(t,a,o),ui=!0}catch(e){o(e)}}}(e,t,n,o):ti()||"function"==typeof ActiveXObject?function(e,t,n,o){n&&"object"===si(n)&&(n=li("",n).slice(1)),e.queryStringParams&&(t=li(t,e.queryStringParams));try{var r;(r=oi?new oi:new ri("MSXML2.XMLHTTP.3.0")).open(n?"POST":"GET",t,1),e.crossDomain||r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.withCredentials=!!e.withCredentials,n&&r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.overrideMimeType&&r.overrideMimeType("application/json");var i=e.customHeaders;if(i="function"==typeof i?i():i)for(var a in i)r.setRequestHeader(a,i[a]);r.onreadystatechange=function(){r.readyState>3&&o(r.status>=400?r.statusText:null,{status:r.status,data:r.responseText})},r.send(n)}catch(e){console&&console.log(e)}}(e,t,n,o):void o(new Error("No fetch and no xhr implementation found!"))};function pi(e){return pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pi(e)}function hi(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,fi(o.key),o)}}function fi(e){var t=function(e,t){if("object"!==pi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==pi(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===pi(t)?t:String(t)}var gi=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(e){return JSON.parse(e)},stringify:JSON.stringify,parsePayload:function(e,t,n){return function(e,t,n){return(t=fi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n||"")},parseLoadPayload:function(e,t){},request:di,reloadInterval:"undefined"==typeof window&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},mi=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.services=t,this.options=n,this.allOptions=o,this.type="backend",this.init(t,n,o)}var t,n,o;return t=e,n=[{key:"init",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=ei(n,this.options||{},gi()),this.allOptions=o,this.services&&this.options.reloadInterval&&setInterval((function(){return t.reload()}),this.options.reloadInterval)}},{key:"readMulti",value:function(e,t,n){this._readAny(e,e,t,t,n)}},{key:"read",value:function(e,t,n){this._readAny([e],e,[t],t,n)}},{key:"_readAny",value:function(e,t,n,o,r){var i,a=this,s=this.options.loadPath;"function"==typeof this.options.loadPath&&(s=this.options.loadPath(e,n)),(s=function(e){return!!e&&"function"==typeof e.then}(i=s)?i:Promise.resolve(i)).then((function(i){if(!i)return r(null,{});var s=a.services.interpolator.interpolate(i,{lng:e.join("+"),ns:n.join("+")});a.loadUrl(s,r,t,o)}))}},{key:"loadUrl",value:function(e,t,n,o){var r=this,i="string"==typeof n?[n]:n,a="string"==typeof o?[o]:o,s=this.options.parseLoadPayload(i,a);this.options.request(this.options,e,s,(function(i,a){if(a&&(a.status>=500&&a.status<600||!a.status))return t("failed loading "+e+"; status code: "+a.status,!0);if(a&&a.status>=400&&a.status<500)return t("failed loading "+e+"; status code: "+a.status,!1);if(!a&&i&&i.message&&i.message.indexOf("Failed to fetch")>-1)return t("failed loading "+e+": "+i.message,!0);if(i)return t(i,!1);var s,l;try{s="string"==typeof a.data?r.options.parse(a.data,n,o):a.data}catch(t){l="failed parsing "+e+" to json"}if(l)return t(l,!1);t(null,s)}))}},{key:"create",value:function(e,t,n,o,r){var i=this;if(this.options.addPath){"string"==typeof e&&(e=[e]);var a=this.options.parsePayload(t,n,o),s=0,l=[],c=[];e.forEach((function(n){var o=i.options.addPath;"function"==typeof i.options.addPath&&(o=i.options.addPath(n,t));var u=i.services.interpolator.interpolate(o,{lng:n,ns:t});i.options.request(i.options,u,a,(function(t,n){s+=1,l.push(t),c.push(n),s===e.length&&"function"==typeof r&&r(l,c)}))}))}}},{key:"reload",value:function(){var e=this,t=this.services,n=t.backendConnector,o=t.languageUtils,r=t.logger,i=n.language;if(!i||"cimode"!==i.toLowerCase()){var a=[],s=function(e){o.toResolveHierarchy(e).forEach((function(e){a.indexOf(e)<0&&a.push(e)}))};s(i),this.allOptions.preload&&this.allOptions.preload.forEach((function(e){return s(e)})),a.forEach((function(t){e.allOptions.ns.forEach((function(e){n.read(t,e,"read",null,null,(function(o,i){o&&r.warn("loading namespace ".concat(e," for language ").concat(t," failed"),o),!o&&i&&r.log("loaded namespace ".concat(e," for language ").concat(t),i),n.loaded("".concat(t,"|").concat(e),o,i)}))}))}))}}}],n&&hi(t.prototype,n),o&&hi(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();mi.type="backend";const yi=mi;r(1739);Object.create(null);function vi(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var _i={};function bi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&_i[t[0]]||("string"==typeof t[0]&&(_i[t[0]]=new Date),vi.apply(void 0,t))}var wi=function(e,t){return function(){if(e.isInitialized)t();else{e.on("initialized",(function n(){setTimeout((function(){e.off("initialized",n)}),0),t()}))}}};function xi(e,t,n){e.loadNamespaces(t,wi(e,n))}function Ai(e,t,n,o){"string"==typeof n&&(n=[n]),n.forEach((function(t){e.options.ns.indexOf(t)<0&&e.options.ns.push(t)})),e.loadLanguages(t,wi(e,o))}var ki=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Ci={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Si=function(e){return Ci[e]};function Ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ni(Object(n),!0).forEach((function(t){Vo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ni(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oi={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(e){return e.replace(ki,Si)}};var Ti;var Pi={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Oi=Ei(Ei({},Oi),e)}(e.options.react),function(e){Ti=e}(e)}};var Di=$(),Li=function(){function e(){Io(this,e),this.usedNamespaces={}}return Uo(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function Ri(e,t){return Wo(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=i.call(n)).done)&&(s.push(o.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(e,t)||Go(e,t)||Yo()}function Ii(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Mi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ii(Object(n),!0).forEach((function(t){Vo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ii(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ji(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,o=Bt(Di)||{},r=o.i18n,i=o.defaultNS,a=n||r||Ti;if(a&&!a.reportNamespaces&&(a.reportNamespaces=new Li),!a){bi("You will need to pass in an i18next instance by using initReactI18next");var s=function(e,t){return"string"==typeof t?t:t&&"object"===Ro(t)&&"string"==typeof t.defaultValue?t.defaultValue:Array.isArray(e)?e[e.length-1]:e},l=[s,{},!1];return l.t=s,l.i18n={},l.ready=!1,l}a.options.react&&void 0!==a.options.react.wait&&bi("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var c=Mi(Mi(Mi({},Oi),a.options.react),t),u=c.useSuspense,d=c.keyPrefix,p=e||i||a.options&&a.options.defaultNS;p="string"==typeof p?[p]:p||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(p);var h=(a.isInitialized||a.initializedStoreOnce)&&p.every((function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?void 0!==t.options.ignoreJSONStructure?t.hasLoadedNamespace(e,{lng:n.lng,precheck:function(t,o){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!o(t.isLanguageChangingTo,e))return!1}}):function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.languages[0],r=!!t.options&&t.options.fallbackLng,i=t.languages[t.languages.length-1];if("cimode"===o.toLowerCase())return!0;var a=function(e,n){var o=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===o||2===o};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e)||!t.hasResourceBundle(o,e)&&t.services.backendConnector.backend&&(!t.options.resources||t.options.partialBundledLanguages)&&(!a(o,e)||r&&!a(i,e)))}(e,t,n):(bi("i18n.languages were undefined or empty",t.languages),!0)}(e,a,c)}));function f(){return a.getFixedT(t.lng||null,"fallback"===c.nsMode?p:p[0],d)}var g=Ri(Lt(f),2),m=g[0],y=g[1],v=p.join();t.lng&&(v="".concat(t.lng).concat(v));var _,b,w,x=(_=v,w=jt(),It((function(){w.current=b?w.current:_}),[_,b]),w.current),A=jt(!0);It((function(){var e=c.bindI18n,n=c.bindI18nStore;function o(){A.current&&y(f)}return A.current=!0,h||u||(t.lng?Ai(a,t.lng,p,(function(){A.current&&y(f)})):xi(a,p,(function(){A.current&&y(f)}))),h&&x&&x!==v&&A.current&&y(f),e&&a&&a.on(e,o),n&&a&&a.store.on(n,o),function(){A.current=!1,e&&a&&e.split(" ").forEach((function(e){return a.off(e,o)})),n&&a&&n.split(" ").forEach((function(e){return a.store.off(e,o)}))}}),[a,v]);var k=jt(!0);It((function(){A.current&&!k.current&&y(f),k.current=!1}),[a,d]);var C=[m,a,h];if(C.t=m,C.i18n=a,C.ready=h,h)return C;if(!h&&!u)return C;throw new Promise((function(e){t.lng?Ai(a,t.lng,p,(function(){return e()})):xi(a,p,(function(){return e()}))}))}const Ui=()=>vt.get(Ao),Fi=e=>Kr.use(yi).use(Pi).init({backend:{loadPath:chrome.runtime.getURL(`/public/locales/${e}/{{ns}}.json`)},fallbackLng:go,interpolation:{escapeValue:!1},lng:e,load:"currentOnly",nsSeparator:!1,returnEmptyString:!1,supportedLngs:Co}),Bi=Kr,Hi=({theme:e,searchEngine:t,vouchersCount:n,dealsCount:o,onClick:r})=>V(v,{children:V("div",{className:`gsg-serp gsg-serp-badge gsg-serp-badge--${e} gsg-serp-badge--${t}`,onClick:r,style:{display:"none"},children:[V("div",{className:"gsg-serp gsg-serp-badge__logo",children:V("img",{alt:"Pepper PL logo",src:chrome.runtime.getURL("/public/images/icons/PepperSquareWhiteIcon.svg")})}),V("div",{className:"gsg-serp gsg-serp-badge__items",children:[n>0&&V(fo,{children:Bi.t("serp.vouchers.title",{count:n})}),o>0&&V(fo,{children:Bi.t("serp.deals.title",{count:o})})]})]})});var $i=r(3150),qi=r.n($i);function Vi(e){return!!e.code.trim().length&&!/\s/.test(e.code.trim())}function Wi({testedCoupons:e,bestCoupon:t}){const n=[...e].reverse().find(Vi);return t&&n?.code===t.code}function zi(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function Gi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Yi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gi(Object(n),!0).forEach((function(t){var o,r,i;o=e,r=t,i=n[t],(r=zi(r))in o?Object.defineProperty(o,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[r]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ki(e,t){var n={};for(var o in e)n[o]=t(e[o],o);return n}var Xi=(e,t,n)=>{for(var o of Object.keys(e)){var r;if(e[o]!==(null!==(r=t[o])&&void 0!==r?r:n[o]))return!1}return!0},Ji=e=>{var t=t=>{var n=e.defaultClassName,o=Yi(Yi({},e.defaultVariants),t);for(var r in o){var i,a=null!==(i=o[r])&&void 0!==i?i:e.defaultVariants[r];if(null!=a){var s=a;"boolean"==typeof s&&(s=!0===s?"true":"false");var l=e.variantClassNames[r][s];l&&(n+=" "+l)}}for(var[c,u]of e.compoundVariants)Xi(c,o,e.defaultVariants)&&(n+=" "+u);return n};return t.variants=()=>Object.keys(e.variantClassNames),t.classNames={get base(){return e.defaultClassName.split(" ")[0]},get variants(){return Ki(e.variantClassNames,(e=>Ki(e,(e=>e.split(" ")[0]))))}},t},Zi=Ji({defaultClassName:"_1467q08u",variantClassNames:{variant:{contained:"_1467q08v",outlined:"_1467q08w",text:"_1467q08x"},color:{primary:"_1467q08y",secondary:"_1467q08z",tertiary:"_1467q0810",interaction:"_1467q0811",inherit:"_1467q0812"},inverted:{true:"_1467q0813",false:"_1467q0814"},size:{small:"_1467q0815",large:"_1467q0816"},fullWidth:{true:"_1467q0817",false:"_1467q0818"},disabled:{true:"_1467q0819",false:"_1467q081a"},fullWidthSm:{true:"_1467q081b"},fullWidthMd:{true:"_1467q081c"},fullWidthLg:{true:"_1467q081d"}},defaultVariants:{},compoundVariants:[[{size:"small",variant:"contained"},"_1467q081e"],[{size:"small",variant:"outlined"},"_1467q081f"],[{size:"small",variant:"text"},"_1467q081g"],[{size:"large",variant:"contained"},"_1467q081h"],[{size:"large",variant:"outlined"},"_1467q081i"],[{size:"large",variant:"text"},"_1467q081j"],[{disabled:!0,variant:"contained",inverted:!1},"_1467q081k"],[{disabled:!0,variant:"contained",inverted:!0},"_1467q081l"],[{disabled:!0,variant:"outlined"},"_1467q081m"],[{disabled:!0,variant:"text"},"_1467q081n"],[{variant:"contained",color:"primary"},"_1467q083"],[{variant:"contained",color:"primary",inverted:!0},"_1467q084"],[{variant:"contained",color:"secondary"},"_1467q085"],[{variant:"contained",color:"secondary",inverted:!0},"_1467q086"],[{variant:"contained",color:"tertiary"},"_1467q087"],[{variant:"contained",color:"tertiary",inverted:!0},"_1467q088"],[{variant:"contained",color:"interaction"},"_1467q089"],[{variant:"contained",color:"interaction",inverted:!0},"_1467q08a"],[{variant:"contained",color:"inherit"},"_1467q08b"],[{variant:"contained",color:"inherit",inverted:!0},"_1467q08b"],[{variant:"outlined",color:"primary"},"_1467q08c"],[{variant:"outlined",color:"primary",inverted:!0},"_1467q08d"],[{variant:"outlined",color:"secondary"},"_1467q08e"],[{variant:"outlined",color:"secondary",inverted:!0},"_1467q08f"],[{variant:"outlined",color:"tertiary"},"_1467q08g"],[{variant:"outlined",color:"tertiary",inverted:!0},"_1467q08h"],[{variant:"outlined",color:"interaction"},"_1467q08i"],[{variant:"outlined",color:"interaction",inverted:!0},"_1467q08j"],[{variant:"outlined",color:"inherit"},"_1467q08k"],[{variant:"outlined",color:"inherit",inverted:!0},"_1467q08k"],[{variant:"text",color:"primary"},"_1467q08l"],[{variant:"text",color:"primary",inverted:!0},"_1467q08m"],[{variant:"text",color:"secondary"},"_1467q08n"],[{variant:"text",color:"secondary",inverted:!0},"_1467q08o"],[{variant:"text",color:"tertiary"},"_1467q08r"],[{variant:"text",color:"tertiary",inverted:!0},"_1467q08s"],[{variant:"text",color:"interaction"},"_1467q08p"],[{variant:"text",color:"interaction",inverted:!0},"_1467q08q"],[{variant:"text",color:"inherit"},"_1467q08t"],[{variant:"text",color:"inherit",inverted:!0},"_1467q08t"]]});const Qi=e=>{const t={};return"boolean"==typeof e&&(t.fullWidth=e),"object"==typeof e&&(e.sm&&(t.fullWidthSm=!0),e.md&&(t.fullWidthMd=!0),e.lg&&(t.fullWidthLg=!0)),t},ea=en(((e,t)=>{const{variant:n="contained",color:o="primary",inverted:r=!1,size:i="large",fullWidth:a=!1,startIcon:s,foregroundLabel:l,endIcon:c,className:u="",children:d,onClick:p,disabled:h,...f}=e,g=s&&V("span",{className:"_1467q080",children:s}),m=l&&V("div",{className:"_1467q081",children:l}),y=c&&V("span",{className:"_1467q082",children:c}),v=Zi({variant:n,color:o,inverted:r,size:i,disabled:h,...Qi(a)}),_=Ft((e=>{!h&&p&&p(e)}),[p,h]),b=Ft((e=>{const t="Enter"===e.code||"Space"===e.code;!h&&p&&t&&p(e)}),[p,h]);return V("div",{...f,ref:t,role:"button","aria-disabled":h,tabIndex:0,className:`${v} ${u}`,onClick:_,onKeyDown:b,children:[g,m,d,y]})})),ta=e=>V("div",{className:"gsg-extension-header",children:[V("div",{className:"gsg-extension-popup__header__logo",children:["square"===e.iconShape&&V("img",{src:chrome.runtime.getURL("/public/images/icons/PepperSquareIcon.svg")}),"square"!==e.iconShape&&V("img",{className:"gsg-extension-popup__header__logo--small",src:chrome.runtime.getURL("/public/images/icons/PepperRectangleIcon.svg")})]}),e.title&&V("h2",{className:"gsg-extension-header__title",children:e.title}),V("div",{className:"gsg-extension-header__action",children:[e.settingsHandler&&V("button",{className:"gsg-extension-header__action-button",onClick:e.settingsHandler,children:V("img",{src:chrome.runtime.getURL("/public/images/icons/SettingsIcon.svg")})}),e.closePopup&&V("button",{className:"gsg-extension-header__action-button",onClick:e.closePopup,children:V("img",{src:chrome.runtime.getURL("/public/images/icons/CloseIcon.svg")})})]})]}),na=e=>{const[t,n]=Lt(!1),[o,r]=Lt(!1),i=setTimeout((()=>{n((()=>!0)),r((()=>!0)),clearTimeout(i)}),10);return V("div",{className:"gsg-extension-dialog-container "+(t?"gsg-extension-dialog-container--show":""),children:[V("div",{className:"gsg-extension-dialog-backdrop"}),V("div",{className:"gsg-extension-dialog "+(o?"gsg-extension-dialog--show-shadow":""),children:[V(ta,{closePopup:e.closePopup,iconShape:"rectangle"}),V("div",{className:`gsg-extension-dialog__body ${e.className??""}`,children:e.children})]})]})},oa=e=>{const{close:t}=e;return V(na,{className:"gsg-extension-dialog__body--small gsg-extension-dialog__body--large-bottom-padding",closePopup:t,children:[V("img",{className:"gsg-extension-dialog__body-icon",src:chrome.runtime.getURL("/public/images/icons/Money.svg")}),V("h3",{className:"gsg-extension-typography-h3 gsg-extension-dialog__body-text-container gsg-extension-dialog__body-text-container--space-down",children:[Bi.t("alert.caa.testing.failure.title")," "]}),V(ea,{onClick:t,children:V("span",{className:"gsg-extension-typography-button",children:Bi.t("alert.caa.testing.failure.action-button")})})]})};var ra,ia,aa;function sa(e){return"type"in e&&e.type===ht.Discount}function la(e){return"type"in e&&e.type===ht.Invalid}!function(e){e.SucceedAndTryNext="SucceedAndTryNext",e.FailAndTryNext="FailAndTryNext",e.FailAndChooseBest="FailAndChooseBest",e.FailLastCoupon="FailLastCoupon"}(ra||(ra={})),function(e){e.TryNextCoupon="TryNextCoupon",e.KeepCurrentCoupon="KeepCurrentCoupon",e.ShowPlaceholder="ShowPlaceholder"}(ia||(ia={})),function(e){e.None="None",e.Success="Success",e.Failure="Failure"}(aa||(aa={}));const ca="gsg-extension-dialog__code-container-layer-text",ua={bottom:"gsg-extension-dialog__code-container-layer2",center:"gsg-extension-dialog__code-container-layer-secondary",top:"gsg-extension-dialog__code-container-layer-main"},da={[aa.None]:`${ca}--idle`,[aa.Failure]:`${ca}--failure`,[aa.Success]:`${ca}--success`},pa={[ia.TryNextCoupon]:`${ua.center}`,[ia.KeepCurrentCoupon]:`${ua.top}`,[ia.ShowPlaceholder]:`${ua.center}`},ha={[aa.None]:"",[aa.Failure]:`${ua.center}--slide-out--failure`,[aa.Success]:`${ua.center}--slide-out--success`},fa={[ia.TryNextCoupon]:`${ua.top} ${ua.top}--forward`,[ia.KeepCurrentCoupon]:`${ua.center}`,[ia.ShowPlaceholder]:`${ca}--hidden`},ga={[ia.TryNextCoupon]:`${ua.bottom}--forward`,[ia.KeepCurrentCoupon]:"",[ia.ShowPlaceholder]:`${ca}--hidden`},ma=({applicationAttempt:e})=>{const[t,n]=Lt(e.initialCoupon?.id);let o,r,i,a;if(e.initialCoupon?.id!==t){o=e.initialCoupon?.code??"",r=e.nextCoupon?.code??"",i=e.transition===ra.SucceedAndTryNext?aa.Success:aa.Failure,a=e.transition===ra.FailLastCoupon?ia.ShowPlaceholder:ia.TryNextCoupon;const t=setTimeout((()=>{n((()=>e.initialCoupon?.id)),clearTimeout(t)}),600)}else o=e.nextCoupon?.code??"",r=null,i=e.transition===ra.FailAndChooseBest?aa.Success:aa.None,a=ia.KeepCurrentCoupon;return V("div",{className:"gsg-extension-dialog__code-container",children:[a===ia.ShowPlaceholder&&V("div",{className:"gsg-extension-dialog__code-container-placeholder",children:""}),a!==ia.ShowPlaceholder&&V("div",{className:"gsg-extension-dialog__code-container-layer1"}),V("div",{className:`${ga[a]||""} ${ua.bottom}`}),V("div",{className:`${ca} ${fa[a]} ${da[aa.None]}`,children:V(fo,{className:"gsg-extension-dialog__code-container-value",component:"span",children:r})}),V("div",{className:`${ca} ${pa[a]} ${da[i]} ${a===ia.TryNextCoupon||a===ia.ShowPlaceholder?ha[i]:""}`,children:V(fo,{className:"gsg-extension-dialog__code-container-value",component:"span",children:o})})]})};function ya(e,t){return t?t===ut.Euro||t===ut.Percent?`${e} ${t}`:`${t} ${e}`:`${e}`}function va(e){return ya((t=e.initialTotal.value,n=e.totalWithDiscount.value,Math.round(100*t-100*n)/100),e.totalWithDiscount.type);var t,n}function _a(e){const t=e.couponsToTest.length;if(e.testedCoupons.length===t)return e.bestCoupon?ra.FailAndChooseBest:ra.FailLastCoupon;const n=e.testedCoupons.at(-1);return n&&sa(n)?ra.SucceedAndTryNext:ra.FailAndTryNext}const ba=e=>{const{tabSession:t,stop:n,onCouponAnimationFinished:o}=e;It((()=>{const e=setTimeout((()=>{o()}),600);return()=>clearTimeout(e)}),[t.testedCoupons.length,o]);const r=t.couponsToTest.length,i=t.testedCoupons.length,a=i===r&&t.bestCoupon?t.bestCoupon:t.couponsToTest[i],s={initialCoupon:t.testedCoupons.at(-1),nextCoupon:a,transition:_a(t)},l=Math.min(i+1,r),c=Math.round(100*l/r);return V(na,{className:"gsg-extension-dialog__body--large",closePopup:n,children:[V("img",{className:"gsg-extension-dialog__body-icon",src:chrome.runtime.getURL("/public/images/icons/Scanning.svg")}),V("h3",{className:"gsg-extension-typography-h3 gsg-extension-dialog__body-text-container gsg-extension-dialog__body-text-container--fixed-height",children:t.bestCoupon?Bi.t("alert.caa.testing.progress.text-found-best-coupon",{savedAmount:va(t.bestCoupon)}):`${Bi.t("alert.caa.testing.progress.title")} `}),V(ma,{applicationAttempt:s}),V("div",{className:"gsg-extension-dialog__progress-bar",children:V("div",{className:"gsg-extension-dialog__progress-bar--progress",style:`width: ${c}%;`})}),i<r&&V("div",{className:"gsg-extension-dialog__coupons-application-progress",children:[V("img",{src:chrome.runtime.getURL("/public/images/icons/VoucherIcon.svg")}),V(fo,{className:"gsg-extension-dialog__coupons-application-progress-text",color:"textPrimary",variant:"body1",children:Bi.t("alert.caa.testing.progress.text",{currentCouponIndex:l,totalCouponsCount:r})})]})]})},wa=(...e)=>e.filter((e=>e)).map((e=>"object"==typeof e?Object.keys(e).filter((t=>e[t])).join(" "):e)).filter((e=>e)).join(" ");var xa=Ji({defaultClassName:"_1pxk3nb0",variantClassNames:{variant:{inherit:"_1pxk3nb1",body1:"_1pxk3nb2",body2:"_1pxk3nb3",button:"_1pxk3nb4",caption:"_1pxk3nb5",caption1Big:"_1pxk3nb6",caption1Small:"_1pxk3nb7",caption2Big:"_1pxk3nb8",caption2Small:"_1pxk3nb9",chip:"_1pxk3nba",h1:"_1pxk3nbb",h2:"_1pxk3nbc",h3:"_1pxk3nbd",h4:"_1pxk3nbe",h5:"_1pxk3nbf",h6:"_1pxk3nbg",overline:"_1pxk3nbh",subtitle1:"_1pxk3nbi",subtitle2:"_1pxk3nbj",tag1:"_1pxk3nbk",tag1Test:"_1pxk3nbl",tooltip:"_1pxk3nbm",voucherTitle:"_1pxk3nbn"},underline:{hover:"_1pxk3nbo",none:"_1pxk3nbp",always:"_1pxk3nbq"},color:{inherit:"_1pxk3nbr",interactionColor:"_1pxk3nbs",primary:"_1pxk3nbt",textPrimary:"_1pxk3nbu"}},defaultVariants:{},compoundVariants:[]});const Aa=en(((e,t)=>{const{variant:n="body1",underline:o="hover",href:r="#",color:i="interactionColor",className:a,children:s,...l}=e;return V("a",{ref:t,href:r,className:wa(xa({variant:n,color:i,underline:o}),a),...l,children:s})}));var ka=r(7856),Ca=r.n(ka);const Sa="cache";class Na{data={};isReady;storage;timeoutId;constructor(e){this.isReady=e.get(Sa).then((e=>{this.data=e??{}})),this.storage=e}async get(e){await this.isReady;const t=this.data[e];if(t?.expireAt&&t.expireAt>Date.now())return t.data}async set(e,t,n){await this.isReady,this.data[e]={data:t,expireAt:Date.now()+n},this.save()}async remove(e,t=!0){await this.isReady;const{[e]:n,...o}=this.data;this.data=o,t&&this.save()}async clear(){this.data={},this.save(!0)}save(e=!1){if(this.timeoutId&&!e)return;const t=e?0:1e3;clearTimeout(this.timeoutId);for(const e of Object.keys(this.data))if(this.data[e].expireAt<=Date.now()){const{[e]:t,...n}=this.data;this.data=n}this.timeoutId=setTimeout((()=>{this.storage.set(Sa,this.data),this.timeoutId=void 0}),t)}}new Na(vt),new Na(_t);const Ea={CHROME:"https://chromewebstore.google.com/detail/pepper-shopping-with-savi/bencobnblhoiacjofkgcnebancoikofo/reviews",FIREFOX:"https://addons.mozilla.org/firefox/addon/assistant-pepper/",SAFARI:"https://apps.apple.com/app/pepper/id6479392144"},Oa={CHROME:"https://chromewebstore.google.com/u/1/detail/pepper-shoppen-en-bespare/bencobnblhoiacjofkgcnebancoikofo/reviews?hl=nl",FIREFOX:"https://addons.mozilla.org/firefox/addon/assistant-pepper/",SAFARI:"https://apps.apple.com/app/pepper/id6479392144"},Ta={CHROME:"https://chromewebstore.google.com/u/1/detail/pepper-zakupy-z-oszcz%C4%99dno/bencobnblhoiacjofkgcnebancoikofo/reviews?hl=pl",FIREFOX:"https://addons.mozilla.org/firefox/addon/assistant-pepper/",SAFARI:"https://apps.apple.com/app/pepper/id6479392144"};let Pa=vo;(async()=>{Pa=await Ui()??""})();const Da=()=>{switch(Pa){case mo:return Ea;case yo:return Oa;default:return Ta}};var La;!function(e){e[e.EDGE=0]="EDGE",e[e.FIREFOX=1]="FIREFOX",e[e.CHROME=2]="CHROME",e[e.SAFARI=3]="SAFARI"}(La||(La={}));const Ra=e=>e.test(window.navigator.userAgent);const Ia=function(){switch(!0){case Ra(/edg/i):return La.EDGE;case Ra(/firefox|fxios/i):return La.FIREFOX;case Ra(/chrome|chromium|crios/i):return La.CHROME;case Ra(/safari/i):return La.SAFARI;default:return La.CHROME}}(),Ma=e=>{const{tabSession:t,close:n,trackSuccess:o}=e,r=t.bestCoupon,i=`${ya(r.initialTotal.value,r.initialTotal.type)}`,a=`${ya(r.totalWithDiscount.value,r.totalWithDiscount.type)}`,s=va(r);let l=Da().CHROME;switch(Ia){case La.FIREFOX:l=Da().FIREFOX;break;case La.SAFARI:l=Da().SAFARI}const c=Ca().sanitize(Bi.t("alert.caa.testing.success.title",{amount:s,code:r.code})??"");return o(i,s),V(na,{className:"gsg-extension-dialog__body--large-bottom-padding",closePopup:n,children:[V("img",{className:"gsg-extension-dialog__body-icon",src:chrome.runtime.getURL("/public/images/icons/Money.svg")}),V(fo,{color:"textPrimary",component:"div",variant:"subtitle2",children:Bi.t("alert.caa.testing.success.sub-title")}),V("h3",{className:"gsg-extension-typography-h3 gsg-extension-dialog__body-text-container gsg-extension-dialog__body-text-container--space-around",children:V("p",{className:"gsg-extension-dialog__success-title",dangerouslySetInnerHTML:{__html:c}})}),V(fo,{className:"gsg-extension-dialog__sub-text",color:"textPrimary",variant:"body2",children:[V(fo,{component:"span",variant:"body2",children:[Bi.t("alert.caa.testing.success.price"),V("span",{className:"gsg-extension-typography-body2 gsg-extension-dialog__sub-text--strikethrough",children:i})]}),V(fo,{component:"span",variant:"body2",children:[Bi.t("alert.caa.testing.success.price-after"),V("span",{className:"gsg-extension-typography-body2 gsg-extension-dialog__sub-text--bold",children:a})]})]}),V(ea,{onClick:n,children:V("span",{className:"gsg-extension-typography-button",children:Bi.t("alert.caa.testing.success.action-button")})}),V("div",{className:"gsg-extension-dialog__rateus",children:[V(fo,{color:"textPrimary",component:"div",variant:"h6",children:Bi.t("alert.caa.testing.success.rate-us")}),V(Aa,{className:"gsg-extension-dialog__rateus-anchor",color:"interactionColor",href:l,target:"_blank",underline:"none",children:Bi.t("alert.caa.testing.success.rate-us-link")})]})]})},ja="n/a";function Ua(e,t){return{ea:e,ec:"Auto Apply",el:{aaTotalCodes:t.couponsToTest.length,currency:ut.Zloty,duration:t.startTime?Math.round(((new Date).getTime()-t.startTime)/1e3):0,finalPrice:t.bestCoupon?t.bestCoupon.totalWithDiscount.value:ja,initialPrice:t.initialPrice??ja,retailerId:t.trackingData?.merchantId,retailerName:t.merchantName,successCode:t.bestCoupon?t.bestCoupon.code:ja,tabType:ja,totalCodesTried:t.testedCoupons.length,voucherId:t.bestCoupon?t.bestCoupon.id:ja,vouchersFailed:$a(t.trackedCoupons),vouchersSucceded:Ha(t.trackedCoupons)},ni:1,t:"event"}}function Fa(e,t){return{ea:e,ec:"Auto Apply",el:{aaTotalCodes:t.couponsToTest.length,currency:ut.Zloty,duration:t.startTime?Math.round(((new Date).getTime()-t.startTime)/1e3):0,finalPrice:ja,initialPrice:t.initialPrice??ja,retailerId:t.trackingData?.merchantId,retailerName:t.merchantName,successCode:ja,tabType:ja,totalCodesTried:t.testedCoupons.length,voucherId:ja,vouchersFailed:$a(t.trackedCoupons),vouchersSucceded:[]},ni:1,t:"event"}}function Ba(e,t){return{ea:e,ec:"Auto Apply",el:{aaTotalCodes:t.couponsToTest.length,currency:ut.Zloty,duration:t.startTime?Math.round(((new Date).getTime()-t.startTime)/1e3):0,finalPrice:ja,initialPrice:t.initialPrice??ja,retailerId:t.trackingData?.merchantId,retailerName:t.merchantName,successCode:ja,tabType:ja,totalCodesTried:t.testedCoupons.length,voucherId:ja,vouchersFailed:$a(t.trackedCoupons),vouchersSucceded:Ha(t.trackedCoupons)},ni:1,t:"event"}}function Ha(e){return Array.from(new Set(e.filter(sa).map((e=>e.id))))}function $a(e){return e.filter(la).map((e=>e.id))}const qa=(e,t)=>{chrome.runtime.sendMessage({param:t,type:e})},Va=e=>{const{sendLog:t,stopTryingCodes:n,hideDialog:o,tabSession:r}=e,[i,a]=Lt(!1);const s=()=>{t(),qa("send-megatron-analytics",{event:Ba("userAction:stop",r)}),qa(ko.SEND_GA,{name:"stop_caa",params:{retailer_name:r.merchantName}}),o(),n()},l=()=>{o()},c=!r.bestCoupon&&1===r.couponsToTest.length,u=r.couponsToTest.length<=r.testedCoupons.length,d=Wi(r),p=r.bestCoupon&&!d;return!u||p||c&&i?V(ba,{onCouponAnimationFinished:()=>a(!u),stop:s,tabSession:r}):d?(n(),V(Ma,{close:l,tabSession:r,trackSuccess:function(e,t){qa("send-megatron-analytics",{event:Ua("userAction:success",r)}),qa(ko.SEND_GA,{name:"success_caa",params:{basket_value:e,discount_value:t,retailer_name:r.merchantName}})}})):(qa("send-megatron-analytics",{event:Fa("userAction:fail",r)}),qa(ko.SEND_GA,{name:"no_coupons_caa",params:{retailer_name:r.merchantName}}),n(),V(oa,{close:l}))};var Wa;!function(e){e.CAA="gsg-CAA-dialog",e.CAY="gsg-CAY-dialog",e.SideButton="gsg-side-button",e.Notification="gsg-notification-dialog",e.CAATooltip="gsg-CAA-tooltip",e.CAYVouchersTooltip="gsg-CAY-vouchers-tooltip",e.CAYDealsTooltip="gsg-CAY-deals-tooltip",e.SideButtonTooltip="gsg-side-button-tooltip",e.NotificationTooltip="gsg-notification-tooltip",e.NotificationHideTooltip="gsg-notification-hide-tooltip"}(Wa||(Wa={}));const za=Bi.t;const Ga=function(e){const{CTAClicked:t,amountOfCoupons:n,onClose:o,sendAnalytics:r}=e,[i,a]=Lt(!1),[s,l]=Lt(!1);return It((()=>{setTimeout((()=>{a(!0),l(!1)}),10),setTimeout((()=>{chrome.runtime.sendMessage({type:So.SHOWN})}),1e3)}),[]),It((()=>{r()}),[r]),V("div",{className:`gsg-extension-popup gsg-extension-popup--small gsg-extension-popup--shadow-white-window\n        ${i?"gsg-extension-popup--visible-small":""}\n        ${s?"gsg-extension-popup--hide-small":""}\n      `,"data-tooltip":Wa.CAA,children:[V(ta,{closePopup:()=>{a(!1),l(!0),setTimeout(o,1e3),chrome.runtime.sendMessage({type:So.CLOSE_BUTTON.CLICKED})},iconShape:"square"}),V("div",{className:"gsg-extension-popup__body",children:[V("div",{className:"gsg-extension-popup__body-logo-container",children:V("img",{src:chrome.runtime.getURL("/public/images/icons/VouchersLogo.svg")})}),V("div",{className:"gsg-extension-popup__body-text-container",children:[V("h3",{className:"gsg-extension-typography-h3 gsg-extension-popup__body-title",children:za("alert.caa.cupon-detection.title",{count:n})}),V(fo,{color:"textSecondary",variant:"body2",children:Bi.t("alert.caa.cupon-detection.description")})]}),V(ea,{onClick:t,children:V("span",{className:"gsg-extension-typography-button",children:Bi.t("alert.caa.cupon-detection.action-button")})})]})]})};class Ya{#c;#u;constructor(e){this.#c=document.createElement("div"),this.#c.classList.add("gsg-extension"),this.#u=e,this.#u.appendChild(this.#c),this.render()}async tryCodes(){this.log({details:"Starting CAA",level:"INFO"});const e=await qi().runtime.sendMessage({type:pt.GetPageState}),t=e.amounts.total.amount?.value?e.amounts.total.amount.value:null,n=await this.setTabSession({bestCoupon:null,endTime:null,initialPrice:t,startTime:(new Date).getTime(),testedCoupons:[]});var o,r;this.render(),this.openAffiliateLink(n),qa("send-megatron-analytics",{event:(o="userAction:start",r=n,{ea:o,ec:"Auto Apply",el:{aaTotalCodes:r.couponsToTest.length,currency:ut.Zloty,duration:ja,finalPrice:ja,initialPrice:r.initialPrice??ja,retailerId:r.trackingData?.merchantId,retailerName:r.merchantName,successCode:ja,tabType:ja,totalCodesTried:ja,voucherId:ja},ni:0,t:"event"})}),qa(ko.SEND_GA,{name:"start_caa",params:{location:"caa_alert",retailer_name:n.merchantName}});const{couponsToTest:i}=n;qi().runtime.sendMessage({cacheDuplicates:!0,codes:i,type:pt.TryCodes,validateCodes:!0})}async destroy(){this.hideDialog(),this.#c.remove()}async processTriedCode(e){const t=await this.getTabSession();if(t.endTime)return void this.log({details:"CAA stopped",level:"INFO"});t.testedCoupons.push(e);const n=function(e){const[t]=e.filter(sa).sort(((e,t)=>e.totalWithDiscount.value<t.totalWithDiscount.value?-1:1));return t??null}(t.testedCoupons);if(!t.bestCoupon||n?.id!==t.bestCoupon.id){const n=t.trackedCoupons.findIndex((t=>t.id===e.id));t.trackedCoupons[n]=e}const o=await this.setTabSession({bestCoupon:n,testedCoupons:t.testedCoupons,trackedCoupons:t.trackedCoupons}),r=o.testedCoupons.length===o.couponsToTest.length,i=Wi(o);r&&this.sendLog();const a=o.bestCoupon&&!i;r&&a&&(this.log({details:"Applying best coupon: "+JSON.stringify(o.bestCoupon),level:"INFO"}),qi().runtime.sendMessage({codes:[o.bestCoupon],type:pt.TryCodes})),r&&!o.bestCoupon&&(this.log({details:"No coupon applied",level:"INFO"}),this.stopTryingCodes()),this.render()}async render(){const e=await this.getTabSession();var t;F(V(Va,{hideDialog:(t={hideDialog:()=>this.hideDialog(),sendLog:()=>this.sendLog(),stopTryingCodes:()=>this.stopTryingCodes(),tabSession:e}).hideDialog,sendLog:t.sendLog,stopTryingCodes:t.stopTryingCodes,tabSession:t.tabSession}),this.#c)}getTabSession(){return qi().runtime.sendMessage({type:Po.REQUESTED})}setTabSession(e){return qi().runtime.sendMessage({param:e,type:Po.UPDATED})}openAffiliateLink(e){qi().runtime.sendMessage({param:{autoClose:!0,voucher:e.trackingData},type:"open-affiliate-link"})}stopTryingCodes(){this.setTabSession({endTime:(new Date).getTime(),startTime:null}),qi().runtime.sendMessage({type:pt.Stop})}hideDialog(){F(null,this.#c)}log(e){qi().runtime.sendMessage({param:e,type:So.LOG_EVENT})}async sendLog(){const e=this.getTabSession(),t=qi().runtime.sendMessage({type:pt.GetPageState});qi().runtime.sendMessage({param:{pageState:await t,tabSession:await e},type:So.LOG_SESSION})}}class Ka{#c;#u;constructor(e){this.#c=document.createElement("div"),this.#c.classList.add("gsg-extension"),this.#u=e,this.#u.appendChild(this.#c),this.render()}async render(){const e=await this.getSession();var t;F((t={CTAClicked:()=>this.startCAA(),amountOfCoupons:e.couponsToTest.length,onClose:()=>this.onClose(),sendAnalytics:()=>this.trackImpression()},V(Ga,{amountOfCoupons:t.amountOfCoupons,CTAClicked:t.CTAClicked,onClose:t.onClose,sendAnalytics:t.sendAnalytics})),this.#c)}async destroy(){F(null,this.#c),this.#c.remove()}getSession(){return qi().runtime.sendMessage({type:Po.REQUESTED})}setSession(e){return qi().runtime.sendMessage({param:e,type:Po.UPDATED})}async trackImpression(){const e=await this.getSession(),t=await this.setSession({impressionsCount:e.impressionsCount+1});var n,o;qa("send-megatron-analytics",{event:(n="userAction:impression",o=t,{ea:n,ec:"Auto Apply",el:{aaTotalCodes:o.couponsToTest.length,currency:ja,duration:ja,finalPrice:ja,initialPrice:0,retailerId:o.trackingData?.merchantId,retailerName:o.merchantName,successCode:ja,tabType:ja,totalCodesTried:ja,voucherId:ja},ni:1,t:"event"})}),qa(ko.SEND_GA,{name:"view_caa_alert",params:{retailer_name:e.merchantName}})}async trackCloseCouponsDetected(){const e=await this.getSession();var t,n;qa("send-megatron-analytics",{event:(t="userAction:close",n=e,{ea:t,ec:"Auto Apply",el:{aaTotalCodes:n.couponsToTest.length,currency:ja,duration:ja,finalPrice:ja,initialPrice:0,retailerId:n.trackingData?.merchantId,retailerName:n.merchantName,successCode:ja,tabType:ja,totalCodesTried:ja,voucherId:ja},ni:0,t:"event"})}),qa(ko.SEND_GA,{name:"close_caa_alert",params:{retailer_name:e.merchantName}})}startCAA(){F(null,this.#c),qi().runtime.sendMessage({type:So.START})}onClose(){this.trackCloseCouponsDetected(),F(null,this.#c)}}async function Xa(){const e=await vt.get(bo)??[],t=e.filter((e=>e.expiration>Date.now()));return await vt.set(bo,t),t}async function Ja(e){await vt.set(bo,e)}const Za=e=>{const{merchantName:t,merchantIds:n,setShowNotificationHide:o,setParentVisible:r,setParentClose:i}=e,a=async e=>{if(0===n.length)return;const a=await Xa();for(const o of n)a.push({expiration:e,id:o,name:t});await Ja(a),o(!1),r?.(!1),i?.(!0),chrome.runtime.sendMessage({type:Do.HIDDEN}),chrome.runtime.sendMessage({type:Lo.HIDDEN.DISPLAY})};return V("div",{className:"gsg-extension-popup__settings gsg-extension-popup--shadow-window gsg-extension-popup--visible--show","data-tooltip":Wa.NotificationHideTooltip,children:[V("div",{children:V(fo,{className:"",color:"textPrimary",component:"div",noWrap:!1,variant:"h6",children:Bi.t("alert.notification.hide.title",{merchantName:t})})}),V(Aa,{onClick:async()=>{await a(Date.now()+wo),qa(ko.SEND_GA,{name:"click_hide_oneday",params:{retailer_name:t}})},children:Bi.t("alert.notification.hide.once")}),V(Aa,{onClick:async()=>{await a(Date.now()+10*xo),qa(ko.SEND_GA,{name:"click_hide_always",params:{retailer_name:t}})},children:Bi.t("alert.notification.hide.always")})]})},Qa=$({id:"",usedInFormField:!1,state:{hover:!1,focus:!1,error:!1,disabled:!1},handlers:{onFocus:()=>{},onBlur:()=>{},onMouseEnter:()=>{},onMouseLeave:()=>{},setDisabled:()=>{},setId:()=>{}}});Qa.displayName="FormFieldContext";var es=Ji({defaultClassName:"_3wj9hi0",variantClassNames:{usedInFormField:{true:"_3wj9hi1",false:"_3wj9hi2"}},defaultVariants:{},compoundVariants:[]});const ts=en(((e,t)=>{const{className:n,id:o,onFocus:r,onBlur:i,onMouseEnter:a,onMouseLeave:s,disabled:l,onChange:c,...u}=e,{id:d,usedInFormField:p,handlers:h}=(e=>{const{id:t,usedInFormField:n,state:o,handlers:r}=Bt(Qa);return It((()=>{r.setDisabled(e.disabled??!1)}),[r,e.disabled]),It((()=>{e.id&&r.setId(e.id)}),[r,e.id]),{id:t,usedInFormField:n,state:o,handlers:{onFocus:t=>{r.onFocus(t),e.onFocus&&e.onFocus(t)},onBlur:t=>{r.onBlur(t),e.onBlur&&e.onBlur(t)},onMouseEnter:t=>{r.onMouseEnter(t),e.onMouseEnter&&e.onMouseEnter(t)},onMouseLeave:t=>{r.onMouseLeave(t),e.onMouseLeave&&e.onMouseLeave(t)}}}})({id:o,disabled:l,onBlur:i,onFocus:r,onMouseEnter:a,onMouseLeave:s});return V("input",{...u,...h,id:d,disabled:l,ref:t,onChange:e=>{c(e,e.target.value)},className:wa(es({usedInFormField:p}),n)})})),ns=$(void 0);function os({children:e,baseUrl:t,clientId:n}){const o=`${t}/assets/pico/${n}/v1/icons.svg`;return V(ns.Provider,{value:o,children:e})}ns.displayName="IconContext";const rs=["Facebook","Instagram","LinkedIn","Messenger","Twitter","WhatsApp"];var is="--mask-image",as=Ji({defaultClassName:"tuwh4o0",variantClassNames:{fontSize:{small:"tuwh4o1",medium:"tuwh4o2",large:"tuwh4o3",inherit:"tuwh4o4"},color:{inherit:"tuwh4o5",white:"tuwh4o6",black:"tuwh4o7",primary:"tuwh4o8",secondary:"tuwh4o9",success:"tuwh4oa",error:"tuwh4ob",warning:"tuwh4oc",info:"tuwh4od",action:"tuwh4oe",disabled:"tuwh4of"}},defaultVariants:{},compoundVariants:[]});const ss=({name:e,iconUrl:t})=>{try{return`url("${(()=>{const e=Bt(ns);if(void 0===e)throw new Error("useIconUrl hook must be used within an IconProvider");return e})()}#${e}")`}catch(n){return`url("${t}#${e}")`}},ls={Facebook:"#3B5998",Instagram:"#E1306C",LinkedIn:"#0077B5",Messenger:"#006AFF",Twitter:"#00ACEE",WhatsApp:"#25D366"},cs=({name:e,color:t="inherit",fontSize:n="medium",useSocialBrandColor:o=!1,iconUrl:r})=>{const i=ss({name:e,iconUrl:r}),a={[is]:i};return o&&rs.includes(e)&&(a.backgroundColor=ls[e]),V("span",{style:a,className:as({color:t,fontSize:n}),"aria-hidden":!0,"data-testid":`${e}Icon`})},us=e=>V("div",{children:e.isDisplayDeal&&e.deals.length>10&&V("div",{className:"gsg-extension-popup__search-container",children:[V(ts,{className:"gsg-extension-popup__deals-search",onChange:e.handleSearch,onKeyPress:e.handleKeyPress,placeholder:Bi.t("alert.cay.deals.search")}),V("div",{className:"gsg-extension-popup__search-icon",children:V(cs,{fontSize:"small",name:"Search",useSocialBrandColor:!1})})]})});function ds({children:e}){return V(os,{baseUrl:chrome.runtime.getURL("/public"),clientId:"74e20df160ff4d1eaf1b048e0476dbf4",children:e})}var ps=Ji({defaultClassName:"w9k87f0",variantClassNames:{square:{true:"w9k87f1",false:"w9k87f2"},outlined:{true:"w9k87f3"},elevation:{0:"w9k87f4",1:"w9k87f5",2:"w9k87f6",3:"w9k87f7",4:"w9k87f8",5:"w9k87f9",6:"w9k87fa",7:"w9k87fb",8:"w9k87fc",9:"w9k87fd",10:"w9k87fe",11:"w9k87ff",12:"w9k87fg",13:"w9k87fh",14:"w9k87fi",15:"w9k87fj",16:"w9k87fk",17:"w9k87fl",18:"w9k87fm",19:"w9k87fn",20:"w9k87fo",21:"w9k87fp",22:"w9k87fq",23:"w9k87fr",24:"w9k87fs"}},defaultVariants:{},compoundVariants:[]});const hs=Dn.forwardRef(((e,t)=>{const{variant:n="elevation",elevation:o=1,square:r=!1,className:i="",style:a,children:s,...l}=e;return V("div",{ref:t,style:a,className:`${ps({square:r,outlined:"outlined"===n,elevation:"elevation"===n?o:void 0})} ${i}`,...l,children:s})})),fs=({setShowOptions:e,handleStartCAA:t})=>V("div",{className:"gsg-extension-popup__content_caa",children:V(hs,{className:"gsg-extension-popup__options",elevation:1,square:!1,variant:"elevation",children:[V("div",{children:V("img",{src:chrome.runtime.getURL("/public/images/icons/VouchersLogo.svg")})}),V(fo,{className:"gsg-extension-popup__options-title",children:Bi.t("alert.cay.options.title")}),V(fo,{className:"gsg-extension-popup__options-description",children:Bi.t("alert.cay.options.description")}),V(ea,{className:"gsg-extension-popup__options-button",onClick:t,children:Bi.t("alert.cay.options.button")}),V(Aa,{onClick:()=>e(!1),children:Bi.t("alert.cay.options.show-vouchers")})]})}),gs=e=>{const{logo:t,price:n,title:o,url:r,next_best_price:i,discount_rate:a}=e.deal,[s,l]=Lt(!1),c=()=>l(!s);return V(hs,{className:"gsg-deals__card",elevation:1,square:!1,variant:"elevation",children:V("a",{className:"gsg-deals__card-link",href:r,onClick:()=>e.openAffiliateLink(e.deal,!0),rel:"noreferrer",target:"_blank",children:[V("div",{className:"gsg-deals__card-left",children:V("img",{src:t})}),V("div",{className:"gsg-deals__card-right",onMouseEnter:c,onMouseLeave:c,children:[V(fo,{className:"gsg-mb-s gsg-deals__card-title",color:"textPrimary",component:"p",noWrap:!1,variant:"body2",children:o}),V("div",{className:"gsg-deals__card-details",children:[V(fo,{className:"gsg-deals__card-price",color:"textHint",component:"span",noWrap:!1,variant:"body2",children:0===n?Bi.t("alert.cay.deals.price-free"):n}),i&&a&&V(v,{children:[V(fo,{className:"gsg-deals__card-price-next",color:"textHint",component:"span",noWrap:!1,variant:"body2",children:i}),V(fo,{className:"gsg-deals__card-discount-rate",color:"textHint",component:"span",noWrap:!1,variant:"body2",children:["(-",a,")"]})]})]})]})]})})},ms=e=>V("div",{className:"gsg-deals",children:e.children}),ys=e=>{const{t}=ji();return V("div",{className:`gsg-extension-empty-page ${e.className??""}`,children:[V("img",{src:chrome.runtime.getURL("/public/images/icons/EmptyStateIcon.svg")}),V("h2",{className:"gsg-extension-empty-page__title",children:Bi.t("alert.cay.empty-page",{merchantName:e.merchantName,type:e.typeLocale})}),e.filterText?V("div",{children:V(ea,{className:"gsg-extension-empty-page__search-on-retailer-button",endIcon:V(cs,{color:"white",name:"OpenInNew"}),fullWidth:!1,onClick:()=>{return t=e.filterText,void qa("search-on-retailer",{filterText:t});var t},size:"small",variant:"contained",children:t("extension-window.empty_page.search_on_retailer")})}):null]})},vs=()=>{const[e,t]=Lt(!1);It((()=>{chrome.runtime.sendMessage({type:Eo.GET_INFO}).then((e=>{e.enabled&&!e.hiddenByUser&&e.dealsClickCount>=3&&t(!0)}))}),[]);const n=Ca().sanitize(Bi.t("alert.cay.feedback-banner.content")??"",{ADD_ATTR:["target"]});return V(v,{children:e&&V(hs,{className:"gsg-banner",elevation:8,square:!0,variant:"elevation",children:[V(fo,{color:"textPrimary",component:"div",noWrap:!1,variant:"body2",children:V("div",{className:"gsg-banner__content",dangerouslySetInnerHTML:{__html:n}})}),V("button",{className:"gsg-banner__close-button",onClick:()=>{t(!1),chrome.runtime.sendMessage({type:Eo.HIDDEN_BY_USER})},children:V("img",{src:chrome.runtime.getURL("/public/images/icons/CloseIcon.svg")})})]})})};var _s=r(4184),bs=r.n(_s);const ws=e=>{const t=e.className,n=Bi.t("alert.cay.footer.vouchers.title",{count:e.voucherCount}),o=Bi.t("alert.cay.footer.deals.title",{count:e.dealCount});return V("div",{className:bs()("gsg-extension-footer","gsg-extension-footer--padding",{customClassname:t}),children:[V("button",{className:bs()({"gsg-extension-footer__card-selected":e.isDisplayDeal,"gsg-extension-footer__deals-button":!0}),onClick:e.displayDeals,children:[V("div",{className:"gsg-extension-footer__deals",children:[V("img",{alt:o,className:bs()({"gsg-extension-footer__deals-selected":e.isDisplayDeal}),src:e.isDisplayDeal?chrome.runtime.getURL("/public/images/icons/DealSelectedIcon.svg"):chrome.runtime.getURL("/public/images/icons/DealIcon.svg")}),e.dealCount?V("span",{className:"gsg-extension-footer__deals-count",children:e.dealCount}):null]}),V(fo,{className:bs()("gsg-extension-footer__item-title",{"gsg-extension-footer__item-title--selected":e.isDisplayDeal}),color:"textPrimary",component:"p",noWrap:!1,variant:"body2",children:Bi.t("alert.cay.footer.deals.title",{count:e.dealCount})})]}),V("button",{className:bs()({"gsg-extension-footer__card-selected":!e.isDisplayDeal,"gsg-extension-footer__vouchers-button":!0}),onClick:e.displayVouchers,children:[V("div",{className:"gsg-extension-footer__vouchers",children:[V("img",{alt:n,className:bs()({"gsg-extension-footer__vouchers-selected":!e.isDisplayDeal}),src:e.isDisplayDeal?chrome.runtime.getURL("/public/images/icons/FooterVoucherIcon.svg"):chrome.runtime.getURL("/public/images/icons/FooterVoucherSelectedIcon.svg")}),e.voucherCount?V("span",{className:"gsg-extension-footer__vouchers-count",children:e.voucherCount}):null]}),V(fo,{className:bs()("gsg-extension-footer__item-title",{"gsg-extension-footer__item-title--selected":!e.isDisplayDeal}),color:"textPrimary",component:"p",noWrap:!1,variant:"body2",children:Bi.t("alert.cay.footer.vouchers.title",{count:e.voucherCount})})]})]})};const xs=Dn.forwardRef(((e,t)=>{const{disabled:n,className:o,caretPosition:r="right",collapseLabel:i,expandLabel:a,isExpanded:s=!0,onChange:l,...c}=e,[u,d]=Dn.useState(s);return V("button",{...c,onClick:()=>{l(!u),d((e=>!e))},ref:t,type:"button",className:`_25a7920 ${o}`,disabled:n,children:["left"===r&&V(cs,{name:u?"ArrowDropUp":"ArrowDropDown",fontSize:"small"}),u?i:a,"right"===r&&V(cs,{name:u?"ArrowDropUp":"ArrowDropDown",fontSize:"small"})]})})),As=e=>{const[t,n]=Lt(!1),[o,r]=Lt(e.codeShown);e.codeShown&&r(!0);return V("div",{className:"gsg-peel-off-button",children:[V("div",{className:"gsg-peel-off-button__btn "+(o?"gsg-hide":""),children:[V(ea,{className:"gsg-peel-off-button__btn-component",disabled:!1,fullWidth:!0,inverted:!1,onClick:()=>{r(!0),e.revealHandler()},size:"small",variant:"contained",children:Bi.t("alert.cay.voucher.reveal_button")}),V("div",{className:"gsg-peel-off-button__decor",children:V("div",{className:"gsg-peel-off-button__decor-leaf"})})]}),V("div",{className:"gsg-d-flex "+(o?"":"gsg-hide"),children:[V(ea,{className:"gsg-peel-off-button__code",disabled:!1,foregroundLabel:V(fo,{className:"gsg-peel-off-button__code-text",color:"textPrimary",component:"div",noWrap:!0,variant:"h6",children:e.code}),fullWidth:!1,inverted:!1,size:"small",variant:"outlined"}),V(ea,{className:"gsg-peel-off-button__copy",disabled:!1,fullWidth:!1,inverted:!1,onClick:()=>{e.code&&navigator.clipboard.writeText(e.code),n(!0),setTimeout((()=>{n(!1)}),3e3)},size:"small",startIcon:V(cs,{color:"white",name:t?"Check":"FileCopy"}),variant:"contained",children:t?Bi.t("alert.cay.voucher.copied"):Bi.t("alert.cay.voucher.copy")})]})]})},ks=e=>{const{title:t,code:n,terms:o,expire_date:r}=e.voucher,{openAffiliateLink:i}=e,[a,s]=Lt(!1),[l,c]=Lt(!1);It((()=>{chrome.runtime.sendMessage({param:{voucherId:e.voucher.id},type:No.CODE.IS_SHOWN},(e=>{e&&c(!0)}))}),[e.voucher.id]);const u=new Intl.DateTimeFormat("en-GB").format(new Date(r));return V(hs,{className:"gsg-vouchers__item",elevation:1,square:!1,variant:"elevation",children:[V(fo,{className:"gsg-mb-s",color:"textPrimary",component:"p",noWrap:!1,variant:"body2",children:t}),V("div",n?{className:"gsg-mb-s",children:V(As,{code:n,codeShown:l,revealHandler:()=>{i(e.voucher,!0),chrome.runtime.sendMessage({param:{voucherId:e.voucher.id},type:No.CODE.ADD_TO_STORAGE})}})}:{className:"gsg-mb-s",children:V(ea,{fullWidth:!0,onClick:()=>{},size:"small",variant:"contained",children:"Get deal"})}),V("div",{children:V(fo,{className:"gsg-vouchers__item-end-date",color:"textHint",component:"div",noWrap:!1,variant:"tag2",children:[Bi.t("alert.cay.voucher.expiration")," ",u]})}),o.length>0&&V("div",{className:"vouchers__item-terms",children:[V(xs,{caretPosition:"right",collapseLabel:Bi.t("alert.cay.voucher.details"),expandLabel:Bi.t("alert.cay.voucher.details"),isExpanded:!1,onChange:()=>{s(!a)}}),V("div",{className:"gsg-pt-s "+(a?"":"gsg-hide"),children:o.map(((e,t)=>V(fo,{color:"textSecondary",component:"p",noWrap:!1,variant:"body2",children:[V("b",{children:[e.title,":"]})," ",e.text]},t)))})]})]})},Cs=e=>V("div",{className:"gsg-vouchers",children:e.children}),Ss=e=>{const{closeAnimationComplete:t,showAnimationComplete:n,openAffiliateLinkForDeals:o,openAffiliateLinkForVouchers:r,handleStartCAA:i,vouchers:a,deals:s,selectedTab:l,canApply:c}=e,[u,d]=Lt(!1),[p,h]=Lt(!1),[f,g]=Lt("deals"===l&&s.length>0),[m,y]=Lt(c&&a.filter(Vi).length>0),[v,_]=Lt(!1),[b,w]=Lt(""),[x,A]=Lt(s),[k,C]=Lt(s.length),[S,N]=Lt(!0),E=a.length,O=Bi.t("alert.cay.footer.vouchers.title",{count:100}),T=Bi.t("alert.cay.footer.deals.title",{count:100});It((()=>{setTimeout((()=>{d(!0),setTimeout(n,800)}),10),f&&k>10&&qa(ko.SEND_GA,{name:"view_search_bar_deal_list",params:{retailer_name:e.merchantName?e.merchantName:e.pepperMerchantName}})}),[]),It((()=>{qa(ko.SEND_GA,f?{name:"view_deal_list",params:{retailer_name:e.merchantName?e.merchantName:e.pepperMerchantName}}:{name:"view_voucher_list",params:{retailer_name:e.merchantName?e.merchantName:e.pepperMerchantName}})}),[f]),It((()=>{if(""===b)A(s),C(s.length);else{const e=s.filter((e=>e.title.toLowerCase().includes(b.toLowerCase())));A(e),C(e.length)}}),[s,b]);const P=t=>{const n=t.target.value||"";S&&(qa(ko.SEND_GA,{name:"type_search_bar_deal_list",params:{retailer_name:e.merchantName?e.merchantName:e.pepperMerchantName}}),N(!1)),w(n.trim())};return V("div",{className:`gsg-extension-popup gsg-extension-popup--shadow-window \n        ${u?"gsg-extension-popup--visible":""}\n        ${p?"gsg-extension-popup--hide":""}\n      `,"data-tooltip":Wa.CAY,children:[V(ta,{closePopup:()=>{chrome.runtime.sendMessage({type:No.CLOSE_BUTTON.CLICKED}),h(!0),d(!1),qa(ko.SEND_GA,f?{name:"close_deal_list",params:{retailer_name:e.merchantName?e.merchantName:e.pepperMerchantName}}:{name:"close_voucher_list",params:{retailer_name:e.merchantName?e.merchantName:e.pepperMerchantName}}),setTimeout(t,800)},settingsHandler:()=>_((e=>!e))}),f&&s.length>10&&V(us,{deals:s,handleKeyPress:e=>{"Enter"===e.key&&P(e)},handleSearch:P,isDisplayDeal:f}),V("div",{className:"gsg-extension-popup__content-wrapper",children:[V("div",{className:"gsg-extension-popup__content gsg-extension-popup__content_cay",children:[V(fo,{color:"textPrimary",component:"div",noWrap:!1,variant:"h4",children:f?k>0&&Bi.t("alert.cay.deals.title",{count:k}):E>0&&Bi.t("alert.cay.vouchers.title",{count:E})}),!f&&m&&V(fs,{handleStartCAA:i,setShowOptions:y}),f?x.length?V(ms,{children:x.map(((e,t)=>V(gs,{deal:e,openAffiliateLink:o},t)))}):V(ys,{filterText:b,merchantName:e.merchantName??e.pepperMerchantName,type:"deals",typeLocale:T}):!m&&(a.length?V(Cs,{children:a.map(((e,t)=>V(ks,{openAffiliateLink:r,voucher:e},t)))}):V(ys,{merchantName:e.merchantName??e.pepperMerchantName,type:"vouchers",typeLocale:O}))]}),f&&V(vs,{})]}),v&&V(Za,{merchantIds:e.merchantIds,merchantName:e.merchantName??e.pepperMerchantName,setParentClose:h,setParentVisible:d,setShowNotificationHide:_}),V(ws,{dealCount:k,displayDeals:()=>{g(!0),A(s),C(s.length),chrome.runtime.sendMessage({type:Lo.CAY.DEALS.DISPLAY})},displayVouchers:()=>{g(!1),chrome.runtime.sendMessage({type:Lo.CAY.VOUCHERS.DISPLAY})},isDisplayDeal:f,voucherCount:E})]})},Ns=(e,t,n,o,r,i,a,s,l,c,u,d)=>V(ds,{children:V(Ss,{canApply:d,closeAnimationComplete:l,deals:t,handleStartCAA:u,merchantIds:r,merchantName:n,openAffiliateLinkForDeals:a,openAffiliateLinkForVouchers:s,pepperMerchantName:o,selectedTab:i,showAnimationComplete:c,vouchers:e})});class Es{#d;#c;#p;#u;constructor(e,t,n){this.#d=e,this.#c=document.createElement("div"),this.#p=n,this.#c.classList.add("gsg-extension"),this.#u=t,this.#u.appendChild(this.#c),this.render()}openAffiliateLinkDeals=()=>{qi().runtime.sendMessage({type:Eo.INCREASE_DEALS_CLICK_COUNT}),qa(ko.SEND_GA,{name:"click_deal_list",params:{retailer_name:this.#d.merchant?this.#d.merchant.name:this.#d.pepperMerchant?.name}})};openAffiliateLinkVouchers=(e,t=!0)=>{qa(ko.SEND_GA,{name:"click_voucher_list",params:{retailer_name:this.#d.merchant?this.#d.merchant.name:this.#d.pepperMerchant?.name}}),qi().runtime.sendMessage({param:{autoClose:t,voucher:e},type:"open-affiliate-link"})};closeAnimationComplete=()=>{qi().runtime.sendMessage({type:No.HIDDEN})};showAnimationComplete=()=>{qi().runtime.sendMessage({param:{tab:this.#p},type:No.SHOWN})};async destroy(){F(null,this.#c),this.#c.remove()}async handleStartCAA(){await qi().runtime.sendMessage({type:No.HIDDEN}),await qi().runtime.sendMessage({type:So.START})}async render(){const{merchant:e,pepperMerchant:t,vouchers:n,deals:o}=this.#d,r=function(e){const t=[];for(const n of e)n?.id&&t.push(n.id.toString());return t}([e,t]),i=await qi().runtime.sendMessage({type:pt.GetPageState}),a=i?.coupon.canApply??!1;F(Ns(n,o,e?.name,t?.name,r,this.#p,this.openAffiliateLinkDeals,this.openAffiliateLinkVouchers,this.closeAnimationComplete,this.showAnimationComplete,this.handleStartCAA,a),this.#c)}}const Os="dialogs:visibility";const Ts=e=>{const{vouchersCount:t,dealsCount:n,merchantName:o,merchantIds:r,closeAnimationComplete:i,showAnimationComplete:a}=e,[s,l]=Lt(!1),[c,u]=Lt(!1),[d,p]=Lt(!1);It((()=>{chrome.runtime.sendMessage({param:{tooltipName:Wa.NotificationTooltip},type:"get-tooltip-visibility"},(e=>{!0===e&&setTimeout((()=>{l(!1),u(!0),setTimeout(i,800)}),1e4)}))}),[i]),It((()=>{setTimeout((()=>{l(!0),setTimeout(a,800)}),10)}),[a]);const h=()=>{qa(ko.SEND_GA,n?{name:"close_notification_deals",params:{retailer_name:o}}:{name:"close_notification_vouchers",params:{retailer_name:o}}),chrome.runtime.sendMessage({type:To.CLOSE_BUTTON.CLICKED}),l(!1),u(!0)};return V("div",{className:`gsg-extension-popup gsg-extension-popup--notification gsg-pa-s gsg-extension-popup--shadow-window\n        ${s?"gsg-extension-popup--visible":""}\n        ${c?"gsg-extension-popup--hide":""}\n      `,"data-tooltip":Wa.Notification,children:[V("div",{className:"gsg-d-flex gsg-mb-xs",children:[V("div",{className:"gsg-d-iflex gsg-f-0 gsg-mr-12 gsg-color-primary",children:V("img",{className:"gsg-extension-popup__logo gsg-extension-popup__logo--small",src:chrome.runtime.getURL("/public/images/icons/PepperSquareIcon.svg")})}),V("div",{className:"gsg-f-1",children:V(fo,{className:"",color:"textPrimary",component:"div",noWrap:!1,variant:"h6",children:n>0?Bi.t("alert.notification.deals.title",{count:n}):Bi.t("alert.notification.vouchers.title",{count:t})})}),V("div",{className:"gsg-extension-popup__action",children:[V("button",{className:"gsg-extension-popup__action-button",onClick:()=>p((e=>!e)),children:V("img",{src:chrome.runtime.getURL("/public/images/icons/SettingsIcon.svg")})}),V("button",{className:"gsg-extension-popup__action-button",onClick:h,children:V("img",{src:chrome.runtime.getURL("/public/images/icons/CloseIcon.svg")})})]})]}),V("div",{className:n>0?"gsg-mb-xs":"",children:V(fo,{className:"",color:"textSecondary",component:"div",noWrap:!1,variant:"body2",children:n>0?Bi.t("alert.notification.deals.description"):Bi.t("alert.notification.vouchers.description")})}),n>0&&V(Aa,{color:"primary",onClick:e=>{e.preventDefault(),qa(ko.SEND_GA,{name:"click_notification_deals",params:{retailer_name:o}}),async function(e,t,n,o){if(!t)return;let r=await n.get(Os);r||(r={}),r[e]||(r[e]={}),r[e][t]=o,await n.set(Os,r)}(Wa.SideButtonTooltip,"global",vt,!0),h(),chrome.runtime.sendMessage({param:{tab:"deals"},type:Do.CLICKED}),setTimeout((()=>{chrome.runtime.sendMessage({type:Do.HIDDEN})}),400)},children:Bi.t("alert.notification.deals.more")}),d&&V(Za,{merchantIds:r,merchantName:o,setParentClose:u,setParentVisible:l,setShowNotificationHide:p})]})},Ps=(e,t,n,o,r,i)=>V(Ts,{closeAnimationComplete:r,dealsCount:t,merchantIds:o,merchantName:n,showAnimationComplete:i,vouchersCount:e});class Ds{#c;#h;#u;#f;constructor(e,t,n,o,r){this.#h=n,this.#c=document.createElement("div"),this.#c.classList.add("gsg-extension"),this.#u=r,this.#u.appendChild(this.#c),this.#f=t,F(Ps(e,t,n,o,this.closeAnimationComplete,this.showAnimationComplete),this.#c)}closeAnimationComplete=()=>{chrome.runtime.sendMessage({type:To.HIDDEN}),this.#f?qa(ko.SEND_GA,{name:"close_notification_deals",params:{retailer_name:this.#h}}):qa(ko.SEND_GA,{name:"close_notification_vouchers",params:{retailer_name:this.#h}})};showAnimationComplete=()=>{this.#f?qa(ko.SEND_GA,{name:"view_notification_deals",params:{retailer_name:this.#h}}):qa(ko.SEND_GA,{name:"view_notification_vouchers",params:{retailer_name:this.#h}}),chrome.runtime.sendMessage({type:To.SHOWN})};async destroy(){F(null,this.#c),this.#c.remove()}}const Ls=Bi.t,Rs=e=>100*e/window.innerHeight,Is=e=>{const{clickCallback:t,initialPosY:n,isEntryAnimated:o}=e,r=jt(null),i=window.innerHeight-48;let a=200;n&&n<=i?a=n:n&&n>i&&(a=i);const[s,l]=Lt(a),[c,u]=Lt(null),[d,p]=Lt(12),[h,f]=Lt(0),[g,m]=Lt(!1),[y,v]=Lt(!1);return It((()=>{setTimeout((()=>{m(!0)}),10),setTimeout((()=>{chrome.runtime.sendMessage({type:Do.SHOWN})}),400);let e=null,n=null;r.current?.addEventListener("click",(()=>{if(!1===r.current?.classList.contains("gsg-side-button--start-moving")){if(t().canceled)return;v(!0),m(!1)}})),r.current?.addEventListener("mousedown",(t=>{const o=r.current?.offsetTop;e=t.clientY,n=t.clientX,window.addEventListener("mousemove",(t=>{if(null!==e&&null!==n&&void 0!==o){r.current?.classList.add("gsg-side-button--start-moving"),m(!1);let a=o+(t.clientY-e),s=n-t.clientX;s<0&&(s=0),s>78&&(s=78),u(s),p((()=>12+.1538*s)),a<40&&(a=40),a>i&&(a=i),l(a),f((()=>a+24-d/2))}})),window.addEventListener("mouseup",(()=>{const t=r.current?.offsetTop;t&&(p(12),f((()=>t+24-d/2)),chrome.runtime.sendMessage({param:t,type:Do.SET_POSITION_TOP})),r.current?.classList.add("gsg-side-button--stop-moving"),setTimeout((()=>{r.current?.classList.remove("gsg-side-button--start-moving"),r.current?.classList.remove("gsg-side-button--stop-moving")}),400),e=null,n=null,u(0)}))}))}),[]),V("div",{className:`gsg-side-button\n        ${g&&o?"gsg-side-button--visible":""}\n        ${g&&!o?"gsg-side-button--visible-no-animation":""}\n        ${y?"gsg-side-button--hide":""}\n      `,"data-tooltip":Wa.SideButton,ref:r,style:`\n        ${null!==s?`top: ${Rs(s)}%;`:""}\n        ${null!==c?`right: ${c}px;`:""}\n      `,children:[V("div",{className:"gsg-side-button__bar",children:V("span",{className:"gsg-side-button__bar-anchor",style:""+(d>=0?`top: ${Rs(h)}%; height: ${d}px`:"")})}),V("div",{className:"gsg-side-button__hint",children:[V("strong",{children:Ls("side-button.tooltip.action-1-start")})," ",Ls("side-button.tooltip.action-1-end")," ",V("br",{}),V("strong",{children:Ls("side-button.tooltip.action-2-start")})," ",Ls("side-button.tooltip.action-2-end")]}),V("div",{className:"gsg-side-button__button",children:V("img",{className:"gsg-side-button__button-logo",src:chrome.runtime.getURL("/public/images/icons/PepperSquareWhiteIcon.svg")})}),V("div",{className:"gsg-side-button__handle",children:[V("span",{}),V("span",{}),V("span",{}),V("span",{}),V("span",{}),V("span",{})]})]})},Ms=(e,t,n=!0)=>V(Is,{clickCallback:e,initialPosY:t,isEntryAnimated:n});class js{#c;#g;#u;#f;constructor(e,t,n=!0,o,r){this.#g=e,this.#c=document.createElement("div"),this.#c.classList.add("gsg-extension"),this.#u=o,this.#u.appendChild(this.#c),this.#f=r,F(Ms(this.clickCallback,t,n),this.#c)}clickCallback=()=>{if(Gs())return{canceled:!0};qa(ko.SEND_GA,{name:"click_side_button",params:{retailer_name:this.#g[0]}});const e=this.#f>0?"deals":"vouchers";return chrome.runtime.sendMessage({param:{tab:e},type:Do.CLICKED}),setTimeout((()=>{chrome.runtime.sendMessage({type:Do.HIDDEN})}),400),{canceled:!1}};async destroy(){F(null,this.#c),this.#c.remove()}}const Us=e=>{const{title:t,text:n,buttonTitle:o,style:r,position:i,closeAnimationComplete:a}=e,[s,l]=Lt(!1),[c,u]=Lt(!1),d=jt(null);d.current?.addEventListener("animationend",(async()=>{s||a()})),It((()=>{setTimeout((()=>{l(!0)}),10)}),[]);const p=()=>{l(!1),u(!0)};return V(v,{children:[V("div",{className:`gsg-tooltip-overlay \n          ${s?"gsg-tooltip-overlay--visible":""}\n          ${c?"gsg-tooltip-overlay--hide":""}\n        `,id:"gsg-tooltip-overlay",onClick:p,ref:d}),V(hs,{className:`gsg-tooltip \n          ${"left"!==i?`gsg-tooltip--${i}`:""}\n          ${s?"gsg-tooltip--visible":""}\n          ${c?"gsg-tooltip--hide":""}\n        `,elevation:1,square:!1,style:r,variant:"elevation",children:[V(fo,{className:"gsg-mb-xs",color:"white",component:"h5",noWrap:!1,variant:"h5",children:t}),V(fo,{className:"gsg-mb-s",color:"white",component:"p",noWrap:!1,variant:"body2",children:n}),o&&V("div",{className:"gsg-d-flex gsg-hor-right",children:V(ea,{className:"gsg-tooltip__button",inverted:!0,onClick:p,size:"large",variant:"outlined",children:o})})]})]})},Fs=(e,t,n,o,r,i)=>V(Us,{buttonTitle:n,closeAnimationComplete:o,position:i,style:r,text:t,title:e});class Bs{#c;#m;#u;constructor(e){this.#c=document.createElement("div"),this.#c.classList.add("gsg-extension"),this.#u=e,this.#u.appendChild(this.#c);const t=e.querySelector(`[data-tooltip="${Wa.CAA}"]`);if(!t)return;t.style.zIndex="1",this.#m=t;const n=parseInt(window.getComputedStyle(t).width),o=parseInt(window.getComputedStyle(t).right),r=parseInt(window.getComputedStyle(t).height);o&&n&&setTimeout((()=>{F(Fs(`${Bi.t("onboarding-tooltips.caa.title")}`,`${Bi.t("onboarding-tooltips.caa.description")}`,null,this.closeAnimationComplete,`\n          right: ${o+n-76}px;\n          top: ${r-32}px;\n        `,"left"),this.#c),qa(ko.SEND_GA,{name:"view_tooltip_caa_alert"})}),100)}closeAnimationComplete=()=>{chrome.runtime.sendMessage({type:Lo.CAA.BUTTON.CLICKED}),qa(ko.SEND_GA,{name:"click_tooltip_caa_alert"}),this.#m.style.zIndex="initial"};async hide(){this.#c.querySelector("[id=gsg-tooltip-overlay]").click()}async destroy(){F(null,this.#c),this.#c.remove()}}class Hs{#c;#y;#u;constructor(e){this.#c=document.createElement("div"),this.#c.classList.add("gsg-extension"),this.#u=e,this.#u.appendChild(this.#c);const t=e.querySelector(`[data-tooltip="${Wa.CAY}"]`);if(!t)return;t.style.zIndex="1",this.#y=t;const n=parseInt(window.getComputedStyle(t).width),o=parseInt(window.getComputedStyle(t).right);o&&n&&setTimeout((()=>{F(Fs(`${Bi.t("onboarding-tooltips.cay.deals.title")}`,`${Bi.t("onboarding-tooltips.cay.deals.description")}`,`${Bi.t("onboarding-tooltips.cay.deals.action-button")}`,this.closeAnimationComplete,`\n            right: ${o+210}px;\n            top: 370px;\n          `,"top"),this.#c),qa(ko.SEND_GA,{name:"view_tooltip_deals_list"})}),100)}closeAnimationComplete=()=>{chrome.runtime.sendMessage({type:Lo.CAY.DEALS.BUTTON.CLICKED}),qa(ko.SEND_GA,{name:"click_tooltip_deals_list"}),this.#y.style.zIndex="initial"};async hide(){this.#c.querySelector("[id=gsg-tooltip-overlay]").click()}async destroy(){F(null,this.#c),this.#c.remove()}}class $s{#c;#y;#u;constructor(e){this.#c=document.createElement("div"),this.#c.classList.add("gsg-extension"),this.#u=e,this.#u.appendChild(this.#c);const t=e.querySelector(`[data-tooltip="${Wa.CAY}"]`);if(!t)return;t.style.zIndex="1",this.#y=t;const n=parseInt(window.getComputedStyle(t).width),o=parseInt(window.getComputedStyle(t).right);o&&n&&setTimeout((()=>{F(Fs(`${Bi.t("onboarding-tooltips.cay.vouchers.title")}`,`${Bi.t("onboarding-tooltips.cay.vouchers.description")}`,`${Bi.t("onboarding-tooltips.cay.vouchers.action-button")}`,this.closeAnimationComplete,`\n            right: ${o+n-12}px;\n            top: 175px;\n          `,"left"),this.#c),qa(ko.SEND_GA,{name:"view_tooltip_voucher_list"})}),100)}closeAnimationComplete=()=>{chrome.runtime.sendMessage({type:Lo.CAY.VOUCHERS.BUTTON.CLICKED}),qa(ko.SEND_GA,{name:"click_tooltip_voucher_list"}),this.#y.style.zIndex="initial"};async hide(){this.#c.querySelector("[id=gsg-tooltip-overlay]").click()}async destroy(){F(null,this.#c),this.#c.remove()}}class qs{#c;#v;#u;#_;constructor(e){this.#c=document.createElement("div"),this.#c.classList.add("gsg-extension"),this.#u=e,this.#u.appendChild(this.#c),this.#b();const t=e.querySelector(`[data-tooltip="${Wa.Notification}"]`);if(!t)return;t.style.zIndex="1",this.#v=t;const n=parseInt(window.getComputedStyle(t).height),o=parseInt(window.getComputedStyle(t).right),r=parseInt(window.getComputedStyle(t).top);o&&r&&n&&setTimeout((()=>{F(Fs(`${Bi.t("onboarding-tooltips.notification.hide.title-"+(this.#_>Date.now()+xo?"always":"once"))}`,`${Bi.t("onboarding-tooltips.notification.hide.description")}`,`${Bi.t("onboarding-tooltips.notification.hide.action")}`,this.closeAnimationComplete,`\n            right: 110px;\n            top: ${r-30}px;\n          `,"bottom"),this.#c)}),100)}closeAnimationComplete=()=>{setTimeout((()=>{chrome.runtime.sendMessage({type:Lo.HIDDEN.BUTTON.CLICKED})}),800),this.#v.style.zIndex="initial"};async hide(){this.#c.querySelector("[id=gsg-tooltip-overlay]").click()}async destroy(){F(null,this.#c),this.#c.remove()}async#b(){this.#_=await this.#w()}async#w(){const e=await Xa();return 0===e.length?0:e[0]?.expiration??0}}class Vs{#c;#v;#u;constructor(e){this.#c=document.createElement("div"),this.#c.classList.add("gsg-extension"),this.#u=e,this.#u.appendChild(this.#c);const t=e.querySelector(`[data-tooltip="${Wa.Notification}"]`);if(!t)return;t.style.zIndex="1",this.#v=t;const n=parseInt(window.getComputedStyle(t).height),o=parseInt(window.getComputedStyle(t).right),r=parseInt(window.getComputedStyle(t).top);o&&r&&n&&setTimeout((()=>{F(Fs(`${Bi.t("onboarding-tooltips.notification.title")}`,`${Bi.t("onboarding-tooltips.notification.description")}`,`${Bi.t("onboarding-tooltips.notification.action-button")}`,this.closeAnimationComplete,`\n            right: ${o}px;\n            top: ${r+n}px;\n          `,"bottom"),this.#c),qa(ko.SEND_GA,{name:"view_tooltip_alert"})}),100)}closeAnimationComplete=()=>{chrome.runtime.sendMessage({type:Lo.NOTIFICATION.BUTTON.CLICKED}),qa(ko.SEND_GA,{name:"click_tooltip_alert"}),setTimeout((()=>{this.#v.querySelectorAll("button")[1]?.click()}),1e4),this.#v.style.zIndex="initial"};async hide(){this.#c.querySelector("[id=gsg-tooltip-overlay]").click()}async destroy(){F(null,this.#c),this.#c.remove()}}class Ws{#c;#x;#u;constructor(e){this.#c=document.createElement("div"),this.#c.classList.add("gsg-extension"),this.#u=e,this.#u.appendChild(this.#c);const t=e.querySelector(`[data-tooltip="${Wa.SideButton}"]`);if(!t)return;this.#x=t,t.style.zIndex="1";const n=parseInt(window.getComputedStyle(t).width),o=parseInt(window.getComputedStyle(t).right),r=parseInt(window.getComputedStyle(t).top);isNaN(o)||isNaN(n)||isNaN(r)||setTimeout((()=>{F(Fs(`${Bi.t("onboarding-tooltips.side-button.title")}`,`${Bi.t("onboarding-tooltips.side-button.description")}`,`${Bi.t("onboarding-tooltips.side-button.action-button")}`,this.closeAnimationComplete,`\n          right: ${o+n+8}px;\n          top: ${r}px;\n        `,"left"),this.#c),qa(ko.SEND_GA,{name:"view_tooltip_side_button"})}),100)}closeAnimationComplete=()=>{chrome.runtime.sendMessage({type:Lo.SIDE_BUTTON.BUTTON.CLICKED}),qa(ko.SEND_GA,{name:"click_tooltip_side_button"}),this.#x.style.zIndex="initial"};async hide(){this.#c.querySelector("[id=gsg-tooltip-overlay]").click()}async destroy(){F(null,this.#c),this.#c.remove()}}let zs;const Gs=()=>!!zs;const Ys=function(){const e=document.createElement("aside");var t,n;return t=e,n={display:"block",height:"0px","line-height":"normal",opacity:"1","pointer-events":"none",position:"fixed",right:"0px",top:"0px",visibility:"visible",width:"0px","z-index":"2147483647"},Object.entries(n).forEach((([e,n])=>{t.style.setProperty(e,n,"important")})),e}(),Ks=function(){const e=document.createElement("link");return e.rel="stylesheet",e.href=chrome.runtime.getURL("/public/styles/injection.css"),e}(),Xs=document.createElement("div"),Js=Ys.attachShadow({mode:"open"});Js.appendChild(Ks),Js.appendChild(Xs),function(){const e="gsg-fonts-definition-style",t=chrome.runtime.getURL("/public/styles/fonts.css"),n=document.getElementById(e),o=document.createElement("link");o.id=e,o.rel="stylesheet",o.href=t,n?n.replaceWith(o):document.head.appendChild(o)}();const Zs=Ys,Qs=Xs;document.head.insertAdjacentHTML("beforeend",`<meta name="pepper-browser-extension" version="${chrome.runtime.getManifest().version}">`),setTimeout((()=>{F(V("div",{className:"gsg-extension"}),Qs),document.body.appendChild(Zs),function(e){let t,n,o,r,i,a,s,l,c,u;qi().runtime.sendMessage({type:Oo.READY}),qi().runtime.onMessage.addListener(((d,p,h)=>{switch(d.type){case Do.DISPLAY:if(!t){const{merchantNames:n,initialPosY:o,isEntryAnimated:r,dealsCount:i}=d.param;t=new js(n,o,r,e,i)}break;case Do.REMOVE:t&&(t.destroy(),t=void 0);break;case No.DISPLAY:if(!zs){const{partner:t,tabSelected:n}=d.param;zs=new Es(t,e,n)}break;case So.DISPLAY:if(n||(n=new Ya(e)),d.param?.tryCodes){n.tryCodes();break}n.render();break;case So.CTA.DISPLAY:o||(o=new Ka(e)),o.render();break;case dt.CodeTested:if(n){const e=d.code;return n.processTriedCode(e).then((()=>h(!0))),!0}break;case So.REMOVE:n=null;break;case So.GET_STATE:return qi().runtime.sendMessage({type:pt.GetPageState}).then(h),!0;case No.REMOVE:zs&&(zs.destroy(),zs=void 0);break;case To.DISPLAY:if(!r){const{vouchersCount:t,dealsCount:n,merchantName:o,merchantIds:i}=d.param;if(!t&&!n)return;r=new Ds(t,n,o,i,e)}break;case To.REMOVE:r&&(r.destroy(),r=void 0);break;case Lo.NOTIFICATION.DISPLAY:a||(a=new Vs(e));break;case Lo.NOTIFICATION.HIDE:a&&a.hide();break;case Lo.NOTIFICATION.REMOVE:a&&(a.destroy(),a=void 0);break;case Lo.HIDDEN.DISPLAY:i||(i=new qs(e));break;case Lo.HIDDEN.HIDE:i?.hide();break;case Lo.HIDDEN.REMOVE:i&&(i.destroy(),i=void 0);break;case Lo.SIDE_BUTTON.DISPLAY:u||(u=new Ws(e));break;case Lo.SIDE_BUTTON.HIDE:u&&u.hide();break;case Lo.SIDE_BUTTON.REMOVE:u&&(u.destroy(),u=void 0);break;case Lo.CAY.VOUCHERS.DISPLAY:s||(s=new $s(e));break;case Lo.CAY.VOUCHERS.HIDE:s&&s.hide();break;case Lo.CAY.VOUCHERS.REMOVE:s&&(s.destroy(),s=void 0);break;case Lo.CAY.DEALS.DISPLAY:l||(l=new Hs(e));break;case Lo.CAY.DEALS.HIDE:l&&l.hide();break;case Lo.CAY.DEALS.REMOVE:l&&(l.destroy(),l=void 0);break;case Lo.CAA.DISPLAY:c||(c=new Bs(e));break;case Lo.CAA.HIDE:c&&c.hide();break;case Lo.CAA.REMOVE:c&&(c.destroy(),c=void 0)}}))}(Qs)}),1e3),ft();const el=e=>{qa(ko.SEND_GA,{name:"view_serp",params:{retailer_name:e}})},tl=(e,t,n,o)=>{const r=e.getAttribute("href");chrome.runtime.sendMessage({param:{customDomain:r},type:"check-partner"},(e=>{if(e&&(e.vouchers.length>0||e.deals.length>0)){const i=document.createElement("div");e.merchantNames&&(i.dataset[ct.partnerName]=e.merchantNames[0]);const a=i.attachShadow({mode:"open"}),s=()=>{const t=e.vouchers.length>0,o=e.merchant?.id??e.pepperMerchant?.id.toString(),i=e.merchant?.name??e.pepperMerchant?.name;chrome.runtime.sendMessage({param:{affiliateUrl:e.vouchers[0]?.tracking_link??"",hasVouchers:t,merchantId:o,redirectUrl:r,searchEngine:n},type:"open-serp-affiliate-link"}),qa(ko.SEND_GA,{name:"click_serp",params:{retailer_name:i}})};F(V(v,{children:[V("link",{href:chrome.runtime.getURL("/public/styles/serp.css"),rel:"stylesheet"}),V(Hi,{dealsCount:e.deals.length,onClick:s,searchEngine:n,theme:t,vouchersCount:e.vouchers.length})]}),a),mt.insertElementTo(o,i)}}))};(async()=>{if(!await vt.get(Ao))return;(await chrome.runtime.sendMessage({type:"get-serp-settings"})).enabled&&(await(async()=>{const e=await Ui();return Fi(e||go)})(),mt.init(tl,el))})()})()})();