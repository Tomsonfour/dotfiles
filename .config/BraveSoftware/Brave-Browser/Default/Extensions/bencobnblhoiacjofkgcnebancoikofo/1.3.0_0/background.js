/*! For license information about the extension and its dependencies, please see extracted-comments.LICENSE.txt. */
(()=>{var e,t,n={4098:function(e,t){var n="undefined"!=typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,o="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,a="ArrayBuffer"in e;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function l(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function p(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function d(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function g(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&o&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e,t,n,r=d(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=h(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=l(e),t=u(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},f.prototype.delete=function(e){delete this.map[l(e)]},f.prototype.get=function(e){return e=l(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},f.prototype.set=function(e,t){this.map[l(e)]=u(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),p(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),p(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),p(e)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n,r,o=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),v.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function _(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function w(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},y.call(b.prototype),y.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var A=[301,302,303,307,308];w.redirect=function(e,t){if(-1===A.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function k(e,n){return new Promise((function(r,i){var a=new b(e,n);if(a.signal&&a.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function c(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new f,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var o="response"in s?s.response:s.responseText;r(new w(o,n))},s.onerror=function(){i(new TypeError("Network request failed"))},s.ontimeout=function(){i(new TypeError("Network request failed"))},s.onabort=function(){i(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&o&&(s.responseType="blob"),a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",c),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",c)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}k.polyfill=!0,e.fetch||(e.fetch=k,e.Headers=f,e.Request=b,e.Response=w),t.Headers=f,t.Request=b,t.Response=w,t.fetch=k,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var o=r;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t},452:function(e,t,n){var r;e.exports=(r=n(8249),n(8269),n(8214),n(888),n(5109),function(){var e=r,t=e.lib.BlockCipher,n=e.algo,o=[],i=[],a=[],s=[],c=[],l=[],u=[],p=[],f=[],d=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,r=0;for(t=0;t<256;t++){var h=r^r<<1^r<<2^r<<3^r<<4;h=h>>>8^255&h^99,o[n]=h,i[h]=n;var g=e[n],m=e[g],y=e[m],v=257*e[h]^16843008*h;a[n]=v<<24|v>>>8,s[n]=v<<16|v>>>16,c[n]=v<<8|v>>>24,l[n]=v,v=16843009*y^65537*m^257*g^16843008*n,u[h]=v<<24|v>>>8,p[h]=v<<16|v>>>16,f[h]=v<<8|v>>>24,d[h]=v,n?(n=g^e[e[e[y^g]]],r^=e[e[r]]):n=r=1}}();var h=[0,1,2,4,8,16,32,64,128,27,54],g=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=4*((this._nRounds=n+6)+1),i=this._keySchedule=[],a=0;a<r;a++)a<n?i[a]=t[a]:(l=i[a-1],a%n?n>6&&a%n==4&&(l=o[l>>>24]<<24|o[l>>>16&255]<<16|o[l>>>8&255]<<8|o[255&l]):(l=o[(l=l<<8|l>>>24)>>>24]<<24|o[l>>>16&255]<<16|o[l>>>8&255]<<8|o[255&l],l^=h[a/n|0]<<24),i[a]=i[a-n]^l);for(var s=this._invKeySchedule=[],c=0;c<r;c++){if(a=r-c,c%4)var l=i[a];else l=i[a-4];s[c]=c<4||a<=4?l:u[o[l>>>24]]^p[o[l>>>16&255]]^f[o[l>>>8&255]]^d[o[255&l]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,c,l,o)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,p,f,d,i),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,o,i,a,s){for(var c=this._nRounds,l=e[t]^n[0],u=e[t+1]^n[1],p=e[t+2]^n[2],f=e[t+3]^n[3],d=4,h=1;h<c;h++){var g=r[l>>>24]^o[u>>>16&255]^i[p>>>8&255]^a[255&f]^n[d++],m=r[u>>>24]^o[p>>>16&255]^i[f>>>8&255]^a[255&l]^n[d++],y=r[p>>>24]^o[f>>>16&255]^i[l>>>8&255]^a[255&u]^n[d++],v=r[f>>>24]^o[l>>>16&255]^i[u>>>8&255]^a[255&p]^n[d++];l=g,u=m,p=y,f=v}g=(s[l>>>24]<<24|s[u>>>16&255]<<16|s[p>>>8&255]<<8|s[255&f])^n[d++],m=(s[u>>>24]<<24|s[p>>>16&255]<<16|s[f>>>8&255]<<8|s[255&l])^n[d++],y=(s[p>>>24]<<24|s[f>>>16&255]<<16|s[l>>>8&255]<<8|s[255&u])^n[d++],v=(s[f>>>24]<<24|s[l>>>16&255]<<16|s[u>>>8&255]<<8|s[255&p])^n[d++],e[t]=g,e[t+1]=m,e[t+2]=y,e[t+3]=v},keySize:8});e.AES=t._createHelper(g)}(),r.AES)},7407:function(e,t,n){var r;e.exports=(r=n(8249),n(8269),n(8214),n(888),n(5109),function(){var e=r,t=e.lib.BlockCipher,n=e.algo;const o=16,i=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],a=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var s={pbox:[],sbox:[]};function c(e,t){let n=t>>24&255,r=t>>16&255,o=t>>8&255,i=255&t,a=e.sbox[0][n]+e.sbox[1][r];return a^=e.sbox[2][o],a+=e.sbox[3][i],a}function l(e,t,n){let r,i=t,a=n;for(let t=0;t<o;++t)i^=e.pbox[t],a=c(e,i)^a,r=i,i=a,a=r;return r=i,i=a,a=r,a^=e.pbox[o],i^=e.pbox[o+1],{left:i,right:a}}function u(e,t,n){let r,i=t,a=n;for(let t=o+1;t>1;--t)i^=e.pbox[t],a=c(e,i)^a,r=i,i=a,a=r;return r=i,i=a,a=r,a^=e.pbox[1],i^=e.pbox[0],{left:i,right:a}}function p(e,t,n){for(let t=0;t<4;t++){e.sbox[t]=[];for(let n=0;n<256;n++)e.sbox[t][n]=a[t][n]}let r=0;for(let a=0;a<o+2;a++)e.pbox[a]=i[a]^t[r],r++,r>=n&&(r=0);let s=0,c=0,u=0;for(let t=0;t<o+2;t+=2)u=l(e,s,c),s=u.left,c=u.right,e.pbox[t]=s,e.pbox[t+1]=c;for(let t=0;t<4;t++)for(let n=0;n<256;n+=2)u=l(e,s,c),s=u.left,c=u.right,e.sbox[t][n]=s,e.sbox[t][n+1]=c;return!0}var f=n.Blowfish=t.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4;p(s,t,n)}},encryptBlock:function(e,t){var n=l(s,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},decryptBlock:function(e,t){var n=u(s,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},blockSize:2,keySize:4,ivSize:2});e.Blowfish=t._createHelper(f)}(),r.Blowfish)},5109:function(e,t,n){var r;e.exports=(r=n(8249),n(888),void(r.lib.Cipher||function(e){var t=r,n=t.lib,o=n.Base,i=n.WordArray,a=n.BufferedBlockAlgorithm,s=t.enc,c=(s.Utf8,s.Base64),l=t.algo.EvpKDF,u=n.Cipher=a.extend({cfg:o.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?b:y}return function(t){return{encrypt:function(n,r,o){return e(r).encrypt(t,n,r,o)},decrypt:function(n,r,o){return e(r).decrypt(t,n,r,o)}}}}()}),p=(n.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),t.mode={}),f=n.BlockCipherMode=o.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),d=p.CBC=function(){var t=f.extend();function n(t,n,r){var o,i=this._iv;i?(o=i,this._iv=e):o=this._prevBlock;for(var a=0;a<r;a++)t[n+a]^=o[a]}return t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,o=r.blockSize;n.call(this,e,t,o),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+o)}}),t.Decryptor=t.extend({processBlock:function(e,t){var r=this._cipher,o=r.blockSize,i=e.slice(t,t+o);r.decryptBlock(e,t),n.call(this,e,t,o),this._prevBlock=i}}),t}(),h=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,o=r<<24|r<<16|r<<8|r,a=[],s=0;s<r;s+=4)a.push(o);var c=i.create(a,r);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},g=(n.BlockCipher=u.extend({cfg:u.cfg.extend({mode:d,padding:h}),reset:function(){var e;u.reset.call(this);var t=this.cfg,n=t.iv,r=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(r,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),n.CipherParams=o.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),m=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?i.create([1398893684,1701076831]).concat(n).concat(t):t).toString(c)},parse:function(e){var t,n=c.parse(e),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(t=i.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),g.create({ciphertext:n,salt:t})}},y=n.SerializableCipher=o.extend({cfg:o.extend({format:m}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var o=e.createEncryptor(n,r),i=o.finalize(t),a=o.cfg;return g.create({ciphertext:i,key:n,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),v=(t.kdf={}).OpenSSL={execute:function(e,t,n,r,o){if(r||(r=i.random(8)),o)a=l.create({keySize:t+n,hasher:o}).compute(e,r);else var a=l.create({keySize:t+n}).compute(e,r);var s=i.create(a.words.slice(t),4*n);return a.sigBytes=4*t,g.create({key:a,iv:s,salt:r})}},b=n.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:v}),encrypt:function(e,t,n,r){var o=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize,r.salt,r.hasher);r.iv=o.iv;var i=y.encrypt.call(this,e,t,o.key,r);return i.mixIn(o),i},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var o=r.kdf.execute(n,e.keySize,e.ivSize,t.salt,r.hasher);return r.iv=o.iv,y.decrypt.call(this,e,t,o.key,r)}})}()))},8249:function(e,t,n){var r;e.exports=(r=r||function(e,t){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==n.g&&n.g.crypto&&(r=n.g.crypto),!r)try{r=n(2480)}catch(e){}var o=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),a={},s=a.lib={},c=s.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=s.WordArray=c.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||p).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,o=e.sigBytes;if(this.clamp(),r%4)for(var i=0;i<o;i++){var a=n[i>>>2]>>>24-i%4*8&255;t[r+i>>>2]|=a<<24-(r+i)%4*8}else for(var s=0;s<o;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(o());return new l.init(t,e)}}),u=a.enc={},p=u.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new l.init(n,t/2)}},f=u.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new l.init(n,t)}},d=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(f.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return f.parse(unescape(encodeURIComponent(e)))}},h=s.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,o=r.words,i=r.sigBytes,a=this.blockSize,s=i/(4*a),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,u=e.min(4*c,i);if(c){for(var p=0;p<c;p+=a)this._doProcessBlock(o,p);n=o.splice(0,c),r.sigBytes-=u}return new l.init(n,u)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),g=(s.Hasher=h.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new g.HMAC.init(e,n).finalize(t)}}}),a.algo={});return a}(Math),r)},8269:function(e,t,n){var r;e.exports=(r=n(8249),function(){var e=r,t=e.lib.WordArray;function n(e,n,r){for(var o=[],i=0,a=0;a<n;a++)if(a%4){var s=r[e.charCodeAt(a-1)]<<a%4*2|r[e.charCodeAt(a)]>>>6-a%4*2;o[i>>>2]|=s<<24-i%4*8,i++}return t.create(o,i)}e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var o=[],i=0;i<n;i+=3)for(var a=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;s<4&&i+.75*s<n;s++)o.push(r.charAt(a>>>6*(3-s)&63));var c=r.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(e){var t=e.length,r=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var i=0;i<r.length;i++)o[r.charCodeAt(i)]=i}var a=r.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return n(e,t,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),r.enc.Base64)},3786:function(e,t,n){var r;e.exports=(r=n(8249),function(){var e=r,t=e.lib.WordArray;function n(e,n,r){for(var o=[],i=0,a=0;a<n;a++)if(a%4){var s=r[e.charCodeAt(a-1)]<<a%4*2|r[e.charCodeAt(a)]>>>6-a%4*2;o[i>>>2]|=s<<24-i%4*8,i++}return t.create(o,i)}e.enc.Base64url={stringify:function(e,t){void 0===t&&(t=!0);var n=e.words,r=e.sigBytes,o=t?this._safe_map:this._map;e.clamp();for(var i=[],a=0;a<r;a+=3)for(var s=(n[a>>>2]>>>24-a%4*8&255)<<16|(n[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|n[a+2>>>2]>>>24-(a+2)%4*8&255,c=0;c<4&&a+.75*c<r;c++)i.push(o.charAt(s>>>6*(3-c)&63));var l=o.charAt(64);if(l)for(;i.length%4;)i.push(l);return i.join("")},parse:function(e,t){void 0===t&&(t=!0);var r=e.length,o=t?this._safe_map:this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var a=0;a<o.length;a++)i[o.charCodeAt(a)]=a}var s=o.charAt(64);if(s){var c=e.indexOf(s);-1!==c&&(r=c)}return n(e,r,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),r.enc.Base64url)},298:function(e,t,n){var r;e.exports=(r=n(8249),function(){var e=r,t=e.lib.WordArray,n=e.enc;function o(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o+=2){var i=t[o>>>2]>>>16-o%4*8&65535;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var n=e.length,r=[],o=0;o<n;o++)r[o>>>1]|=e.charCodeAt(o)<<16-o%2*16;return t.create(r,2*n)}},n.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i+=2){var a=o(t[i>>>2]>>>16-i%4*8&65535);r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var n=e.length,r=[],i=0;i<n;i++)r[i>>>1]|=o(e.charCodeAt(i)<<16-i%2*16);return t.create(r,2*n)}}}(),r.enc.Utf16)},888:function(e,t,n){var r,o,i,a,s,c,l,u;e.exports=(u=n(8249),n(2783),n(9824),o=(r=u).lib,i=o.Base,a=o.WordArray,s=r.algo,c=s.MD5,l=s.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,r=this.cfg,o=r.hasher.create(),i=a.create(),s=i.words,c=r.keySize,l=r.iterations;s.length<c;){n&&o.update(n),n=o.update(e).finalize(t),o.reset();for(var u=1;u<l;u++)n=o.finalize(n),o.reset();i.concat(n)}return i.sigBytes=4*c,i}}),r.EvpKDF=function(e,t,n){return l.create(n).compute(e,t)},u.EvpKDF)},2209:function(e,t,n){var r,o,i,a;e.exports=(a=n(8249),n(5109),o=(r=a).lib.CipherParams,i=r.enc.Hex,r.format.Hex={stringify:function(e){return e.ciphertext.toString(i)},parse:function(e){var t=i.parse(e);return o.create({ciphertext:t})}},a.format.Hex)},9824:function(e,t,n){var r,o,i,a;e.exports=(r=n(8249),i=(o=r).lib.Base,a=o.enc.Utf8,void(o.algo.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=a.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),i=this._iKey=t.clone(),s=o.words,c=i.words,l=0;l<n;l++)s[l]^=1549556828,c[l]^=909522486;o.sigBytes=i.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))},1354:function(e,t,n){var r;e.exports=(r=n(8249),n(4938),n(4433),n(298),n(8269),n(3786),n(8214),n(2783),n(2153),n(7792),n(34),n(7460),n(3327),n(706),n(9824),n(2112),n(888),n(5109),n(8568),n(4242),n(9968),n(7660),n(1148),n(3615),n(2807),n(1077),n(6475),n(6991),n(2209),n(452),n(4253),n(1857),n(4454),n(3974),n(7407),r)},4433:function(e,t,n){var r;e.exports=(r=n(8249),function(){if("function"==typeof ArrayBuffer){var e=r.lib.WordArray,t=e.init,n=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,r=[],o=0;o<n;o++)r[o>>>2]|=e[o]<<24-o%4*8;t.call(this,r,n)}else t.apply(this,arguments)};n.prototype=e}}(),r.lib.WordArray)},8214:function(e,t,n){var r;e.exports=(r=n(8249),function(e){var t=r,n=t.lib,o=n.WordArray,i=n.Hasher,a=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=a.MD5=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,o=e[r];e[r]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i=this._hash.words,a=e[t+0],c=e[t+1],d=e[t+2],h=e[t+3],g=e[t+4],m=e[t+5],y=e[t+6],v=e[t+7],b=e[t+8],_=e[t+9],w=e[t+10],A=e[t+11],k=e[t+12],x=e[t+13],S=e[t+14],O=e[t+15],E=i[0],C=i[1],P=i[2],T=i[3];E=l(E,C,P,T,a,7,s[0]),T=l(T,E,C,P,c,12,s[1]),P=l(P,T,E,C,d,17,s[2]),C=l(C,P,T,E,h,22,s[3]),E=l(E,C,P,T,g,7,s[4]),T=l(T,E,C,P,m,12,s[5]),P=l(P,T,E,C,y,17,s[6]),C=l(C,P,T,E,v,22,s[7]),E=l(E,C,P,T,b,7,s[8]),T=l(T,E,C,P,_,12,s[9]),P=l(P,T,E,C,w,17,s[10]),C=l(C,P,T,E,A,22,s[11]),E=l(E,C,P,T,k,7,s[12]),T=l(T,E,C,P,x,12,s[13]),P=l(P,T,E,C,S,17,s[14]),E=u(E,C=l(C,P,T,E,O,22,s[15]),P,T,c,5,s[16]),T=u(T,E,C,P,y,9,s[17]),P=u(P,T,E,C,A,14,s[18]),C=u(C,P,T,E,a,20,s[19]),E=u(E,C,P,T,m,5,s[20]),T=u(T,E,C,P,w,9,s[21]),P=u(P,T,E,C,O,14,s[22]),C=u(C,P,T,E,g,20,s[23]),E=u(E,C,P,T,_,5,s[24]),T=u(T,E,C,P,S,9,s[25]),P=u(P,T,E,C,h,14,s[26]),C=u(C,P,T,E,b,20,s[27]),E=u(E,C,P,T,x,5,s[28]),T=u(T,E,C,P,d,9,s[29]),P=u(P,T,E,C,v,14,s[30]),E=p(E,C=u(C,P,T,E,k,20,s[31]),P,T,m,4,s[32]),T=p(T,E,C,P,b,11,s[33]),P=p(P,T,E,C,A,16,s[34]),C=p(C,P,T,E,S,23,s[35]),E=p(E,C,P,T,c,4,s[36]),T=p(T,E,C,P,g,11,s[37]),P=p(P,T,E,C,v,16,s[38]),C=p(C,P,T,E,w,23,s[39]),E=p(E,C,P,T,x,4,s[40]),T=p(T,E,C,P,a,11,s[41]),P=p(P,T,E,C,h,16,s[42]),C=p(C,P,T,E,y,23,s[43]),E=p(E,C,P,T,_,4,s[44]),T=p(T,E,C,P,k,11,s[45]),P=p(P,T,E,C,O,16,s[46]),E=f(E,C=p(C,P,T,E,d,23,s[47]),P,T,a,6,s[48]),T=f(T,E,C,P,v,10,s[49]),P=f(P,T,E,C,S,15,s[50]),C=f(C,P,T,E,m,21,s[51]),E=f(E,C,P,T,k,6,s[52]),T=f(T,E,C,P,h,10,s[53]),P=f(P,T,E,C,w,15,s[54]),C=f(C,P,T,E,c,21,s[55]),E=f(E,C,P,T,b,6,s[56]),T=f(T,E,C,P,O,10,s[57]),P=f(P,T,E,C,y,15,s[58]),C=f(C,P,T,E,x,21,s[59]),E=f(E,C,P,T,g,6,s[60]),T=f(T,E,C,P,A,10,s[61]),P=f(P,T,E,C,d,15,s[62]),C=f(C,P,T,E,_,21,s[63]),i[0]=i[0]+E|0,i[1]=i[1]+C|0,i[2]=i[2]+P|0,i[3]=i[3]+T|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,o=8*t.sigBytes;n[o>>>5]|=128<<24-o%32;var i=e.floor(r/4294967296),a=r;n[15+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),n[14+(o+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,c=s.words,l=0;l<4;l++){var u=c[l];c[l]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function l(e,t,n,r,o,i,a){var s=e+(t&n|~t&r)+o+a;return(s<<i|s>>>32-i)+t}function u(e,t,n,r,o,i,a){var s=e+(t&r|n&~r)+o+a;return(s<<i|s>>>32-i)+t}function p(e,t,n,r,o,i,a){var s=e+(t^n^r)+o+a;return(s<<i|s>>>32-i)+t}function f(e,t,n,r,o,i,a){var s=e+(n^(t|~r))+o+a;return(s<<i|s>>>32-i)+t}t.MD5=i._createHelper(c),t.HmacMD5=i._createHmacHelper(c)}(Math),r.MD5)},8568:function(e,t,n){var r;e.exports=(r=n(8249),n(5109),r.mode.CFB=function(){var e=r.lib.BlockCipherMode.extend();function t(e,t,n,r){var o,i=this._iv;i?(o=i.slice(0),this._iv=void 0):o=this._prevBlock,r.encryptBlock(o,0);for(var a=0;a<n;a++)e[t+a]^=o[a]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize;t.call(this,e,n,o,r),this._prevBlock=e.slice(n,n+o)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize,i=e.slice(n,n+o);t.call(this,e,n,o,r),this._prevBlock=i}}),e}(),r.mode.CFB)},9968:function(e,t,n){var r;e.exports=(r=n(8249),n(5109),r.mode.CTRGladman=function(){var e=r.lib.BlockCipherMode.extend();function t(e){if(255&~(e>>24))e+=1<<24;else{var t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}return e}function n(e){return 0===(e[0]=t(e[0]))&&(e[1]=t(e[1])),e}var o=e.Encryptor=e.extend({processBlock:function(e,t){var r=this._cipher,o=r.blockSize,i=this._iv,a=this._counter;i&&(a=this._counter=i.slice(0),this._iv=void 0),n(a);var s=a.slice(0);r.encryptBlock(s,0);for(var c=0;c<o;c++)e[t+c]^=s[c]}});return e.Decryptor=o,e}(),r.mode.CTRGladman)},4242:function(e,t,n){var r,o,i;e.exports=(i=n(8249),n(5109),i.mode.CTR=(r=i.lib.BlockCipherMode.extend(),o=r.Encryptor=r.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,o=this._iv,i=this._counter;o&&(i=this._counter=o.slice(0),this._iv=void 0);var a=i.slice(0);n.encryptBlock(a,0),i[r-1]=i[r-1]+1|0;for(var s=0;s<r;s++)e[t+s]^=a[s]}}),r.Decryptor=o,r),i.mode.CTR)},1148:function(e,t,n){var r,o;e.exports=(o=n(8249),n(5109),o.mode.ECB=((r=o.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),r.Decryptor=r.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),r),o.mode.ECB)},7660:function(e,t,n){var r,o,i;e.exports=(i=n(8249),n(5109),i.mode.OFB=(r=i.lib.BlockCipherMode.extend(),o=r.Encryptor=r.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,o=this._iv,i=this._keystream;o&&(i=this._keystream=o.slice(0),this._iv=void 0),n.encryptBlock(i,0);for(var a=0;a<r;a++)e[t+a]^=i[a]}}),r.Decryptor=o,r),i.mode.OFB)},3615:function(e,t,n){var r;e.exports=(r=n(8249),n(5109),r.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,r=4*t,o=r-n%r,i=n+o-1;e.clamp(),e.words[i>>>2]|=o<<24-i%4*8,e.sigBytes+=o},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.pad.Ansix923)},2807:function(e,t,n){var r;e.exports=(r=n(8249),n(5109),r.pad.Iso10126={pad:function(e,t){var n=4*t,o=n-e.sigBytes%n;e.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.pad.Iso10126)},1077:function(e,t,n){var r;e.exports=(r=n(8249),n(5109),r.pad.Iso97971={pad:function(e,t){e.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(e,t)},unpad:function(e){r.pad.ZeroPadding.unpad(e),e.sigBytes--}},r.pad.Iso97971)},6991:function(e,t,n){var r;e.exports=(r=n(8249),n(5109),r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding)},6475:function(e,t,n){var r;e.exports=(r=n(8249),n(5109),r.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},r.pad.ZeroPadding)},2112:function(e,t,n){var r,o,i,a,s,c,l,u,p;e.exports=(p=n(8249),n(2153),n(9824),o=(r=p).lib,i=o.Base,a=o.WordArray,s=r.algo,c=s.SHA256,l=s.HMAC,u=s.PBKDF2=i.extend({cfg:i.extend({keySize:4,hasher:c,iterations:25e4}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=l.create(n.hasher,e),o=a.create(),i=a.create([1]),s=o.words,c=i.words,u=n.keySize,p=n.iterations;s.length<u;){var f=r.update(t).finalize(i);r.reset();for(var d=f.words,h=d.length,g=f,m=1;m<p;m++){g=r.finalize(g),r.reset();for(var y=g.words,v=0;v<h;v++)d[v]^=y[v]}o.concat(f),c[0]++}return o.sigBytes=4*u,o}}),r.PBKDF2=function(e,t,n){return u.create(n).compute(e,t)},p.PBKDF2)},3974:function(e,t,n){var r;e.exports=(r=n(8249),n(8269),n(8214),n(888),n(5109),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,o=[],i=[],a=[],s=n.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var o=0;o<4;o++)c.call(this);for(o=0;o<8;o++)r[o]^=n[o+4&7];if(t){var i=t.words,a=i[0],s=i[1],l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),p=l>>>16|4294901760&u,f=u<<16|65535&l;for(r[0]^=l,r[1]^=p,r[2]^=u,r[3]^=f,r[4]^=l,r[5]^=p,r[6]^=u,r[7]^=f,o=0;o<4;o++)c.call(this)}},_doProcessBlock:function(e,t){var n=this._X;c.call(this),o[0]=n[0]^n[5]>>>16^n[3]<<16,o[1]=n[2]^n[7]>>>16^n[5]<<16,o[2]=n[4]^n[1]>>>16^n[7]<<16,o[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)o[r]=16711935&(o[r]<<8|o[r]>>>24)|4278255360&(o[r]<<24|o[r]>>>8),e[t+r]^=o[r]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,n=0;n<8;n++)i[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],o=65535&r,s=r>>>16,c=((o*o>>>17)+o*s>>>15)+s*s,l=((4294901760&r)*r|0)+((65535&r)*r|0);a[n]=c^l}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.RabbitLegacy=t._createHelper(s)}(),r.RabbitLegacy)},4454:function(e,t,n){var r;e.exports=(r=n(8249),n(8269),n(8214),n(888),n(5109),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,o=[],i=[],a=[],s=n.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],o=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)c.call(this);for(n=0;n<8;n++)o[n]^=r[n+4&7];if(t){var i=t.words,a=i[0],s=i[1],l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),p=l>>>16|4294901760&u,f=u<<16|65535&l;for(o[0]^=l,o[1]^=p,o[2]^=u,o[3]^=f,o[4]^=l,o[5]^=p,o[6]^=u,o[7]^=f,n=0;n<4;n++)c.call(this)}},_doProcessBlock:function(e,t){var n=this._X;c.call(this),o[0]=n[0]^n[5]>>>16^n[3]<<16,o[1]=n[2]^n[7]>>>16^n[5]<<16,o[2]=n[4]^n[1]>>>16^n[7]<<16,o[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)o[r]=16711935&(o[r]<<8|o[r]>>>24)|4278255360&(o[r]<<24|o[r]>>>8),e[t+r]^=o[r]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,n=0;n<8;n++)i[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],o=65535&r,s=r>>>16,c=((o*o>>>17)+o*s>>>15)+s*s,l=((4294901760&r)*r|0)+((65535&r)*r|0);a[n]=c^l}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.Rabbit=t._createHelper(s)}(),r.Rabbit)},1857:function(e,t,n){var r;e.exports=(r=n(8249),n(8269),n(8214),n(888),n(5109),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,o=n.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,r=this._S=[],o=0;o<256;o++)r[o]=o;o=0;for(var i=0;o<256;o++){var a=o%n,s=t[a>>>2]>>>24-a%4*8&255;i=(i+r[o]+s)%256;var c=r[o];r[o]=r[i],r[i]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=i.call(this)},keySize:8,ivSize:0});function i(){for(var e=this._S,t=this._i,n=this._j,r=0,o=0;o<4;o++){n=(n+e[t=(t+1)%256])%256;var i=e[t];e[t]=e[n],e[n]=i,r|=e[(e[t]+e[n])%256]<<24-8*o}return this._i=t,this._j=n,r}e.RC4=t._createHelper(o);var a=n.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)i.call(this)}});e.RC4Drop=t._createHelper(a)}(),r.RC4)},706:function(e,t,n){var r;e.exports=(r=n(8249),function(e){var t=r,n=t.lib,o=n.WordArray,i=n.Hasher,a=t.algo,s=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),p=o.create([0,1518500249,1859775393,2400959708,2840853838]),f=o.create([1352829926,1548603684,1836072691,2053994217,0]),d=a.RIPEMD160=i.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,o=e[r];e[r]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i,a,d,_,w,A,k,x,S,O,E,C=this._hash.words,P=p.words,T=f.words,I=s.words,D=c.words,R=l.words,L=u.words;for(A=i=C[0],k=a=C[1],x=d=C[2],S=_=C[3],O=w=C[4],n=0;n<80;n+=1)E=i+e[t+I[n]]|0,E+=n<16?h(a,d,_)+P[0]:n<32?g(a,d,_)+P[1]:n<48?m(a,d,_)+P[2]:n<64?y(a,d,_)+P[3]:v(a,d,_)+P[4],E=(E=b(E|=0,R[n]))+w|0,i=w,w=_,_=b(d,10),d=a,a=E,E=A+e[t+D[n]]|0,E+=n<16?v(k,x,S)+T[0]:n<32?y(k,x,S)+T[1]:n<48?m(k,x,S)+T[2]:n<64?g(k,x,S)+T[3]:h(k,x,S)+T[4],E=(E=b(E|=0,L[n]))+O|0,A=O,O=S,S=b(x,10),x=k,k=E;E=C[1]+d+S|0,C[1]=C[2]+_+O|0,C[2]=C[3]+w+A|0,C[3]=C[4]+i+k|0,C[4]=C[0]+a+x|0,C[0]=E},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var o=this._hash,i=o.words,a=0;a<5;a++){var s=i[a];i[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return o},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function h(e,t,n){return e^t^n}function g(e,t,n){return e&t|~e&n}function m(e,t,n){return(e|~t)^n}function y(e,t,n){return e&n|t&~n}function v(e,t,n){return e^(t|~n)}function b(e,t){return e<<t|e>>>32-t}t.RIPEMD160=i._createHelper(d),t.HmacRIPEMD160=i._createHmacHelper(d)}(Math),r.RIPEMD160)},2783:function(e,t,n){var r,o,i,a,s,c,l,u;e.exports=(u=n(8249),o=(r=u).lib,i=o.WordArray,a=o.Hasher,s=r.algo,c=[],l=s.SHA1=a.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],a=n[3],s=n[4],l=0;l<80;l++){if(l<16)c[l]=0|e[t+l];else{var u=c[l-3]^c[l-8]^c[l-14]^c[l-16];c[l]=u<<1|u>>>31}var p=(r<<5|r>>>27)+s+c[l];p+=l<20?1518500249+(o&i|~o&a):l<40?1859775393+(o^i^a):l<60?(o&i|o&a|i&a)-1894007588:(o^i^a)-899497514,s=a,a=i,i=o<<30|o>>>2,o=r,r=p}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),r.SHA1=a._createHelper(l),r.HmacSHA1=a._createHmacHelper(l),u.SHA1)},7792:function(e,t,n){var r,o,i,a,s,c;e.exports=(c=n(8249),n(2153),o=(r=c).lib.WordArray,i=r.algo,a=i.SHA256,s=i.SHA224=a.extend({_doReset:function(){this._hash=new o.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=a._doFinalize.call(this);return e.sigBytes-=4,e}}),r.SHA224=a._createHelper(s),r.HmacSHA224=a._createHmacHelper(s),c.SHA224)},2153:function(e,t,n){var r;e.exports=(r=n(8249),function(e){var t=r,n=t.lib,o=n.WordArray,i=n.Hasher,a=t.algo,s=[],c=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,o=0;o<64;)t(r)&&(o<8&&(s[o]=n(e.pow(r,.5))),c[o]=n(e.pow(r,1/3)),o++),r++}();var l=[],u=a.SHA256=i.extend({_doReset:function(){this._hash=new o.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],a=n[3],s=n[4],u=n[5],p=n[6],f=n[7],d=0;d<64;d++){if(d<16)l[d]=0|e[t+d];else{var h=l[d-15],g=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,m=l[d-2],y=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;l[d]=g+l[d-7]+y+l[d-16]}var v=r&o^r&i^o&i,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),_=f+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&p)+c[d]+l[d];f=p,p=u,u=s,s=a+_|0,a=i,i=o,o=r,r=_+(b+v)|0}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+u|0,n[6]=n[6]+p|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,o=8*t.sigBytes;return n[o>>>5]|=128<<24-o%32,n[14+(o+64>>>9<<4)]=e.floor(r/4294967296),n[15+(o+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(u),t.HmacSHA256=i._createHmacHelper(u)}(Math),r.SHA256)},3327:function(e,t,n){var r;e.exports=(r=n(8249),n(4938),function(e){var t=r,n=t.lib,o=n.WordArray,i=n.Hasher,a=t.x64.Word,s=t.algo,c=[],l=[],u=[];!function(){for(var e=1,t=0,n=0;n<24;n++){c[e+5*t]=(n+1)*(n+2)/2%64;var r=(2*e+3*t)%5;e=t%5,t=r}for(e=0;e<5;e++)for(t=0;t<5;t++)l[e+5*t]=t+(2*e+3*t)%5*5;for(var o=1,i=0;i<24;i++){for(var s=0,p=0,f=0;f<7;f++){if(1&o){var d=(1<<f)-1;d<32?p^=1<<d:s^=1<<d-32}128&o?o=o<<1^113:o<<=1}u[i]=a.create(s,p)}}();var p=[];!function(){for(var e=0;e<25;e++)p[e]=a.create()}();var f=s.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,r=this.blockSize/2,o=0;o<r;o++){var i=e[t+2*o],a=e[t+2*o+1];i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(C=n[o]).high^=a,C.low^=i}for(var s=0;s<24;s++){for(var f=0;f<5;f++){for(var d=0,h=0,g=0;g<5;g++)d^=(C=n[f+5*g]).high,h^=C.low;var m=p[f];m.high=d,m.low=h}for(f=0;f<5;f++){var y=p[(f+4)%5],v=p[(f+1)%5],b=v.high,_=v.low;for(d=y.high^(b<<1|_>>>31),h=y.low^(_<<1|b>>>31),g=0;g<5;g++)(C=n[f+5*g]).high^=d,C.low^=h}for(var w=1;w<25;w++){var A=(C=n[w]).high,k=C.low,x=c[w];x<32?(d=A<<x|k>>>32-x,h=k<<x|A>>>32-x):(d=k<<x-32|A>>>64-x,h=A<<x-32|k>>>64-x);var S=p[l[w]];S.high=d,S.low=h}var O=p[0],E=n[0];for(O.high=E.high,O.low=E.low,f=0;f<5;f++)for(g=0;g<5;g++){var C=n[w=f+5*g],P=p[w],T=p[(f+1)%5+5*g],I=p[(f+2)%5+5*g];C.high=P.high^~T.high&I.high,C.low=P.low^~T.low&I.low}C=n[0];var D=u[s];C.high^=D.high,C.low^=D.low}},_doFinalize:function(){var t=this._data,n=t.words,r=(this._nDataBytes,8*t.sigBytes),i=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(e.ceil((r+1)/i)*i>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,c=s/8,l=[],u=0;u<c;u++){var p=a[u],f=p.high,d=p.low;f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),l.push(d),l.push(f)}return new o.init(l,s)},clone:function(){for(var e=i.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});t.SHA3=i._createHelper(f),t.HmacSHA3=i._createHmacHelper(f)}(Math),r.SHA3)},7460:function(e,t,n){var r,o,i,a,s,c,l,u;e.exports=(u=n(8249),n(4938),n(34),o=(r=u).x64,i=o.Word,a=o.WordArray,s=r.algo,c=s.SHA512,l=s.SHA384=c.extend({_doReset:function(){this._hash=new a.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var e=c._doFinalize.call(this);return e.sigBytes-=16,e}}),r.SHA384=c._createHelper(l),r.HmacSHA384=c._createHmacHelper(l),u.SHA384)},34:function(e,t,n){var r;e.exports=(r=n(8249),n(4938),function(){var e=r,t=e.lib.Hasher,n=e.x64,o=n.Word,i=n.WordArray,a=e.algo;function s(){return o.create.apply(o,arguments)}var c=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],l=[];!function(){for(var e=0;e<80;e++)l[e]=s()}();var u=a.SHA512=t.extend({_doReset:function(){this._hash=new i.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],a=n[3],s=n[4],u=n[5],p=n[6],f=n[7],d=r.high,h=r.low,g=o.high,m=o.low,y=i.high,v=i.low,b=a.high,_=a.low,w=s.high,A=s.low,k=u.high,x=u.low,S=p.high,O=p.low,E=f.high,C=f.low,P=d,T=h,I=g,D=m,R=y,L=v,B=b,N=_,j=w,M=A,U=k,H=x,F=S,V=O,z=E,$=C,K=0;K<80;K++){var q,W,Y=l[K];if(K<16)W=Y.high=0|e[t+2*K],q=Y.low=0|e[t+2*K+1];else{var G=l[K-15],X=G.high,J=G.low,Z=(X>>>1|J<<31)^(X>>>8|J<<24)^X>>>7,Q=(J>>>1|X<<31)^(J>>>8|X<<24)^(J>>>7|X<<25),ee=l[K-2],te=ee.high,ne=ee.low,re=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,oe=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),ie=l[K-7],ae=ie.high,se=ie.low,ce=l[K-16],le=ce.high,ue=ce.low;W=(W=(W=Z+ae+((q=Q+se)>>>0<Q>>>0?1:0))+re+((q+=oe)>>>0<oe>>>0?1:0))+le+((q+=ue)>>>0<ue>>>0?1:0),Y.high=W,Y.low=q}var pe,fe=j&U^~j&F,de=M&H^~M&V,he=P&I^P&R^I&R,ge=T&D^T&L^D&L,me=(P>>>28|T<<4)^(P<<30|T>>>2)^(P<<25|T>>>7),ye=(T>>>28|P<<4)^(T<<30|P>>>2)^(T<<25|P>>>7),ve=(j>>>14|M<<18)^(j>>>18|M<<14)^(j<<23|M>>>9),be=(M>>>14|j<<18)^(M>>>18|j<<14)^(M<<23|j>>>9),_e=c[K],we=_e.high,Ae=_e.low,ke=z+ve+((pe=$+be)>>>0<$>>>0?1:0),xe=ye+ge;z=F,$=V,F=U,V=H,U=j,H=M,j=B+(ke=(ke=(ke=ke+fe+((pe+=de)>>>0<de>>>0?1:0))+we+((pe+=Ae)>>>0<Ae>>>0?1:0))+W+((pe+=q)>>>0<q>>>0?1:0))+((M=N+pe|0)>>>0<N>>>0?1:0)|0,B=R,N=L,R=I,L=D,I=P,D=T,P=ke+(me+he+(xe>>>0<ye>>>0?1:0))+((T=pe+xe|0)>>>0<pe>>>0?1:0)|0}h=r.low=h+T,r.high=d+P+(h>>>0<T>>>0?1:0),m=o.low=m+D,o.high=g+I+(m>>>0<D>>>0?1:0),v=i.low=v+L,i.high=y+R+(v>>>0<L>>>0?1:0),_=a.low=_+N,a.high=b+B+(_>>>0<N>>>0?1:0),A=s.low=A+M,s.high=w+j+(A>>>0<M>>>0?1:0),x=u.low=x+H,u.high=k+U+(x>>>0<H>>>0?1:0),O=p.low=O+V,p.high=S+F+(O>>>0<V>>>0?1:0),C=f.low=C+$,f.high=E+z+(C>>>0<$>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(u),e.HmacSHA512=t._createHmacHelper(u)}(),r.SHA512)},4253:function(e,t,n){var r;e.exports=(r=n(8249),n(8269),n(8214),n(888),n(5109),function(){var e=r,t=e.lib,n=t.WordArray,o=t.BlockCipher,i=e.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],p=i.DES=o.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var r=a[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(var o=this._subKeys=[],i=0;i<16;i++){var l=o[i]=[],u=c[i];for(n=0;n<24;n++)l[n/6|0]|=t[(s[n]-1+u)%28]<<31-n%6,l[4+(n/6|0)]|=t[28+(s[n+24]-1+u)%28]<<31-n%6;for(l[0]=l[0]<<1|l[0]>>>31,n=1;n<7;n++)l[n]=l[n]>>>4*(n-1)+3;l[7]=l[7]<<5|l[7]>>>27}var p=this._invSubKeys=[];for(n=0;n<16;n++)p[n]=o[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],f.call(this,4,252645135),f.call(this,16,65535),d.call(this,2,858993459),d.call(this,8,16711935),f.call(this,1,1431655765);for(var r=0;r<16;r++){for(var o=n[r],i=this._lBlock,a=this._rBlock,s=0,c=0;c<8;c++)s|=l[c][((a^o[c])&u[c])>>>0];this._lBlock=a,this._rBlock=i^s}var p=this._lBlock;this._lBlock=this._rBlock,this._rBlock=p,f.call(this,1,1431655765),d.call(this,8,16711935),d.call(this,2,858993459),f.call(this,16,65535),f.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function f(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function d(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}e.DES=o._createHelper(p);var h=i.TripleDES=o.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),r=e.length<4?e.slice(0,2):e.slice(2,4),o=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=p.createEncryptor(n.create(t)),this._des2=p.createEncryptor(n.create(r)),this._des3=p.createEncryptor(n.create(o))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=o._createHelper(h)}(),r.TripleDES)},4938:function(e,t,n){var r;e.exports=(r=n(8249),function(e){var t=r,n=t.lib,o=n.Base,i=n.WordArray,a=t.x64={};a.Word=o.extend({init:function(e,t){this.high=e,this.low=t}}),a.WordArray=o.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=n!=e?n:8*t.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var o=e[r];n.push(o.high),n.push(o.low)}return i.create(n,this.sigBytes)},clone:function(){for(var e=o.clone.call(this),t=e.words=this.words.slice(0),n=t.length,r=0;r<n;r++)t[r]=t[r].clone();return e}})}(),r)},1739:e=>{e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},3150:function(e,t){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[e],n=function(e){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(void 0===globalThis.browser||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const t="The message port closed before a response was received.",n=e=>{const n={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(n).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class r extends WeakMap{constructor(e,t=void 0){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const o=e=>e&&"object"==typeof e&&"function"==typeof e.then,i=(t,n)=>(...r)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):n.singleCallbackArg||r.length<=1&&!1!==n.singleCallbackArg?t.resolve(r[0]):t.resolve(r)},a=e=>1==e?"argument":"arguments",s=(e,t)=>function(n,...r){if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${a(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${a(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((o,a)=>{if(t.fallbackToNoCallback)try{n[e](...r,i({resolve:o,reject:a},t))}catch(i){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,i),n[e](...r),t.fallbackToNoCallback=!1,t.noCallback=!0,o()}else t.noCallback?(n[e](...r),o()):n[e](...r,i({resolve:o,reject:a},t))}))},c=(e,t,n)=>new Proxy(t,{apply:(t,r,o)=>n.call(r,e,...o)});let l=Function.call.bind(Object.prototype.hasOwnProperty);const u=(e,t={},n={})=>{let r=Object.create(null),o={has:(t,n)=>n in e||n in r,get(o,i,a){if(i in r)return r[i];if(!(i in e))return;let p=e[i];if("function"==typeof p)if("function"==typeof t[i])p=c(e,e[i],t[i]);else if(l(n,i)){let t=s(i,n[i]);p=c(e,e[i],t)}else p=p.bind(e);else if("object"==typeof p&&null!==p&&(l(t,i)||l(n,i)))p=u(p,t[i],n[i]);else{if(!l(n,"*"))return Object.defineProperty(r,i,{configurable:!0,enumerable:!0,get:()=>e[i],set(t){e[i]=t}}),p;p=u(p,t[i],n["*"])}return r[i]=p,p},set:(t,n,o,i)=>(n in r?r[n]=o:e[n]=o,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(r,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(r,t)},i=Object.create(e);return new Proxy(i,o)},p=e=>({addListener(t,n,...r){t.addListener(e.get(n),...r)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}}),f=new r((e=>"function"!=typeof e?e:function(t){const n=u(t,{},{getContent:{minArgs:0,maxArgs:0}});e(n)})),d=new r((e=>"function"!=typeof e?e:function(t,n,r){let i,a,s=!1,c=new Promise((e=>{i=function(t){s=!0,e(t)}}));try{a=e(t,n,i)}catch(e){a=Promise.reject(e)}const l=!0!==a&&o(a);if(!0!==a&&!l&&!s)return!1;const u=e=>{e.then((e=>{r(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",r({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)}))};return u(l?a:c),!0})),h=({reject:n,resolve:r},o)=>{e.runtime.lastError?e.runtime.lastError.message===t?r():n(new Error(e.runtime.lastError.message)):o&&o.__mozWebExtensionPolyfillReject__?n(new Error(o.message)):r(o)},g=(e,t,n,...r)=>{if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${a(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${a(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((e,t)=>{const o=h.bind(null,{resolve:e,reject:t});r.push(o),n.sendMessage(...r)}))},m={devtools:{network:{onRequestFinished:p(f)}},runtime:{onMessage:p(d),onMessageExternal:p(d),sendMessage:g.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:g.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},y={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return n.privacy={network:{"*":y},services:{"*":y},websites:{"*":y}},u(e,m,n)};e.exports=n(chrome)}else e.exports=globalThis.browser},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},2480:()=>{},3154:(e,t,n)=>{var r;if("function"==typeof fetch&&(r=void 0!==n.g&&n.g.fetch?n.g.fetch:"undefined"!=typeof window&&window.fetch?window.fetch:fetch),"undefined"==typeof window||void 0===window.document){var o=r||n(4098);o.default&&(o=o.default),t.default=o,e.exports=t.default}}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={exports:{}};return n[e].call(i.exports,i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var i=Object.create(null);o.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>n[e]));return a.default=()=>n,o.d(i,a),i},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{xw:()=>a,Yd:()=>te,Op:()=>ee,JU:()=>Q,$3:()=>v,YH:()=>b,PE:()=>F,vt:()=>he,_x:()=>Z});let n=()=>{};function r(e){n=e}const i={error:(e,t)=>n({level:"ERROR",message:e,stack:t instanceof Error&&t.stack||(new Error).stack||""}),info:e=>n({details:JSON.stringify(e),level:"INFO"}),perf:(e,t)=>n({label:e,level:"PERF",meta:t})};var a;function s(e){if(!e)throw new Error("Cannot parse amount from empty value");if("string"!=typeof e)throw new Error(`Cannot parse amount from "${typeof e}"`);if(!e.match(/\d/))throw new Error(`Amount not found in "${e}"`);let t=e.replace(/[^0-9,.]/g,"");t.match(/^\d{1,3}(?:\.\d{3})*(?:,\d{2})?$/)&&(t=t.replaceAll(".","").replace(",",".")),t.match(/^\d{1,3}(?:,\d{3})*(?:.\d{2})?$/)&&(t=t.replaceAll(",","")),(t.match(/^\d*(?:,\d{2})?$/)||t.match(/^\d*(?:,\d{1})?$/))&&(t=t.replaceAll(",","."));const n=parseFloat(t.replace(/([^0-9.])/g,"")),r=function(e){let t=null;function n(e){null!==t&&t!==e?i.error(`Amount has conflicting types: ${t} and ${e}`):t=e}return(e.includes("€")||e.includes("EUR"))&&n(a.Euro),e.includes("$")&&(e.includes("R$")?n(a.Real):n(a.Dollar)),e.includes("£")&&n(a.Pound),e.includes("%")&&n(a.Percent),(e.includes("zł")||e.includes("PLN"))&&n(a.Zloty),(e.match(/\b\d*(kr)\d*\b/)||e.includes("SEK"))&&n(a.Krona),t}(e);return null!==r?{type:r,value:n}:{value:n}}!function(e){e.Dollar="$",e.Euro="€",e.Percent="%",e.Pound="£",e.Real="R$",e.Zloty="zł",e.Krona="kr"}(a||(a={}));const c="data-caa-text";function l(e){try{const[,t=""]=e.split('"');return Object(JSON.parse(decodeURI(t)))}catch{return{}}}function u(e){return l(e)}const p=/[0-9.,]+/g;function f(e){return e?e.normalize("NFC").replaceAll(p,""):null}function d({innerText:e,tagName:t}){return function(e){try{return encodeURI(JSON.stringify(e))}catch(e){return i.error("Cannot encode a custom cssSelector: ",e),""}}({innerText:e,tagName:t})}function h(e){const{tagName:t,innerText:n}=l(e);return e.includes(c)&&"string"==typeof t&&"string"==typeof n}function g(e){return h(e)}function m(e){const t=Array.from(document.querySelectorAll(e));return h(e)?t.length>0?t.filter((n=e,function(e){const{tagName:t,innerText:r}=u(n);return e.tagName===t&&f(e.innerText)===f(r)})):function(e){const{tagName:t,innerText:n}=u(e);return Array.from(document.getElementsByTagName(t)).filter((e=>e instanceof HTMLElement)).filter((e=>f(e.innerText)===f(n))).map((e=>(e.setAttribute(c,d(e)),e)))}(e):[];var n}function y(e){try{if(g(e)){const[t=null]=m(e);return t}return document.querySelector(e)}catch(t){return i.error(`Cannot find the element in the DOM with the selector="${e}":`,t),null}}function v(e){try{return g(e)?m(e):Array.from(document.querySelectorAll(e))}catch(t){return i.error(`Cannot find elements in the DOM with the selector="${e}":`,t),[]}}function b(e){const t=function(e){return`[${c}="${d(e)}"]`}(e);return 1===v(t).length?t:null}const _=function(){try{return"object"==typeof browser&&null!==browser&&"runtime"in browser?browser:chrome}catch{return console.warn("[CAA-ENGINE]: not running in a DOM environment, the browser object is not defined."),{}}}();var w,A;async function k(e=500){return new Promise((t=>setTimeout(t,e)))}function x(e,t){return"object"==typeof e&&null!==e&&t in e}function S(e){return!x(e,"disabled")||!e.disabled}function O(e){return!!S(e)&&"none"!==window.getComputedStyle(e).getPropertyValue("pointer-events")}function E(e){if(e.hidden)return!1;const t=window.getComputedStyle(e);return"hidden"!==t.getPropertyValue("visibility")&&"0"!==t.getPropertyValue("opacity")&&"none"!==t.getPropertyValue("display")&&0!==e.offsetWidth&&0!==e.offsetHeight}function C(e){return S(e)&&O(e)&&E(e)}function P(e){return"INPUT"!==e.tagName&&!e.innerHTML.length}!function(e){e.GetPageState="caa-get-page-state",e.ApplyCode="caa-apply-code",e.RemoveCode="caa-remove-code"}(w||(w={})),function(e){e.Reloading="Reloading",e.Done="Done",e.UnhandledError="UnhandledError",e.Timeout="Timeout",e.NoRequiredSelectorsProvided="NoRequiredSelectorsProvided",e.ApplyAndRemoveButtonsHaveSameSelector="ApplyAndRemoveButtonsHaveSameSelector"}(A||(A={}));const T=1e3;function I(e=.5){return new Promise((t=>setTimeout(t,e*T)))}function D(e){e.dispatchEvent(new PointerEvent("pointerdown",{bubbles:!0,pointerType:"mouse"})),e.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),e.dispatchEvent(new PointerEvent("pointerup",{bubbles:!0,pointerType:"mouse"})),e.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0})),e.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0}))}async function R(e,t=0,n=0){if(!e.closeModal)return;if(t>=4)throw A.Timeout;const r=y(e.closeModal);if(!r||!C(r)){if(t>0||n>=4)return;return await k(),R(e,t,n+1)}return i.info("Trying to close modal"),D(r),await k(),R(e,t+1)}function L(e){const t=e&&y(e);return!!t&&E(t)}function B(e){return e.loading?function(e){const t={bodyObserver:null,isLoading:L(e)};return[new Promise((n=>{t.bodyObserver=new MutationObserver((()=>{L(e)?t.isLoading=!0:t.isLoading&&n()})),t.bodyObserver.observe(document.body,{attributes:!0,childList:!0,subtree:!0})})),()=>t.bodyObserver?.disconnect()]}(e.loading):[void 0,()=>{}]}function N(e){const[t,n]=function(e){const t={pending:!0};return[(async()=>{for(let n=0;n<4;n++){const n=[e.error,e.removeButton,e.appliedCode];if(!t.pending||n.some(L))break;i.info("Waiting for feedback"),await I()}})(),()=>{t.pending=!1}]}(e),[r,o]=B(e),a=[t,r].filter(Boolean),s=[n,o];return Promise.race(a).finally((()=>{s.forEach((e=>e()))}))}function j(e,t){const n=y(e);return!!(n&&(r=n,x(r,"value")&&C(r)))&&(i.info("Trying to fill in the code"),function(e,t){const{value:n}=e;if(e.value=t,x(e,"_valueTracker")&&e._valueTracker){const t=e._valueTracker;x(t,"setValue")&&"function"==typeof t.setValue&&t.setValue(n)}e.dispatchEvent(new KeyboardEvent("keydown",{bubbles:!0})),e.dispatchEvent(new KeyboardEvent("keypress",{bubbles:!0})),e.dispatchEvent(new KeyboardEvent("input",{bubbles:!0})),e.dispatchEvent(new KeyboardEvent("keyup",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0}))}(n,t),!0);var r}function M(e){const t=y(e);return!(!t||!C(t)||(i.info("Trying to submit the code"),D(t),0))}async function U(e,t){for(let n=0;n<10&&!(e.couponInput&&j(e.couponInput,t)&&(await k(),e.applyButton&&M(e.applyButton)));n++);}function H(e){switch(e){case A.Reloading:return A.Reloading;case A.Timeout:return A.Timeout;case A.NoRequiredSelectorsProvided:return A.NoRequiredSelectorsProvided;default:return A.UnhandledError}}function F(e){const t=e.toLowerCase().replace(/^https?:\/\//,"").replace(/:\d+.*/,"").replace(/(:|\/|\?|#).*/,"");if(!/[a-z0-9-.]+/.test(t))throw new Error(`Cannot get main domain from ${e}`);const[n,r,o]=t.split(".").reverse();if("localhost"===n)return n;if(!n||n.length<2)throw new Error(`Wrong root domain "${n}" in ${e}`);if(!r)throw new Error(`Unknown main domain "${r}" in ${e}`);if(!["co.uk","co.za","com.au","com.de","org.uk","uk.com","com.br","com.pl","com.nl","com.mx","com.at","co.at","com.se"].includes(`${r}.${n}`))return`${r}.${n}`;if(!o)throw new Error(`Unknown main domain "${o}" in ${e}`);return`${o}.${r}.${n}`}var V;function z(e){try{if(!e)return{html:"",isClickable:!1,isEmpty:!0,isEnabled:!1,isVisible:!1,multipleMatches:!1,result:V.NoSelectorProvided};const t=v(e),[n]=t;return n?{html:n.outerHTML,isClickable:Boolean(t.filter(O).length),isEmpty:P(n),isEnabled:Boolean(t.filter(S).length),isVisible:Boolean(t.filter(E).length),multipleMatches:t.length>1,result:V.ElementFound}:{html:"",isClickable:!1,isEmpty:!0,isEnabled:!1,isVisible:!1,multipleMatches:!1,result:V.NoElementsFound}}catch(e){return e instanceof Error&&"SyntaxError"===e.name?(i.error(V.InvalidCSSSelector,e),{html:"",isClickable:!1,isEmpty:!0,isEnabled:!1,isVisible:!1,multipleMatches:!1,result:V.InvalidCSSSelector}):(i.error(V.Unhandled,e),{html:"",isClickable:!1,isEmpty:!0,isEnabled:!1,isVisible:!1,multipleMatches:!1,result:V.Unhandled})}}function $(e){if(!e)return!1;const t=e.totalAmount?v(e.totalAmount):[],n=e.couponInput?v(e.couponInput).filter(C):[],r=e.applyButton?v(e.applyButton).filter(E):[],o=e.showFormButton?v(e.showFormButton).filter(C):[];return Boolean(n.length)&&Boolean(r.length)&&Boolean(t.length)||Boolean(t.length)&&Boolean(o.length)}function K(e){if(!e||!e.removeButton)return!1;const t=v(e.removeButton).filter(C);return Boolean(t.length)}function q(e){try{if(!e)return{html:"",isEmpty:!0,isVisible:!1,multipleMatches:!1,result:V.NoSelectorProvided};const t=v(e),[n]=t;return n?{amount:s(n.innerText),html:n.outerHTML,isEmpty:P(n),isVisible:Boolean(t.filter(E).length),multipleMatches:t.length>1,result:V.ElementFound}:{html:"",isEmpty:!0,isVisible:!1,multipleMatches:!1,result:V.NoElementsFound}}catch(e){return e instanceof Error&&"SyntaxError"===e.name?(i.error(V.InvalidCSSSelector,e),{html:"",isEmpty:!0,isVisible:!1,multipleMatches:!1,result:V.InvalidCSSSelector}):(i.error(V.Unhandled,e),{html:"",isEmpty:!0,isVisible:!1,multipleMatches:!1,result:V.Unhandled})}}function W(e){try{if(!e)return{html:"",isEmpty:!0,isVisible:!1,multipleMatches:!1,result:V.NoSelectorProvided,value:""};const t=v(e),[n]=t;return n?{html:n.outerHTML,isEmpty:P(n),isVisible:Boolean(t.filter(E).length),multipleMatches:t.length>1,result:V.ElementFound,value:n.innerHTML}:{html:"",isEmpty:!0,isVisible:!1,multipleMatches:!1,result:V.NoElementsFound,value:""}}catch(e){return e instanceof Error&&"SyntaxError"===e.name?(i.error(V.InvalidCSSSelector,e),{html:"",isEmpty:!0,isVisible:!1,multipleMatches:!1,result:V.InvalidCSSSelector,value:""}):(i.error(V.Unhandled,e),{html:"",isEmpty:!0,isVisible:!1,multipleMatches:!1,result:V.Unhandled,value:""})}}function Y(){return window.location.href}!function(e){e.ElementFound="ElementFound",e.NoSelectorProvided="NoSelectorProvided",e.Unhandled="Unhandled",e.NoElementsFound="NoElementsFound",e.InvalidCSSSelector="InvalidCSSSelector",e.NoConfigProvided="NoConfigProvided"}(V||(V={}));const G={applyCode:async function(e,t){return new Promise((n=>{const r=()=>{i.info("Page is about to reload."),n({type:A.Reloading})};(async()=>{try{if(!e.couponInput||!e.applyButton)throw A.NoRequiredSelectorsProvided;i.info(`Preparing to apply code: ${t}`),window.addEventListener("beforeunload",r),await async function(e){if(e.showFormButton){for(let t=0;t<4;t++){const t=e.couponInput&&y(e.couponInput);if(t&&C(t))return;const n=y(e.showFormButton);n&&C(n)&&(i.info("Trying to show the coupon form"),D(n)),await k()}throw A.Timeout}}(e),await U(e,t),await N(e),await R(e),i.info(`Code: ${t} applied.`),n({type:A.Done})}catch(e){const r=H(e);i.error(`Failed to apply code: ${t} -- ${r}`,e),n({type:r})}finally{window.removeEventListener("beforeunload",r),i.info("beforeunload listener removed.")}})()}))},getPageState:async function(e){return{amounts:{discount:q(e.discountAmount),subtotal:q(e.subtotalAmount),total:q(e.totalAmount)},coupon:{appliedCode:W(e.appliedCode),canApply:$(e),canRemove:K(e)},currentUrl:Y(),elements:{applyButton:z(e.applyButton),closeModal:z(e.closeModal),couponInput:z(e.couponInput),error:z(e.error),loading:z(e.loading),removeButton:z(e.removeButton),showFormButton:z(e.showFormButton)},mainDomain:F(Y())}},removeCode:async function(e){let t=!1;try{if(!e.removeButton)throw A.NoRequiredSelectorsProvided;if(e.removeButton===e.applyButton)throw A.ApplyAndRemoveButtonsHaveSameSelector;return i.info("Trying to remove applied code."),window.addEventListener("beforeunload",n),await async function n(r=0){if(r>=4)throw A.Timeout;if(t)throw A.Reloading;if(!e.removeButton)return;const o=y(e.removeButton);return o&&C(o)?(D(o),i.info("Waiting for coupon is removed"),await k(),n(r+1)):void 0}(),i.info("Code removed."),{type:A.Done}}catch(e){let t;switch(i.error("Failed to remove the code",e),e){case A.Reloading:t=A.Reloading;break;case A.ApplyAndRemoveButtonsHaveSameSelector:t=A.ApplyAndRemoveButtonsHaveSameSelector;break;default:t=A.UnhandledError}return{type:t}}finally{window.removeEventListener("beforeunload",n),i.info("beforeunload listener removed.")}function n(){i.info("Page is about to reload."),t=!0}}},X={applyCode:async function(e,t){return new Promise((n=>{const r=()=>{i.info("Page is about to reload."),n({type:A.Reloading})};(async()=>{try{if(!e.couponInput||!e.applyButton)throw A.NoRequiredSelectorsProvided;i.info(`Preparing to apply code: ${t}`),window.addEventListener("beforeunload",r),await function(e,t){return"/br/checkout/"===e.urlPattern?async function(e,t){await U(e,t),await N(e)}(e,t):function(e,t){const[n,r]=B(e);for(let o=0;o<10;o++)if(e.couponInput&&j(e.couponInput,t)){const t=[n,k(2e3)].filter(Boolean);return Promise.race(t).then((()=>{e.applyButton&&M(e.applyButton)})).finally((()=>{r()}))}return Promise.resolve()}(e,t)}(e,t),i.info(`Code: ${t} applied.`),n({type:A.Done})}catch(e){const r=H(e);i.error(`Failed to apply code: ${t} -- ${r}`,e),n({type:r})}finally{window.removeEventListener("beforeunload",r),i.info("beforeunload listener removed.")}})()}))},getPageState:G.getPageState,removeCode:G.removeCode};function J(e){return"samsung.com"===e.domain?X:G}function Z({logger:e=(()=>{})}={}){_.runtime.onMessage.addListener(((t,n,o)=>{switch(r(e),t.type){case w.GetPageState:{const{getPageState:e}=J(t.config);return e(t.config).then(o),!0}case w.ApplyCode:{const{applyCode:e}=J(t.config);return e(t.config,t.code).then(o),!0}case w.RemoveCode:{const{removeCode:e}=J(t.config);return e(t.config).then(o),!0}}}))}var Q,ee,te,ne;!function(e){e.Discount="Discount",e.Invalid="Invalid"}(Q||(Q={})),function(e){e.TryCodes="caa-try-codes",e.Stop="caa-stop",e.GetPageState="caa-get-page-state"}(ee||(ee={})),function(e){e.CodeTested="caa-code-tested"}(te||(te={})),function(e){e.PageLoaded="caa-page-loaded"}(ne||(ne={}));const re=1e4,oe=200;async function ie(e,t,n){return new Promise((async r=>{let o=!1;const a=setTimeout((()=>{o=!0,r(null)}),re);for(;!o;){try{const o=await _.tabs.sendMessage(e,{config:t,type:w.GetPageState});if(o&&(!n||n(o)))return clearTimeout(a),void r(o)}catch(e){i.error("get caa page state",e)}await k(oe)}}))}async function ae(e,t,n){const r=await ie(e,n,(e=>!!e?.amounts.total.amount));if(!r)return{...t,type:Q.Invalid};let o=r.amounts.total.amount;if(r.elements.removeButton.isClickable){try{await async function(e,t){let n=10;try{await _.tabs.sendMessage(e,{config:t,type:w.RemoveCode})}catch(e){i.error("remove caa-engine error",e)}for(;n>0;){n--;const r=await ie(e,t);if(r){if(!r.elements.removeButton.isVisible)return;await k(200)}}if(!n)throw new Error("remove code is not removed")}(e,n)}catch(e){return i.error("remove code caa-background",e),{...t,type:Q.Invalid}}const r=await ie(e,n);if(!r)return{...t,type:Q.Invalid};!r.elements.removeButton.isVisible&&r.amounts.total.amount&&(o=r.amounts.total.amount)}try{const r=await _.tabs.sendMessage(e,{code:t.code,config:n,type:w.ApplyCode});i.info({codeApplicationResult:r})}catch(e){i.error("apply code caa-from-content",e)}let a=10;for(;a>0;){a--;const r=await ie(e,n,(e=>!!e?.amounts.total.amount));if(!r){await k(oe);continue}const i=r.amounts.total.amount;if(o&&i&&i.value<o.value)return{...t,initialTotal:o,totalWithDiscount:i,type:Q.Discount};await k(oe)}return i.info("timeout handleApplyProcess"),{...t,type:Q.Invalid}}const se=new Map;async function ce(e,t){const n=F(e),r=new URL(e).pathname,o=await t(n),i=await async function(e,t){const n=se.get(e);if(n?.length)return n;const r=await fetch(t).then((e=>e.json())).then(le).catch((()=>[]));return se.set(e,r),r}(n,o).then(ue);let a=null,s=null;for(const e of i)e.urlPattern?new RegExp(e.urlPattern).test(r)&&(s=e):a=e;if(s)return s;if(a)return a;throw new Error(`No config found for ${n}`)}function le(e){const t=e,n=[];for(const e of t.configs){const t=e;t.data&&(t.disabled||n.push({appliedCode:t.data.appliedCode||void 0,applyButton:t.data.applyButton||void 0,applyType:t.data.applyType||void 0,closeModal:t.data.closeModal||void 0,couponInput:t.data.couponInput||void 0,discountAmount:t.data.discountAmount||void 0,domain:t.data.domain||"",error:t.data.error||void 0,loading:t.data.loading||void 0,removeButton:t.data.removeButton||void 0,showFormButton:t.data.showFormButton||void 0,subtotalAmount:t.data.subtotalAmount||void 0,totalAmount:t.data.totalAmount||void 0,urlPattern:t.data.urlPattern||void 0}))}return n}function ue(e){return e.sort(((e,t)=>e.urlPattern?t.urlPattern?e.urlPattern.length-t.urlPattern.length:1:-1))}class pe{active;testedCodes=new Map;constructor(){this.active=!0}get isActive(){return this.active}stop(){this.active=!1}addTestedCode(e,t){this.testedCodes.set(e,t)}getTestedCode(e){return this.testedCodes.get(e)}}function fe(e){return e.code.trim().length&&!/\s/.test(e.code.trim())}const de=new Map;function he({getUnifiedConfigUrl:e,logger:t=(()=>()=>{})}){_.runtime.onMessage.addListener(((n,o,a)=>{const s=o.tab?.id,c=o.tab?.url;if(void 0!==s)if(r(t(s)),void 0!==c)switch(n.type){case ne.PageLoaded:return void i.info({message:n,tabId:s});case ee.Stop:return i.info({message:n,tabId:s}),de.get(s)?.stop(),void i.info("stopping CAA for tab"+s);case ee.TryCodes:return i.info({message:n,tabId:s}),void async function(e,t,n,{codes:r,cacheDuplicates:o=!1,validateCodes:a=!1,minDelay:s=1e3,config:c}){let l;try{l=c||await ce(t,n)}catch(e){return void i.error("Cannot get config for "+t,e)}i.info("starting CAA for tab "+e);const u=new pe;de.set(e,u);for(const t of r){if(!u.isActive)break;const n=u.getTestedCode(t.code);if(o&&n){await k(s),await ge(e,{...n,...t});continue}if(a&&!fe(t)){await k(s),await ge(e,{...t,type:Q.Invalid});continue}const r=(new Date).getTime(),c=await ae(e,t,l);i.perf(t.code+" tested in: ",{code:t.code,timeSpent:(new Date).getTime()-r}),u.addTestedCode(t.code,c),await ge(e,c)}de.delete(e)}(s,c,e,n);case ee.GetPageState:return i.info({message:n,tabId:s}),async function(e,t,n,r){let o;if(r)o=r;else try{o=await ce(t,n)}catch(e){return void i.error("No config exists for: "+t,e)}const a=await ie(e,o);return i.info({pageState:a,tabId:e}),a}(s,c,e,n.config).then(a),!0}else i.error("No tabUrl provided for "+s);else console.warn("No tabId provided")}))}async function ge(e,t){i.info({code:t,info:"sending tried code",tabId:e});const n={code:t,type:te.CodeTested};let r=!1;for(let o=0;o<10;o++){try{await me(e),r=await _.tabs.sendMessage(e,n)}catch(n){i.info({code:t,info:"Tried code not received by the tab.",tabId:e})}if(r)break;await k(200)}if(!r)throw new Error(`Cannot send tried code to the browser tab. code: ${t.code} , tabId: ${e}`)}async function me(e){let t=10;for(;t--;){if("complete"===(await _.tabs.get(e)).status)return;await k(100)}}var ye=t.Op,ve=t.JU,be=t.vt;class _e{areaName;constructor(e){this.areaName=e}async get(e){if(3===chrome.runtime.getManifest().manifest_version){const t=await this.getStorage().get([e]);return t?.[e]??null}return new Promise((t=>{this.getStorage().get([e],(n=>t(n?.[e]??null)))}))}async remove(e){return 3===chrome.runtime.getManifest().manifest_version?this.getStorage().remove(e):new Promise((t=>{this.getStorage().remove(e,(()=>t()))}))}async set(e,t){return 3===chrome.runtime.getManifest().manifest_version?this.getStorage().set({[e]:t}):new Promise((n=>{this.getStorage().set({[e]:t},(()=>n()))}))}onChanged=(e,t)=>{chrome.storage.onChanged.addListener(((n,r)=>{r===this.areaName&&n[e]&&t(n[e].newValue,n[e].oldValue)}))};getStorage(){return chrome.storage[this.areaName]}}const we=new class extends _e{constructor(){super("local")}},Ae=new class extends _e{constructor(){super("session")}};var ke,xe;!function(e){e.ExtChrome="ext_chrome",e.ExtEdge="ext_edge",e.ExtFirefox="ext_firefox",e.ExtOpera="ext_opera",e.ExtSafari="ext_safari",e.Web="web"}(ke||(ke={})),function(e){e.Cashback="Cashback",e.Community="Communities",e.Conversion="Conversion"}(xe||(xe={}));const Se=new class{sourceType;storage;storeKeys={customerHash:"megatron:customerHash",lastPingAt:"megatron:lastPingAt"};apiUrl;businessModel;customerHash;initDone;isConfigured;isPingPending=!1;trackId;trackUrlPrefix;userId;version;constructor(e,t){this.sourceType=e,this.storage=t,this.isConfigured=new Promise((e=>{this.initDone=e}))}async getCustomerHash(){return await this.isConfigured,this.customerHash??null}getSourceType(){return this.sourceType}async init(e){this.apiUrl=e.apiUrl,this.businessModel=e.businessModel,this.trackId=e.trackId,this.trackUrlPrefix=e.trackUrlPrefix??"",this.userId=e.userId,this.version=e.version;const t=await this.storage.get(this.storeKeys.customerHash);t?this.customerHash=t:(this.customerHash=e.customerHash??function(){const e=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);return`${e()}${e()}-${e()}-${e()}-${e()}-${Date.now()}`}(),await this.storage.set(this.storeKeys.customerHash,this.customerHash)),this.initDone&&(this.initDone(),this.initDone=void 0)}async ping(){if(!this.isPingPending){this.isPingPending=!0;try{await this.pingUnsafe()}catch(e){console.error("Megatron ping error",e)}this.isPingPending=!1}}setUserId(e){this.userId=e??void 0}async track(e,{propagateErrors:t=!1}={}){const n=Date.now();await this.isConfigured;const r=new URL(this.apiUrl);r.searchParams.set("z",(1e8*Math.random()).toFixed(0));try{await fetch(r.toString(),{body:JSON.stringify({...e,businessModel:this.businessModel,cu:this.trackId,customerHash:this.customerHash,dcat:"desktop",de:"UTF-8",dl:e.dl?.startsWith("/")?this.trackUrlPrefix+e.dl:e.dl,ds:this.sourceType,dv:this.version,tsp:n.toString(10),tzuo:(new Date).getTimezoneOffset().toString(10),uh:this.userId,ul:navigator.language,v:"1.0.0"}),headers:{"Content-Type":"text/plain"},method:"POST"})}catch(e){if(console.error("Megatron fetch error",e),t)throw e}}trackPageView({title:e,url:t}){this.track({dl:t,dt:e,t:"pageview"})}async pingUnsafe(){const e=Date.now();if(!((parseInt(await this.storage.get(this.storeKeys.lastPingAt)||"",10)||-1)>e-864e5)){try{await this.track({dl:"/callmum",t:"callmum"},{propagateErrors:!0})}catch{return}await this.storage.set(this.storeKeys.lastPingAt,e.toString(10))}}}((Oe=navigator.userAgent,/\sfirefox\/\d+\.\d+/i.test(Oe)?ke.ExtFirefox:/\sedge?\/\d+\.\d+/i.test(Oe)?ke.ExtEdge:/\sopr\/\d+\.\d+/i.test(Oe)?ke.ExtOpera:/\ssafari\/\d+\.\d+/i.test(Oe)&&/\sversion\/\d+\.\d+/i.test(Oe)&&!/chrome/i.test(Oe)?ke.ExtSafari:ke.ExtChrome),we);var Oe;class Ee{#e;#t;#n;constructor(){try{this.#e=browser.browserAction,this.#t=browser.tabs,this.#n=browser.windows}catch(e){this.#e=chrome.action,this.#t=chrome.tabs,this.#n=chrome.windows}}changeTabIcon(e,t){this.#e.setIcon({path:t,tabId:e})}getActiveWindow(){return this.#n.getCurrent({})}getAllTabs(){return this.getTabs({})}getCurrentTabFromFocusedWindow(){return this.getTabs({active:!0,lastFocusedWindow:!0}).then((e=>e[0]))}getTabs(e){return this.#t.query(e)}createTab(e){return"string"==typeof e&&(e={url:e}),this.#t.create(e)}removeTab(e){return this.#t.remove(e)}updateTab(e,t){return this.#t.update(e,t)}}class Ce{data={};isReady;storage;storeKey;timeoutId;constructor(e,t="cache"){this.storage=e,this.storeKey=t,this.isReady=this.storage.get(this.storeKey).then((e=>{this.data=e??{}}))}async get(e){await this.isReady;const t=this.data[e];if(t?.expireAt&&t.expireAt>Date.now())return t.data}async set(e,t,n){await this.isReady,this.data[e]={data:t,expireAt:Date.now()+n},this.save()}async remove(e){await this.isReady,delete this.data[e],this.save()}async clear(){this.data={},this.save(!0)}save(e=!1){if(this.timeoutId&&!e)return;const t=e?0:1e3;clearTimeout(this.timeoutId);for(const e of Object.keys(this.data))this.data[e].expireAt<=Date.now()&&delete this.data[e];this.timeoutId=setTimeout((()=>{this.storage.set(this.storeKey,this.data),this.timeoutId=void 0}),t)}}const Pe="data";var Te=o(3150),Ie=o.n(Te);const De=36e5,Re="enabled",Le="session",Be=24*De,Ne="threshold",je=new Set;const Me=(e,t)=>({get:async function(n){return(await e.get(t)??{})[n]??null},remove:async function(n){const r=await e.get(t)??{},{[n]:o,...i}=r;await e.set(t,i)},set:async function(n,r){const o=await e.get(t)??{};await e.set(t,{...o,[n]:r})}}),Ue=new class{cacheDuration;cacheService;configUrl;constructor(e,t={}){this.cacheDuration=t.cacheDuration??36e5,this.cacheService=t.cacheService??new Ce(we,"remote-config"),this.configUrl=e}async get(){let e=await this.cacheService.get(Pe);if(!e)try{e=await fetch(this.getConfigRequestUrl()).then((e=>e.json())),await this.cacheService.set(Pe,e,this.cacheDuration)}catch(e){}return e}getConfigRequestUrl(){const e=Date.now(),t=e-e%this.cacheDuration;return this.configUrl.replace("{TIMESTAMP}",t.toString(10))}}("https://pepper.gsg-extension.com/config.json?t={TIMESTAMP}"),He="at",Fe="uk",Ve="fr",ze="de",$e="it",Ke="mx",qe="nl",We="",Ye="pl",Ge="ru",Xe="pepperMerchantsCache",Je="merchantsCache",Ze="hiddenRetailers",Qe=72e5,et=36e5,tt="merchantsSerpCache",nt="feedbackBanner",rt="ext_chrome",ot=30,it="userLocale";var at;!function(e){e.SEND_GA="send-google-analytics"}(at||(at={}));const st="deals",ct=[Ye,qe,$e,Fe],lt={CLOSE_BUTTON:{CLICKED:"caa:close-button:clicked"},CTA:{DISPLAY:"tooltips:caa:cta:display"},DISPLAY:"caa:display",GET_STATE:"caa:get-state",HIDDEN:"caa:hidden",LOG_EVENT:"caa:log-event",LOG_SESSION:"caa:log-session",REMOVE:"caa:remove",SHOWN:"caa:shown",START:"caa:start"},ut={CLOSE_BUTTON:{CLICKED:"cay:close-button:clicked"},CODE:{ADD_TO_STORAGE:"cay:code:add-to-storage",IS_SHOWN:"cay:code:is-shown"},DISPLAY:"cay:display",HIDDEN:"cay:hidden",REMOVE:"cay:remove",SHOWN:"cay:shown"},pt={GET_INFO:"feedbackBanner:get-info",HIDDEN_BY_USER:"feedbackBanner:hidden-by-user",INCREASE_DEALS_CLICK_COUNT:"feedbackBanner:increase-deals-click-count"},ft={READY:"injections:ready"},dt={CLOSE_BUTTON:{CLICKED:"notification:close-button:clicked"},DISPLAY:"notification:display",HIDDEN:"notification:hidden",REMOVE:"notification:remove",SHOWN:"notification:shown"},ht={REQUESTED:"session:requested",UPDATED:"session:updated"},gt={CLICKED:"side-button:clicked",DISPLAY:"side-button:display",GET_POSITION_TOP:"side-button:get-position-top",HIDDEN:"side-button:hidden",REMOVE:"side-button:remove",SET_POSITION_TOP:"side-button:set-position-top",SHOWN:"side-button:shown"},mt={CAA:{BUTTON:{CLICKED:"tooltips:caa:button:clicked"},DISPLAY:"tooltips:caa:display",HIDE:"tooltips:caa:hide",REMOVE:"tooltips:caa:remove"},CAY:{DEALS:{BUTTON:{CLICKED:"tooltips:cay:deals:button:clicked"},DISPLAY:"tooltips:cay:deals:display",HIDE:"tooltips:cay:deals:hide",REMOVE:"tooltips:cay:deals:remove"},VOUCHERS:{BUTTON:{CLICKED:"tooltips:cay:vouchers:button:clicked"},DISPLAY:"tooltips:cay:vouchers:display",HIDE:"tooltips:cay:vouchers:hide",REMOVE:"tooltips:cay:vouchers:remove"}},HIDDEN:{BUTTON:{CLICKED:"tooltips:hidden:button:clicked"},DISPLAY:"tooltips:hidden:display",HIDE:"tooltips:hidden:hide",REMOVE:"tooltips:hidden:remove"},NOTIFICATION:{BUTTON:{CLICKED:"tooltips:notification:button:clicked"},DISPLAY:"tooltips:notification:display",HIDE:"tooltips:notification:hide",REMOVE:"tooltips:notification:remove"},SIDE_BUTTON:{BUTTON:{CLICKED:"tooltips:side-button:button:clicked"},DISPLAY:"tooltips:side-button:display",HIDE:"tooltips:side-button:hide",REMOVE:"tooltips:side-button:remove"}},yt="config",vt=new class{constructor(e={}){this.isLoggingEnabled=!0,this.isThresholdSaving=!1,this.isPingPending=!1;const{localStorage:t=we,sessionStorage:n=Ae,storeKey:r="DataDogLogger"}=e;if(!r)throw new Error("ExtensionLogsService: storeKey is required!");if(je.has(r))throw new Error(`ExtensionLogsService: storeKey "${r}" is already being used!`);je.add(r);const o="ExtensionLogsService:"+r;this.localStorage=Me(t,o),this.sessionStorage=Me(n,o),this.isInitialised=new Promise((e=>{this.initDone=e}));const i=setTimeout((()=>{console.error("Please, call ExtensionLogsService.init() to avoid memory leaks!")}),6e4);this.isInitialised.then((()=>{clearTimeout(i)}))}debug(e){return this.submit({...e,status:"debug"})}error(e){const{data:t={},origin:n="custom",stack:r="",...o}=e;return this.submit({data:{...t,error:{origin:n,stack:r}},...o,status:"error"})}info(e){return this.submit({...e,status:"info"})}warn(e){return this.submit({...e,status:"warn"})}async init(e){this.clientToken=e.clientToken,this.env=e.env,this.service=e.service,this.sessionId=e.sessionId,this.version=e.version;const t=await this.sessionStorage.get(Re);"boolean"==typeof t?this.isLoggingEnabled=t:(this.isLoggingEnabled=Math.random()<(e.sessionSampleRate??1),await this.sessionStorage.set(Re,this.isLoggingEnabled)),"number"!=typeof e.threshold||this.thresholdData||(this.thresholdData=await this.localStorage.get(Ne)??{count:0,limit:e.threshold,resetAt:Date.now()+Be},this.thresholdData.limit!==e.threshold&&console.error("ExtensionLogsService: threshold parameter was changed since last call")),this.initDone?.()}logConsoleErrors(){const e=console.error;console.error=(...t)=>{e.apply(console,t),this.error({message:"console error: "+t[0],origin:"console"})}}logUnhandledErrors(){const e=globalThis.onerror;globalThis.onerror=(t,n,r,o,i)=>{e?.call(globalThis,t,n,r,o,i),this.error({message:"Unhandled error: "+(i?.message||""),stack:i?.stack})}}async ping(e){if(!this.isPingPending){this.isPingPending=!0;try{await this.pingUnsafe(e)}catch(e){console.error("ExtensionLogsService: ping error",e)}this.isPingPending=!1}}isThresholdExceeded(){return!!this.thresholdData&&(!(Date.now()>this.thresholdData.resetAt)&&this.thresholdData.count>this.thresholdData.limit)}async pingUnsafe(e){const{localStorage:t,sessionStorage:n}=this,r=Date.now(),o={durations:[],loggedAt:-1,startedAt:r,updatedAt:r,...await t.get(Le)??{}};if(!await n.get(Le)&&(await n.set(Le,{startedAt:r}),o.startedAt!==r&&(o.durations.push(o.updatedAt-Math.max(o.startedAt,o.loggedAt)),o.startedAt=r)),o.loggedAt<=r-24*De){const t=[...o.durations,r-Math.max(o.startedAt,o.loggedAt)],n=e&&e()||{};await this.info({data:{...n,durations:t,durationsSum:t.reduce(((e,t)=>e+t),0),ongoingDuration:r-o.startedAt,startedAt:o.startedAt},forceLog:!0,message:"session",throwOnError:!0}),o.durations=[],o.loggedAt=r}o.updatedAt=r,await t.set(Le,o)}async submit(e){if(await this.isInitialised,!this.clientToken)return;if(!this.isLoggingEnabled&&!e.forceLog)return;if(this.updateThreshold(),this.isThresholdExceeded()&&!e.forceLog)return;const t={"dd-api-key":this.clientToken,"dd-evp-origin":"browser",ddsource:"browser",ddtags:`api:fetch,env:${this.env},service:${this.service},version:${this.version}`},n=[];for(let e in t){const r=t[e];r&&n.push(e+"="+encodeURIComponent(r))}const r={date:Date.now(),message:e.message,service:this.service,session_id:this.sessionId,status:e.status??"info",version:this.version,view:e.data?.view??{url:""}};try{await fetch("https://logs.browser-intake-datadoghq.eu/api/v2/logs?"+n.join("&"),{body:JSON.stringify({...e.data??{},...r}),method:"POST"})}catch(t){if(console.error("ExtensionLogsService: fetch error",t),e.throwOnError)throw t}}updateThreshold(){if(!this.thresholdData)return;const e=this.isThresholdExceeded();Date.now()>this.thresholdData.resetAt&&(this.thresholdData.count=0,this.thresholdData.resetAt=Date.now()+Be),this.thresholdData.count++,this.isThresholdExceeded()&&!e&&this.warn({forceLog:!0,message:"Threshold reached"}),this.isThresholdSaving||(this.isThresholdSaving=!0,setTimeout((()=>{this.isThresholdSaving=!1,this.localStorage.set(Ne,this.thresholdData)}),5e3))}};async function bt(){try{const e=await Ue.get(),t=e?.features.datadog;if(t?.enabled)return t.clientToken}catch(e){console.error("Remote config is not available or incorrect DataDog configuration",e)}}async function _t(){await vt.init({clientToken:await bt(),env:"production",service:"pepper:extension",sessionId:await Se.getCustomerHash()??"undefined",threshold:2e3,version:chrome.runtime.getManifest().version})}function wt(e){return!!e.code.trim().length&&!/\s/.test(e.code.trim())}function At(e=[],t){const n=e.filter((({meta:{code:e}})=>t.includes(e))),r=n.length;if(0!==r){return n.map((({meta:{timeSpent:e}})=>e)).reduce(((e,t)=>e+t),0)/r}}_t(),setInterval(_t,6e5);class kt{_logs=[];get logs(){return[...this._logs]}get errorLogs(){return this._logs.filter((e=>"ERROR"===e.level))}get infoLogs(){return this._logs.filter((e=>"INFO"===e.level))}get perfLogs(){return this._logs.filter((e=>"PERF"===e.level))}pushLog=e=>{this._logs.push(e)};flushLogs=()=>{this._logs=[]}}const xt={};function St(e){return function(t){const{[e]:n=new kt}=xt;xt[e]||(xt[e]=n),n.pushLog(t)}}function Ot(e){return[...new Set(e.map((({code:e})=>e)))]}function Et(e,t,n){const{bestCoupon:r,startTime:o,testedCoupons:i,couponsToTest:a}=t,{[e]:s}=xt,c=(new Date).getTime(),l=null!==o?c-o:void 0,u=a.map((({code:e})=>e)),p=i.filter(wt),f=Ot(p),d=function(e){return Ot(e.filter((({type:e})=>e===ve.Invalid)))}(p),h=function(e){return Ot(e.filter((({type:e})=>e===ve.Discount)))}(p),[g,m,y]=h,v={averageCodeDuration:{invalid:At(s?.perfLogs,d),tested:At(s?.perfLogs,f),valid:At(s?.perfLogs,h)},bestCoupon:{code:r?.code,currency:r?.initialTotal.type,discount:r?r.initialTotal.value-r.totalWithDiscount.value:void 0,initialPrice:r?.initialTotal.value},codes:u,codesLength:u.length,hasFinishSession:Boolean(a.length===i.length),hasValidCoupon:Boolean(r),sessionDuration:l,testedCodes:f,testedCodesLength:f.length,validCodes:{codeA:g,codeB:m,codeC:y,codes:h,codesLength:h.length}},b={hasErrors:Boolean(s?.errorLogs.length),logs:s?.logs},_={caaSession:v,currentURL:n?.currentUrl,mainDomain:n?.mainDomain,stackEntry:b};vt.info({data:_,message:"CAA"}),s?.flushLogs()}const Ct="gaConsent";async function Pt(){const e=await we.get(Ct);return null!==e&&(!(e.expireAt<Date.now())&&e.isAgreed)}var Tt=o(1354);class It{constructor(e){const t=encodeURIComponent(e);this.merchantApiUrl="https://browsy.pepper.com/api/v1/merchants/{countryCode}".replace("{countryCode}",t),this.dealsApiUrl="https://browsy.pepper.com/api/v1/deals/{countryCode}/{merchantId}?page={pageNumber}".replace("{countryCode}",t)}async fetchAllMerchants(){const e=await fetch(this.merchantApiUrl,{method:"GET",headers:{Authorization:`Bearer ${this.getBearerToken()}`}}),{data:t}=await e.json();if(!this.isMerchantArray(t))throw new Error(`TypeError ${JSON.stringify(t)} is not of type Merchant`);return t}async fetchAllDealsByMerchantId(e){let t=1,n=[];for(;;){let r=this.dealsApiUrl.replace("{merchantId}",encodeURIComponent(e)).replace("{pageNumber}",encodeURIComponent(t));const o=await fetch(r,{method:"GET",headers:{Authorization:`Bearer ${this.getBearerToken()}`}}),{data:i,pagination:a}=await o.json();if(!this.isDealsArray(i))throw new Error(`TypeError ${JSON.stringify(i)} is not of type Deal`);if(n=n.concat(i),!a.count)break;t++}return n}isDeal(e){return!!e&&(e.id&&e.hasOwnProperty("country_code")&&e.hasOwnProperty("title")&&e.hasOwnProperty("url")&&e.hasOwnProperty("logo")&&e.hasOwnProperty("price"))}isDealsArray(e){return!(!e||!Array.isArray(e))&&e.every((e=>this.isDeal(e)))}isMerchant(e){return!!e&&(e.id&&e.hasOwnProperty("country_code")&&e.hasOwnProperty("name")&&e.hasOwnProperty("shop_url")&&e.hasOwnProperty("logo")&&e.hasOwnProperty("voucher_count")&&e.hasOwnProperty("deal_count")&&e.hasOwnProperty("urls")&&e.hasOwnProperty("slug"))}isMerchantArray(e){return!(!e||!Array.isArray(e))&&e.every((e=>this.isMerchant(e)))}getCurrentHourTimestampInSeconds(){const e=Date.now();return(e-e%36e5)/1e3}getBearerToken(){return(0,Tt.HmacMD5)(this.getCurrentHourTimestampInSeconds().toString(),"SemXZEfG7E9L7Xyy").toString()}}class Dt{pepperApiService;constructor(e){this.pepperApiService=new It(e)}async request(e){try{return await this.pepperApiService.fetchAllDealsByMerchantId(e)}catch(e){console.error("DealsService API",`Fail to get pepper deals with error: ${e}`)}}async getDeals(e){const t=`dealsCache:${e}`,n=await we.get(t);if(n&&n.expireAt>Date.now())return n.deals;const r=await this.request(e);return r?(await we.set(t,{deals:r,expireAt:Date.now()+18e5}),r):void 0}}const Rt="cache";class Lt{data={};isReady;storage;timeoutId;constructor(e){this.isReady=e.get(Rt).then((e=>{this.data=e??{}})),this.storage=e}async get(e){await this.isReady;const t=this.data[e];if(t?.expireAt&&t.expireAt>Date.now())return t.data}async set(e,t,n){await this.isReady,this.data[e]={data:t,expireAt:Date.now()+n},this.save()}async remove(e,t=!0){await this.isReady;const{[e]:n,...r}=this.data;this.data=r,t&&this.save()}async clear(){this.data={},this.save(!0)}save(e=!1){if(this.timeoutId&&!e)return;const t=e?0:1e3;clearTimeout(this.timeoutId);for(const e of Object.keys(this.data))if(this.data[e].expireAt<=Date.now()){const{[e]:t,...n}=this.data;this.data=n}this.timeoutId=setTimeout((()=>{this.storage.set(Rt,this.data),this.timeoutId=void 0}),t)}}const Bt=new Lt(we),Nt=(new Lt(Ae),()=>{const{language:e}=navigator;return e.split("-").shift()??e}),jt=()=>we.get(it),Mt={CHROME:"https://chromewebstore.google.com/detail/pepper-shopping-with-savi/bencobnblhoiacjofkgcnebancoikofo/reviews",FIREFOX:"https://addons.mozilla.org/firefox/addon/assistant-pepper/",SAFARI:"https://apps.apple.com/app/pepper/id6479392144"},Ut={CHROME:"https://chromewebstore.google.com/u/1/detail/pepper-shoppen-en-bespare/bencobnblhoiacjofkgcnebancoikofo/reviews?hl=nl",FIREFOX:"https://addons.mozilla.org/firefox/addon/assistant-pepper/",SAFARI:"https://apps.apple.com/app/pepper/id6479392144"},Ht={CHROME:"https://chromewebstore.google.com/u/1/detail/pepper-zakupy-z-oszcz%C4%99dno/bencobnblhoiacjofkgcnebancoikofo/reviews?hl=pl",FIREFOX:"https://addons.mozilla.org/firefox/addon/assistant-pepper/",SAFARI:"https://apps.apple.com/app/pepper/id6479392144"};let Ft=We;const Vt=async()=>(Ft=await jt()??"",Ft);Vt();const zt={getAboutLink:()=>{switch(Ft){case $e:return"https://www.pepper.it/chi-siamo";case qe:return"https://nl.pepper.com/about";case Ye:return"https://www.pepper.pl/about"}},getAddonLink:()=>{switch(Ft){case $e:return Mt;case qe:return Ut;default:return Ht}},getAffiliatedLink:()=>{switch(Ft){case $e:return"https://www.pepper.it/codici-sconto/m/click-out";case qe:return"https://nl.pepper.com/kortingscode/m/clickout-out";case Ye:return"https://www.pepper.pl/kupony/m/click-out"}},getAffiliatedLinkSerp:()=>{switch(Ft){case $e:return"https://www.pepper.it/codici-sconto/m/clickout/out";case qe:return"https://nl.pepper.com/kortingscode/m/clickout/out";case Ye:return"https://www.pepper.pl/kupony/m/clickout/out"}},getCommonConfigurationURL:()=>{switch(Ft){case qe:return"https://pepper.gsg-extension.com/nl";case Ye:return"https://pepper.gsg-extension.com/pl";case $e:return"https://pepper.gsg-extension.com/it"}},getContactsLink:()=>{switch(Ft){case $e:return"https://www.pepper.it/faqs";case qe:return"https://nl.pepper.com/faq";case Ye:return"https://www.pepper.pl/faq"}},getCookiePolicyLink:()=>{switch(Ft){case $e:return"https://www.pepper.it/politica-cookie";case qe:return"https://nl.pepper.com/cookiebeleid";case Ye:return"https://www.pepper.pl/cookies-policy"}},getCountryCode:()=>{switch(Ft){case He:return"at";case Fe:return"uk";case Ve:return"fr";case ze:return"de";case $e:return"it";case Ke:return"mx";case qe:return"nl";case Ye:return"pl";case Ge:return"ru";default:return console.log(`Unsupported locale ${Ft}!`),""}},getFeedbackLink:()=>{switch(Ft){case $e:return"https://forms.gle/R6wRx85v718ZKS737";case qe:return"https://forms.gle/hrLAHRNP6egWATC97";case Ye:return"https://forms.gle/zEggM2Z1jP2HE5pMA"}},getLocale:()=>Ft,getMegatronAPIURL:()=>{switch(Ft){case $e:return"https://mega.pepper.it/megatron-mgt/h";case qe:return"https://mega.nl.pepper.com/megatron-mgt/h";case Ye:return"https://mega.pepper.pl/megatron-mgt/h"}},getMegatronBaseURL:()=>{switch(Ft){case $e:return"https://extension.mega.pepper.it";case qe:return"https://extension.mega.nl.pepper.com";case Ye:return"https://extension.mega.pepper.pl"}},getMegatronTrackingId:()=>{switch(Ft){case $e:return"9a4e68aa2f664528a1494fef86981382";case qe:return"fa126915276e46138fb37d26603e7277";case Ye:return"74e20df160ff4d1eaf1b048e0476dbf4"}},getPrivacyPolicyLink:()=>{switch(Ft){case $e:return"https://www.pepper.it/privacy";case qe:return"https://nl.pepper.com/privacy-policy";case Ye:return"https://www.pepper.pl/cookies-policy"}},getSafariExtensionUrl:e=>{switch(e){case qe:return"https://nl.pepper.com/extension/safari";case Ye:return"https://www.pepper.pl/extension/safari";default:return"https://www.google.com"}},getSearchOnRetailerLink:e=>{switch(Ft){case $e:return`https://www.pepper.it/search?q=${e}`;case qe:return`https://nl.pepper.com/search?q=${e}`;case Ye:return`https://www.pepper.pl/search?q=${e}`}},getTermsAndConditionsLink:()=>{switch(Ft){case $e:return"https://www.pepper.it/termini-e-condizioni";case qe:return"https://nl.pepper.com/gebruiksvoorwaarden";case Ye:return"https://www.pepper.pl/code-of-conduct"}},getUninstallLink:()=>{switch(Ft){case $e:return"https://forms.gle/q9evpJgApgqePfnr8";case qe:return"https://forms.gle/J35XksT8qSnxBrEv8";case Ye:return"https://forms.gle/w79dJBtdjASs3zfm7";default:return""}},updateLocale:e=>{Ft=e,(async e=>{await we.set(it,e)})(e)}};async function $t(){const e=await we.get(Ze)??[],t=e.filter((e=>e.expiration>Date.now()));return await we.set(Ze,t),t}async function Kt(){let e=await Bt.get(Je);if(!e){const t=await async function(){try{const e=zt.getCommonConfigurationURL();return(await fetch(`${e}/index.json`)).json()}catch(e){console.warn("Merchant API",`fail to get common merchants configurations with error: ${e}`)}}();if(!t)return;e=t.map((({id:e,url:t,merchant:{encrypted_tracking_link:n,name:r}})=>({encrypted_tracking_link:n,id:e,name:r,url:t}))),await Bt.set(Je,e,Qe)}const t=await $t();return e.filter((e=>!t.some((t=>t.id===e.id.toString()))))}async function qt(e){const t=await async function(e){try{return(await fetch(`${zt.getCommonConfigurationURL()}/${e}.json`)).json()}catch(e){console.warn("Vouchers API",`fail to get common vouchers with error: ${e}`)}}(e);return Wt(t).map((e=>Yt(e))).filter((e=>e.code))}const Wt=e=>e&&"object"==typeof e&&"vouchers"in e&&Array.isArray(e.vouchers)?e.vouchers:(console.warn("Vouchers API","get unvalid data from api"),[]),Yt=e=>{const t={code:"",expire_date:0,id:"",merchantId:"",terms:[],title:"",tracking_link:"",type:""};return e&&"object"==typeof e&&("coupon_code"in e&&e.coupon_code&&"string"==typeof e.coupon_code&&(t.code=e.coupon_code),"label"in e&&"string"==typeof e.label&&(t.title=e.label),"conditions"in e&&Array.isArray(e.conditions)&&(t.terms=e.conditions),"encrypted_tracking_link"in e&&"string"==typeof e.encrypted_tracking_link&&(t.tracking_link=e.encrypted_tracking_link),"end_date"in e&&"number"==typeof e.end_date&&!isNaN(e.end_date)&&(t.expire_date=e.end_date),"id"in e&&"string"==typeof e.id&&(t.id=`${e.id}`),"voucher_type"in e&&"string"==typeof e.voucher_type&&(t.type=e.voucher_type),"id_merchant"in e&&"string"==typeof e.id_merchant&&(t.merchantId=e.id_merchant)),t};var Gt;!function(e){e.NETHERLAND="nl",e.POLAND="pl"}(Gt||(Gt={}));const Xt="dialogs:visibility";async function Jt(e,t,n){const r=await n.get(Xt);return t?r?.[e]?.[t]??null:null}async function Zt(e,t,n,r){if(!t)return;let o=await n.get(Xt);o||(o={}),o[e]||(o[e]={}),o[e][t]=r,await n.set(Xt,o)}function Qt(e){try{return new URL(e).host.replace("www.","")}catch(e){console.warn("Invalid URL")}}const en=e=>e.trim().replace(/^(https?:\/\/)?(www\.)?/i,"").replace(/\/$/,"");function tn(e){const t=e.split(".");if(t.length<=1)return t.join("");return`${t.reverse().join(".")}.`}function nn(e){const t=e.indexOf("//"),n=-1!==t?t+2:0,r=e.indexOf("/",n),o=-1!==r?e.slice(r+1):"";return o.length>0?o:void 0}function rn(e,t){return!!function(e,t){return tn(e).startsWith(tn(t))}(e,t)&&!(nn(t)&&!function(e,t){return!!nn(t)&&`${nn(e)}/`.startsWith(`${nn(t)}/`)}(e,t))}async function on(e){const t=Qt(e);if(!t)return;const n=await Kt();return n?function(e,t){return t.find((t=>{const n=Qt(t.url);return!(!n||""===n)&&rn(e,en(n))}))}(t,n):void 0}class an{pepperApiService;constructor(e){this.pepperApiService=new It(e)}async request(){try{return await this.pepperApiService.fetchAllMerchants()}catch(e){console.error("PepperMerchantsService API",`Fail to get pepper merchants with error: ${e}`)}}async fetchPepperMerchants(){let e=await Bt.get(Xe);if(!e){if(e=await this.request(),!e)return;await Bt.set(Xe,e,Qe)}const t=await $t();return e.filter((e=>!t.some((t=>t.id===e.id.toString()))))}}async function sn(e){const t=Qt(e);if(!t)return;return function(e,t){return t.find((t=>{const n=t.urls;return!!Array.isArray(n)&&n.some((t=>""!==t&&rn(e,en(t))))}))}(t,await async function(){const e=new an(zt.getCountryCode());return await e.fetchPepperMerchants()??[]}())}var cn;!function(e){e.CAA="gsg-CAA-dialog",e.CAY="gsg-CAY-dialog",e.SideButton="gsg-side-button",e.Notification="gsg-notification-dialog",e.CAATooltip="gsg-CAA-tooltip",e.CAYVouchersTooltip="gsg-CAY-vouchers-tooltip",e.CAYDealsTooltip="gsg-CAY-deals-tooltip",e.SideButtonTooltip="gsg-side-button-tooltip",e.NotificationTooltip="gsg-notification-tooltip",e.NotificationHideTooltip="gsg-notification-hide-tooltip"}(cn||(cn={}));const ln=new class{#e;#t;#n;constructor(){try{this.#e=browser.browserAction,this.#t=browser.tabs,this.#n=browser.windows}catch(e){this.#e=chrome.action,this.#t=chrome.tabs,this.#n=chrome.windows}}changeTabIcon(e,t){this.#e.setIcon({path:t,tabId:e})}getActiveWindow(){return this.#n.getCurrent({})}getAllTabs(){return this.getTabs({})}getCurrentTabFromFocusedWindow(){return this.getTabs({active:!0,lastFocusedWindow:!0}).then((e=>e[0]))}getTabs(e){return this.#t.query(e)}createTab(e){return"string"==typeof e&&(e={url:e}),this.#t.create(e)}removeTab(e){return this.#t.remove(e)}updateTab(e,t){return this.#t.update(e,t)}};const un=new class{#r;#o={};constructor(){try{this.#r=browser.alarms}catch(e){this.#r=chrome.alarms}if(!this.#i())throw new Error("This service can be used only in service worker")}createTimer(e,t,n){this.#r.create(e,{delayInMinutes:t,periodInMinutes:n})}registerCallback(e,t){this.#o[e]=t}run(e){if(!Object.keys(this.#o).includes(e))throw new Error(`Please register callback for '${e}' before triggering`);this.#o[e]?.()}clearTimer(e){this.#r.clear(e)}clearAllTimers(){this.#r.clearAll()}#i(){return location.protocol.includes("extension")&&location.pathname.includes("background")}};async function pn(){const e="sessionData",t=await Ae.get(e),n=Date.now(),r=t?.expireAt&&t.expireAt>n?t.id:n.toString();return await Ae.set(e,{expireAt:n+60*ot*1e3,id:r}),r}function fn(e){return fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fn(e)}function dn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hn(e){var t=function(e,t){if("object"!=fn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fn(t)?t:t+""}function gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hn(r.key),r)}}function mn(e,t,n){return t&&gn(e.prototype,t),n&&gn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vn(e,t){return vn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vn(e,t)}function bn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vn(e,t)}function _n(e,t){if(t&&("object"==fn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yn(e)}function wn(e){return wn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wn(e)}function An(e,t,n){return(t=hn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function xn(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return kn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(n),!0).forEach((function(t){An(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var En={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},Cn=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};dn(this,e),this.init(t,n)}return mn(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||En,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,On(On({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new e(this.logger,t)}}]),e}()),Pn=function(){function e(){dn(this,e),this.observers={}}return mn(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&[].concat(this.observers[e]).forEach((function(e){e.apply(void 0,n)}));this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(t){t.apply(t,[e].concat(n))}))}}]),e}();function Tn(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function In(e){return null==e?"":""+e}function Dn(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function o(){return!e||"string"==typeof e}for(var i="string"!=typeof t?[].concat(t):t.split(".");i.length>1;){if(o())return{};var a=r(i.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return o()?{}:{obj:e,k:r(i.shift())}}function Rn(e,t,n){var r=Dn(e,t,Object);r.obj[r.k]=n}function Ln(e,t){var n=Dn(e,t),r=n.obj,o=n.k;if(r)return r[o]}function Bn(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):Bn(e[r],t[r],n):e[r]=t[r]);return e}function Nn(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var jn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Mn(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return jn[e]})):e}var Un="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,Hn=[" ",",","?","!",";"];function Fn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),o=e,i=0;i<r.length;++i){if(!o)return;if("string"==typeof o[r[i]]&&i+1<r.length)return;if(void 0===o[r[i]]){for(var a=2,s=r.slice(i,i+a).join(n),c=o[s];void 0===c&&r.length>i+a;)a++,c=o[s=r.slice(i,i+a).join(n)];if(void 0===c)return;if(null===c)return null;if(t.endsWith(s)){if("string"==typeof c)return c;if(s&&"string"==typeof c[s])return c[s]}var l=r.slice(i+a).join(n);return l?Fn(c,l,n):void 0}o=o[r[i]]}return o}}function Vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(n),!0).forEach((function(t){An(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wn(e);if(t){var o=wn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _n(this,n)}}var Kn=function(e){bn(n,e);var t=$n(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return dn(this,n),r=t.call(this),Un&&Pn.call(yn(r)),r.data=e||{},r.options=o,void 0===r.options.keySeparator&&(r.options.keySeparator="."),void 0===r.options.ignoreJSONStructure&&(r.options.ignoreJSONStructure=!0),r}return mn(n,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,i=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[e,t];n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=e.split("."));var s=Ln(this.data,a);return s||!i||"string"!=typeof n?s:Fn(this.data&&this.data[e]&&this.data[e][t],n,o)}},{key:"addResource",value:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator,a=[e,t];n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(r=t,t=(a=e.split("."))[1]),this.addNamespaces(t),Rn(this.data,a,r),o.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var o in n)"string"!=typeof n[o]&&"[object Array]"!==Object.prototype.toString.apply(n[o])||this.addResource(e,t,o,n[o],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=Ln(this.data,a)||{};r?Bn(s,n,o):s=zn(zn({},s),n),Rn(this.data,a,s),i.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?zn(zn({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),n}(Pn),qn={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,o){var i=this;return e.forEach((function(e){i.processors[e]&&(t=i.processors[e].process(t,n,r,o))})),t}};function Wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wn(Object(n),!0).forEach((function(t){An(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wn(e);if(t){var o=wn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _n(this,n)}}var Xn={},Jn=function(e){bn(n,e);var t=Gn(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return dn(this,n),r=t.call(this),Un&&Pn.call(yn(r)),function(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,yn(r)),r.options=o,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r.logger=Cn.create("translator"),r}return mn(n,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,o=t.ns||this.options.defaultNS||[],i=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var r=Hn.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var o=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),i=!o.test(e);if(!i){var a=e.indexOf(n);a>0&&!o.test(e.substring(0,a))&&(i=!0)}return i}(e,n,r));if(i&&!a){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:o};var c=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(c[0])>-1)&&(o=c.shift()),e=c.join(r)}return"string"==typeof o&&(o=[o]),{key:e,namespaces:o}}},{key:"translate",value:function(e,t,r){var o=this;if("object"!==fn(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"===fn(t)&&(t=Yn({},t)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var i=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,a=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],t),c=s.key,l=s.namespaces,u=l[l.length-1],p=t.lng||this.language,f=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&"cimode"===p.toLowerCase()){if(f){var d=t.nsSeparator||this.options.nsSeparator;return i?{res:"".concat(u).concat(d).concat(c),usedKey:c,exactUsedKey:c,usedLng:p,usedNS:u}:"".concat(u).concat(d).concat(c)}return i?{res:c,usedKey:c,exactUsedKey:c,usedLng:p,usedNS:u}:c}var h=this.resolve(e,t),g=h&&h.res,m=h&&h.usedKey||c,y=h&&h.exactUsedKey||c,v=Object.prototype.toString.apply(g),b=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject;if(_&&g&&("string"!=typeof g&&"boolean"!=typeof g&&"number"!=typeof g)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(v)<0&&("string"!=typeof b||"[object Array]"!==v)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var w=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,g,Yn(Yn({},t),{},{ns:l})):"key '".concat(c," (").concat(this.language,")' returned an object instead of string.");return i?(h.res=w,h):w}if(a){var A="[object Array]"===v,k=A?[]:{},x=A?y:m;for(var S in g)if(Object.prototype.hasOwnProperty.call(g,S)){var O="".concat(x).concat(a).concat(S);k[S]=this.translate(O,Yn(Yn({},t),{joinArrays:!1,ns:l})),k[S]===O&&(k[S]=g[S])}g=k}}else if(_&&"string"==typeof b&&"[object Array]"===v)(g=g.join(b))&&(g=this.extendTranslation(g,e,t,r));else{var E=!1,C=!1,P=void 0!==t.count&&"string"!=typeof t.count,T=n.hasDefaultValue(t),I=P?this.pluralResolver.getSuffix(p,t.count,t):"",D=t["defaultValue".concat(I)]||t.defaultValue;!this.isValidLookup(g)&&T&&(E=!0,g=D),this.isValidLookup(g)||(C=!0,g=c);var R=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&C?void 0:g,L=T&&D!==g&&this.options.updateMissing;if(C||E||L){if(this.logger.log(L?"updateKey":"missingKey",p,u,c,L?D:g),a){var B=this.resolve(c,Yn(Yn({},t),{},{keySeparator:!1}));B&&B.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var N=[],j=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&j&&j[0])for(var M=0;M<j.length;M++)N.push(j[M]);else"all"===this.options.saveMissingTo?N=this.languageUtils.toResolveHierarchy(t.lng||this.language):N.push(t.lng||this.language);var U=function(e,n,r){var i=T&&r!==g?r:R;o.options.missingKeyHandler?o.options.missingKeyHandler(e,u,n,i,L,t):o.backendConnector&&o.backendConnector.saveMissing&&o.backendConnector.saveMissing(e,u,n,i,L,t),o.emit("missingKey",e,u,n,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&P?N.forEach((function(e){o.pluralResolver.getSuffixes(e,t).forEach((function(n){U([e],c+n,t["defaultValue".concat(n)]||D)}))})):U(N,c,D))}g=this.extendTranslation(g,e,t,h,r),C&&g===c&&this.options.appendNamespaceToMissingKey&&(g="".concat(u,":").concat(c)),(C||E)&&this.options.parseMissingKeyHandler&&(g="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(u,":").concat(c):c,E?g:void 0):this.options.parseMissingKeyHandler(g))}return i?(h.res=g,h):g}},{key:"extendTranslation",value:function(e,t,n,r,o){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,Yn(Yn({},this.options.interpolation.defaultVariables),n),r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(Yn(Yn({},n),{interpolation:Yn(Yn({},this.options.interpolation),n.interpolation)}));var a,s="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var c=e.match(this.interpolator.nestingRegexp);a=c&&c.length}var l=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(l=Yn(Yn({},this.options.interpolation.defaultVariables),l)),e=this.interpolator.interpolate(e,l,n.lng||this.language,n),s){var u=e.match(this.interpolator.nestingRegexp);a<(u&&u.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&r&&r.res&&(n.lng=r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return o&&o[0]===r[0]&&!n.context?(i.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):i.translate.apply(i,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var p=n.postProcess||this.options.postProcess,f="string"==typeof p?[p]:p;return null!=e&&f&&f.length&&!1!==n.applyPostProcessor&&(e=qn.handle(f,e,t,this.options&&this.options.postProcessPassResolved?Yn({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,o,i,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!a.isValidLookup(t)){var c=a.extractFromKey(e,s),l=c.key;n=l;var u=c.namespaces;a.options.fallbackNS&&(u=u.concat(a.options.fallbackNS));var p=void 0!==s.count&&"string"!=typeof s.count,f=p&&!s.ordinal&&0===s.count&&a.pluralResolver.shouldUseIntlApi(),d=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,h=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);u.forEach((function(e){a.isValidLookup(t)||(i=e,!Xn["".concat(h[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(i)&&(Xn["".concat(h[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(h.join(", "),'" won\'t get resolved as namespace "').concat(i,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach((function(n){if(!a.isValidLookup(t)){o=n;var i,c=[l];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(c,l,n,e,s);else{var u;p&&(u=a.pluralResolver.getSuffix(n,s.count,s));var h="".concat(a.options.pluralSeparator,"zero");if(p&&(c.push(l+u),f&&c.push(l+h)),d){var g="".concat(l).concat(a.options.contextSeparator).concat(s.context);c.push(g),p&&(c.push(g+u),f&&c.push(g+h))}}for(;i=c.pop();)a.isValidLookup(t)||(r=i,t=a.getResource(n,e,i,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:o,usedNS:i}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}]),n}(Pn);function Zn(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Qn=function(){function e(t){dn(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Cn.create("languageUtils")}return mn(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Zn(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Zn(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=Zn(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){return e===r?e:e.indexOf("-")<0&&r.indexOf("-")<0?void 0:0===e.indexOf(r)?e:void 0}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),o=[],i=function(e){e&&(n.isSupportedCode(e)?o.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):"string"==typeof e&&i(this.formatLanguageCode(e)),r.forEach((function(e){o.indexOf(e)<0&&i(n.formatLanguageCode(e))})),o}}]),e}(),er=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],tr={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},nr=["v1","v2","v3"],rr={zero:0,one:1,two:2,few:3,many:4,other:5};var or=function(){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};dn(this,e),this.languageUtils=t,this.options=r,this.logger=Cn.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(n={},er.forEach((function(e){e.lngs.forEach((function(t){n[t]={numbers:e.nr,plurals:tr[e.fc]}}))})),n)}return mn(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return rr[e]-rr[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),o=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var i=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):i():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!nr.includes(this.options.compatibilityJSON)}}]),e}();function ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(n),!0).forEach((function(t){An(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=function(e,t,n){var r=Ln(e,n);return void 0!==r?r:Ln(t,n)}(e,t,n);return!i&&o&&"string"==typeof n&&void 0===(i=Fn(e,n,r))&&(i=Fn(t,n,r)),i}var cr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};dn(this,e),this.logger=Cn.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return mn(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:Mn,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?Nn(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?Nn(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?Nn(t.nestingPrefix):t.nestingPrefixEscaped||Nn("$t("),this.nestingSuffix=t.nestingSuffix?Nn(t.nestingSuffix):t.nestingSuffixEscaped||Nn(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var o,i,a,s=this,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(e){return e.replace(/\$/g,"$$$$")}var u=function(e){if(e.indexOf(s.formatSeparator)<0){var o=sr(t,c,e,s.options.keySeparator,s.options.ignoreJSONStructure);return s.alwaysFormat?s.format(o,void 0,n,ar(ar(ar({},r),t),{},{interpolationkey:e})):o}var i=e.split(s.formatSeparator),a=i.shift().trim(),l=i.join(s.formatSeparator).trim();return s.format(sr(t,c,a,s.options.keySeparator,s.options.ignoreJSONStructure),l,n,ar(ar(ar({},r),t),{},{interpolationkey:a}))};this.resetRegExp();var p=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,f=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return l(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?l(s.escape(e)):l(e)}}].forEach((function(t){for(a=0;o=t.regex.exec(e);){var n=o[1].trim();if(void 0===(i=u(n)))if("function"==typeof p){var c=p(e,o,r);i="string"==typeof c?c:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))i="";else{if(f){i=o[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),i=""}else"string"==typeof i||s.useRawValueToEscape||(i=In(i));var l=t.safeValue(i);if(e=e.replace(o[0],l),f?(t.regex.lastIndex+=i.length,t.regex.lastIndex-=o[0].length):t.regex.lastIndex=0,++a>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,o,i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),i="{".concat(r[1]);e=r[0];var a=(i=this.interpolate(i,o)).match(/'/g),s=i.match(/"/g);(a&&a.length%2==0&&!s||s.length%2!=0)&&(i=i.replace(/'/g,'"'));try{o=JSON.parse(i),t&&(o=ar(ar({},t),o))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(i)}return delete o.defaultValue,e}for(;n=this.nestingRegexp.exec(e);){var c=[];(o=(o=ar({},a)).replace&&"string"!=typeof o.replace?o.replace:o).applyPostProcessor=!1,delete o.defaultValue;var l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var u=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=u.shift(),c=u,l=!0}if((r=t(s.call(this,n[1].trim(),o),o))&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=In(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),l&&(r=c.reduce((function(e,t){return i.format(e,t,a.lng,ar(ar({},a),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(n),!0).forEach((function(t){An(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pr(e){var t={};return function(n,r,o){var i=r+JSON.stringify(o),a=t[i];return a||(a=e(r,o),t[i]=a),a(n)}}var fr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};dn(this,e),this.logger=Cn.create("formatter"),this.options=t,this.formats={number:pr((function(e,t){var n=new Intl.NumberFormat(e,ur({},t));return function(e){return n.format(e)}})),currency:pr((function(e,t){var n=new Intl.NumberFormat(e,ur(ur({},t),{},{style:"currency"}));return function(e){return n.format(e)}})),datetime:pr((function(e,t){var n=new Intl.DateTimeFormat(e,ur({},t));return function(e){return n.format(e)}})),relativetime:pr((function(e,t){var n=new Intl.RelativeTimeFormat(e,ur({},t));return function(e){return n.format(e,t.range||"day")}})),list:pr((function(e,t){var n=new Intl.ListFormat(e,ur({},t));return function(e){return n.format(e)}}))},this.init(t)}return mn(e,[{key:"init",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"addCached",value:function(e,t){this.formats[e.toLowerCase().trim()]=pr(t)}},{key:"format",value:function(e,t,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.split(this.formatSeparator).reduce((function(e,t){var i=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var o=r[1].substring(0,r[1].length-1);"currency"===t&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):"relativetime"===t&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach((function(e){if(e){var t=xn(e.split(":")),r=t[0],o=t.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[r.trim()]||(n[r.trim()]=o),"false"===o&&(n[r.trim()]=!1),"true"===o&&(n[r.trim()]=!0),isNaN(o)||(n[r.trim()]=parseInt(o,10))}}))}return{formatName:t,formatOptions:n}}(t),a=i.formatName,s=i.formatOptions;if(r.formats[a]){var c=e;try{var l=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},u=l.locale||l.lng||o.locale||o.lng||n;c=r.formats[a](e,u,ur(ur(ur({},s),o),l))}catch(e){r.logger.warn(e)}return c}return r.logger.warn("there was no format function for ".concat(a)),e}),e);return i}}]),e}();function dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dr(Object(n),!0).forEach((function(t){An(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wn(e);if(t){var o=wn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _n(this,n)}}var mr=function(e){bn(n,e);var t=gr(n);function n(e,r,o){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return dn(this,n),i=t.call(this),Un&&Pn.call(yn(i)),i.backend=e,i.store=r,i.services=o,i.languageUtils=o.languageUtils,i.options=a,i.logger=Cn.create("backendConnector"),i.waitingReads=[],i.maxParallelReads=a.maxParallelReads||10,i.readingCalls=0,i.maxRetries=a.maxRetries>=0?a.maxRetries:5,i.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,i.state={},i.queue=[],i.backend&&i.backend.init&&i.backend.init(o,a.backend,a),i}return mn(n,[{key:"queueLoad",value:function(e,t,n,r){var o=this,i={},a={},s={},c={};return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&o.store.hasResourceBundle(e,t)?o.state[s]=2:o.state[s]<0||(1===o.state[s]?void 0===a[s]&&(a[s]=!0):(o.state[s]=1,r=!1,void 0===a[s]&&(a[s]=!0),void 0===i[s]&&(i[s]=!0),void 0===c[t]&&(c[t]=!0)))})),r||(s[e]=!0)})),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(c)}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),o=r[0],i=r[1];t&&this.emit("failedLoading",o,i,t),n&&this.store.addResourceBundle(o,i,n),this.state[e]=t?-1:2;var a={};this.queue.forEach((function(n){!function(e,t,n,r){var o=Dn(e,t,Object),i=o.obj,a=o.k;i[a]=i[a]||[],r&&(i[a]=i[a].concat(n)),r||i[a].push(n)}(n.loaded,[o],i),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(e){a[e]||(a[e]={});var t=n.loaded[e];t.length&&t.forEach((function(t){void 0===a[e][t]&&(a[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads)this.waitingReads.push({lng:e,ns:t,fcName:n,tried:o,wait:i,callback:a});else{this.readingCalls++;var s=function(s,c){if(r.readingCalls--,r.waitingReads.length>0){var l=r.waitingReads.shift();r.read(l.lng,l.ns,l.fcName,l.tried,l.wait,l.callback)}s&&c&&o<r.maxRetries?setTimeout((function(){r.read.call(r,e,t,n,o+1,2*i,a)}),i):a(s,c)},c=this.backend[n].bind(this.backend);if(2!==c.length)return c(e,t,s);try{var l=c(e,t);l&&"function"==typeof l.then?l.then((function(e){return s(null,e)})).catch(s):s(null,l)}catch(e){s(e)}}}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var i=this.queueLoad(e,t,r,o);if(!i.toLoad.length)return i.pending.length||o(),null;i.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),o=r[0],i=r[1];this.read(o,i,"read",void 0,void 0,(function(r,a){r&&t.logger.warn("".concat(n,"loading namespace ").concat(i," for language ").concat(o," failed"),r),!r&&a&&t.logger.log("".concat(n,"loaded namespace ").concat(i," for language ").concat(o),a),t.loaded(e,r,a)}))}},{key:"saveMissing",value:function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){var s=hr(hr({},i),{},{isUpdate:o}),c=this.backend.create.bind(this.backend);if(c.length<6)try{var l;(l=5===c.length?c(e,t,n,r,s):c(e,t,n,r))&&"function"==typeof l.then?l.then((function(e){return a(null,e)})).catch(a):a(null,l)}catch(e){a(e)}else c(e,t,n,r,a,s)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}}]),n}(Pn);function yr(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===fn(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===fn(e[2])||"object"===fn(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function vr(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?br(Object(n),!0).forEach((function(t){An(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):br(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wn(e);if(t){var o=wn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _n(this,n)}}function Ar(){}var kr=function(e){bn(n,e);var t=wr(n);function n(){var e,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(dn(this,n),e=t.call(this),Un&&Pn.call(yn(e)),e.options=vr(o),e.services={},e.logger=Cn,e.modules={external:[]},r=yn(e),Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach((function(e){"function"==typeof r[e]&&(r[e]=r[e].bind(r))})),i&&!e.isInitialized&&!o.isClone){if(!e.options.initImmediate)return e.init(o,i),_n(e,yn(e));setTimeout((function(){e.init(o,i)}),0)}return e}return mn(n,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var r=yr();function o(e){return e?"function"==typeof e?new e:e:null}if(this.options=_r(_r(_r({},r),this.options),vr(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=_r(_r({},r.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var i;this.modules.logger?Cn.init(o(this.modules.logger),this.options):Cn.init(null,this.options),this.modules.formatter?i=this.modules.formatter:"undefined"!=typeof Intl&&(i=fr);var a=new Qn(this.options);this.store=new Kn(this.options.resources,this.options);var s=this.services;s.logger=Cn,s.resourceStore=this.store,s.languageUtils=a,s.pluralResolver=new or(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!i||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(s.formatter=o(i),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new cr(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new mr(o(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.emit.apply(e,[t].concat(r))})),this.modules.languageDetector&&(s.languageDetector=o(this.modules.languageDetector),s.languageDetector.init&&s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=o(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new Jn(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.emit.apply(e,[t].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=Ar),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&"dev"!==c[0]&&(this.options.lng=c[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var l=Tn(),u=function(){var t=function(t,r){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),l.resolve(r),n(t,r)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ar,r="string"==typeof e?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return n();var o=[],i=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};if(r)i(r);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(e){return i(e)}));this.options.preload&&this.options.preload.forEach((function(e){return i(e)})),this.services.backendConnector.load(o,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),n(e)}))}else n(null)}},{key:"reloadResources",value:function(e,t,n){var r=Tn();return e||(e=this.languages),t||(t=this.options.ns),n||(n=Ar),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&qn.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=Tn();this.emit("languageChanging",e);var o=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},i=function(i){e||i||!n.services.languageDetector||(i=[]);var a="string"==typeof i?i:n.services.languageUtils.getBestMatchFromCodes(i);a&&(n.language||o(a),n.translator.language||n.translator.changeLanguage(a),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage&&n.services.languageDetector.cacheUserLanguage(a)),n.loadResources(a,(function(e){!function(e,i){i?(o(i),n.translator.changeLanguage(i),n.isLanguageChangingTo=void 0,n.emit("languageChanged",i),n.logger.log("languageChanged",i)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,a)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(i):this.services.languageDetector.detect(i):i(e):i(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t,n){var r=this,o=function e(t,o){var i;if("object"!==fn(o)){for(var a=arguments.length,s=new Array(a>2?a-2:0),c=2;c<a;c++)s[c-2]=arguments[c];i=r.options.overloadTranslationOptionHandler([t,o].concat(s))}else i=_r({},o);i.lng=i.lng||e.lng,i.lngs=i.lngs||e.lngs,i.ns=i.ns||e.ns,i.keyPrefix=i.keyPrefix||n||e.keyPrefix;var l,u=r.options.keySeparator||".";return l=i.keyPrefix&&Array.isArray(t)?t.map((function(e){return"".concat(i.keyPrefix).concat(u).concat(e)})):i.keyPrefix?"".concat(i.keyPrefix).concat(u).concat(t):t,r.t(l,i)};return"string"==typeof e?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=n,o}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=n.lng||this.resolvedLanguage||this.languages[0],o=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!a(r,e)||o&&!a(i,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=Tn();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=Tn();"string"==typeof e&&(e=[e]);var r=this.options.preload||[],o=e.filter((function(e){return r.indexOf(e)<0}));return o.length?(this.options.preload=r.concat(o),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";var t=this.services&&this.services.languageUtils||new Qn(yr());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ar,o=_r(_r(_r({},this.options),t),{isClone:!0}),i=new n(o);void 0===t.debug&&void 0===t.prefix||(i.logger=i.logger.clone(t));return["store","services","language"].forEach((function(t){i[t]=e[t]})),i.services=_r({},this.services),i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i.translator=new Jn(i.services,i.options),i.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i.emit.apply(i,[e].concat(n))})),i.init(o,r),i.translator.options=i.options,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(Pn);An(kr,"createInstance",(function(){return new kr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}));var xr=kr.createInstance();xr.createInstance=kr.createInstance;xr.createInstance,xr.dir,xr.init,xr.loadResources,xr.reloadResources,xr.use,xr.changeLanguage,xr.getFixedT,xr.t,xr.exists,xr.setDefaultNamespace,xr.hasLoadedNamespace,xr.loadNamespaces,xr.loadLanguages;function Sr(e){return Sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sr(e)}var Or=[],Er=Or.forEach,Cr=Or.slice;function Pr(e){return Er.call(Cr.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}function Tr(){return"function"==typeof XMLHttpRequest||"object"===("undefined"==typeof XMLHttpRequest?"undefined":Sr(XMLHttpRequest))}var Ir,Dr,Rr,Lr=o(3154),Br=o.t(Lr,2);function Nr(e){return Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nr(e)}"function"==typeof fetch&&(Ir="undefined"!=typeof global&&global.fetch?global.fetch:"undefined"!=typeof window&&window.fetch?window.fetch:fetch),Tr()&&("undefined"!=typeof global&&global.XMLHttpRequest?Dr=global.XMLHttpRequest:"undefined"!=typeof window&&window.XMLHttpRequest&&(Dr=window.XMLHttpRequest)),"function"==typeof ActiveXObject&&("undefined"!=typeof global&&global.ActiveXObject?Rr=global.ActiveXObject:"undefined"!=typeof window&&window.ActiveXObject&&(Rr=window.ActiveXObject)),Ir||!Br||Dr||Rr||(Ir=Lr||Br),"function"!=typeof Ir&&(Ir=void 0);var jr=function(e,t){if(t&&"object"===Nr(t)){var n="";for(var r in t)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(t[r]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e},Mr=function(e,t,n){Ir(e,t).then((function(e){if(!e.ok)return n(e.statusText||"Error",{status:e.status});e.text().then((function(t){n(null,{status:e.status,data:t})})).catch(n)})).catch(n)},Ur=!1;const Hr=function(e,t,n,r){return"function"==typeof n&&(r=n,n=void 0),r=r||function(){},Ir&&0!==t.indexOf("file:")?function(e,t,n,r){e.queryStringParams&&(t=jr(t,e.queryStringParams));var o=Pr({},"function"==typeof e.customHeaders?e.customHeaders():e.customHeaders);n&&(o["Content-Type"]="application/json");var i="function"==typeof e.requestOptions?e.requestOptions(n):e.requestOptions,a=Pr({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:o},Ur?{}:i);try{Mr(t,a,r)}catch(e){if(!i||0===Object.keys(i).length||!e.message||e.message.indexOf("not implemented")<0)return r(e);try{Object.keys(i).forEach((function(e){delete a[e]})),Mr(t,a,r),Ur=!0}catch(e){r(e)}}}(e,t,n,r):Tr()||"function"==typeof ActiveXObject?function(e,t,n,r){n&&"object"===Nr(n)&&(n=jr("",n).slice(1)),e.queryStringParams&&(t=jr(t,e.queryStringParams));try{var o;(o=Dr?new Dr:new Rr("MSXML2.XMLHTTP.3.0")).open(n?"POST":"GET",t,1),e.crossDomain||o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.withCredentials=!!e.withCredentials,n&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.overrideMimeType&&o.overrideMimeType("application/json");var i=e.customHeaders;if(i="function"==typeof i?i():i)for(var a in i)o.setRequestHeader(a,i[a]);o.onreadystatechange=function(){o.readyState>3&&r(o.status>=400?o.statusText:null,{status:o.status,data:o.responseText})},o.send(n)}catch(e){console&&console.log(e)}}(e,t,n,r):void r(new Error("No fetch and no xhr implementation found!"))};function Fr(e){return Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fr(e)}function Vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zr(r.key),r)}}function zr(e){var t=function(e,t){if("object"!==Fr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Fr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Fr(t)?t:String(t)}var $r=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(e){return JSON.parse(e)},stringify:JSON.stringify,parsePayload:function(e,t,n){return function(e,t,n){return(t=zr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n||"")},parseLoadPayload:function(e,t){},request:Hr,reloadInterval:"undefined"==typeof window&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},Kr=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.services=t,this.options=n,this.allOptions=r,this.type="backend",this.init(t,n,r)}var t,n,r;return t=e,n=[{key:"init",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=Pr(n,this.options||{},$r()),this.allOptions=r,this.services&&this.options.reloadInterval&&setInterval((function(){return t.reload()}),this.options.reloadInterval)}},{key:"readMulti",value:function(e,t,n){this._readAny(e,e,t,t,n)}},{key:"read",value:function(e,t,n){this._readAny([e],e,[t],t,n)}},{key:"_readAny",value:function(e,t,n,r,o){var i,a=this,s=this.options.loadPath;"function"==typeof this.options.loadPath&&(s=this.options.loadPath(e,n)),(s=function(e){return!!e&&"function"==typeof e.then}(i=s)?i:Promise.resolve(i)).then((function(i){if(!i)return o(null,{});var s=a.services.interpolator.interpolate(i,{lng:e.join("+"),ns:n.join("+")});a.loadUrl(s,o,t,r)}))}},{key:"loadUrl",value:function(e,t,n,r){var o=this,i="string"==typeof n?[n]:n,a="string"==typeof r?[r]:r,s=this.options.parseLoadPayload(i,a);this.options.request(this.options,e,s,(function(i,a){if(a&&(a.status>=500&&a.status<600||!a.status))return t("failed loading "+e+"; status code: "+a.status,!0);if(a&&a.status>=400&&a.status<500)return t("failed loading "+e+"; status code: "+a.status,!1);if(!a&&i&&i.message&&i.message.indexOf("Failed to fetch")>-1)return t("failed loading "+e+": "+i.message,!0);if(i)return t(i,!1);var s,c;try{s="string"==typeof a.data?o.options.parse(a.data,n,r):a.data}catch(t){c="failed parsing "+e+" to json"}if(c)return t(c,!1);t(null,s)}))}},{key:"create",value:function(e,t,n,r,o){var i=this;if(this.options.addPath){"string"==typeof e&&(e=[e]);var a=this.options.parsePayload(t,n,r),s=0,c=[],l=[];e.forEach((function(n){var r=i.options.addPath;"function"==typeof i.options.addPath&&(r=i.options.addPath(n,t));var u=i.services.interpolator.interpolate(r,{lng:n,ns:t});i.options.request(i.options,u,a,(function(t,n){s+=1,c.push(t),l.push(n),s===e.length&&"function"==typeof o&&o(c,l)}))}))}}},{key:"reload",value:function(){var e=this,t=this.services,n=t.backendConnector,r=t.languageUtils,o=t.logger,i=n.language;if(!i||"cimode"!==i.toLowerCase()){var a=[],s=function(e){r.toResolveHierarchy(e).forEach((function(e){a.indexOf(e)<0&&a.push(e)}))};s(i),this.allOptions.preload&&this.allOptions.preload.forEach((function(e){return s(e)})),a.forEach((function(t){e.allOptions.ns.forEach((function(e){n.read(t,e,"read",null,null,(function(r,i){r&&o.warn("loading namespace ".concat(e," for language ").concat(t," failed"),r),!r&&i&&o.log("loaded namespace ".concat(e," for language ").concat(t),i),n.loaded("".concat(t,"|").concat(e),r,i)}))}))}))}}}],n&&Vr(t.prototype,n),r&&Vr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();Kr.type="backend";const qr=Kr;var Wr,Yr,Gr,Xr,Jr,Zr,Qr,eo,to={},no=[],ro=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,oo=Array.isArray;function io(e,t){for(var n in t)e[n]=t[n];return e}function ao(e){var t=e.parentNode;t&&t.removeChild(e)}function so(e,t,n){var r,o,i,a={};for(i in t)"key"==i?r=t[i]:"ref"==i?o=t[i]:a[i]=t[i];if(arguments.length>2&&(a.children=arguments.length>3?Wr.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===a[i]&&(a[i]=e.defaultProps[i]);return co(e,a,r,o,null)}function co(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++Gr:o};return null==o&&null!=Yr.vnode&&Yr.vnode(i),i}function lo(e){return e.children}function uo(e,t){this.props=e,this.context=t}function po(e,t){if(null==t)return e.__?po(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?po(e):null}function fo(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return fo(e)}}function ho(e){(!e.__d&&(e.__d=!0)&&Xr.push(e)&&!go.__r++||Jr!==Yr.debounceRendering)&&((Jr=Yr.debounceRendering)||Zr)(go)}function go(){var e,t,n,r,o,i,a,s,c;for(Xr.sort(Qr);e=Xr.shift();)e.__d&&(t=Xr.length,r=void 0,o=void 0,i=void 0,s=(a=(n=e).__v).__e,(c=n.__P)&&(r=[],o=[],(i=io({},a)).__v=a.__v+1,So(c,a,i,n.__n,void 0!==c.ownerSVGElement,null!=a.__h?[s]:null,r,null==s?po(a):s,a.__h,o),Oo(r,a,o),a.__e!=s&&fo(a)),Xr.length>t&&Xr.sort(Qr));go.__r=0}function mo(e,t,n,r,o,i,a,s,c,l,u){var p,f,d,h,g,m,y,v,b,_=0,w=r&&r.__k||no,A=w.length,k=A,x=t.length;for(n.__k=[],p=0;p<x;p++)null!=(h=n.__k[p]=null==(h=t[p])||"boolean"==typeof h||"function"==typeof h?null:"string"==typeof h||"number"==typeof h||"bigint"==typeof h?co(null,h,null,null,h):oo(h)?co(lo,{children:h},null,null,null):h.__b>0?co(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h)?(h.__=n,h.__b=n.__b+1,-1===(v=_o(h,w,y=p+_,k))?d=to:(d=w[v]||to,w[v]=void 0,k--),So(e,h,d,o,i,a,s,c,l,u),g=h.__e,(f=h.ref)&&d.ref!=f&&(d.ref&&Eo(d.ref,null,h),u.push(f,h.__c||g,h)),null!=g&&(null==m&&(m=g),(b=d===to||null===d.__v)?-1==v&&_--:v!==y&&(v===y+1?_++:v>y?k>x-y?_+=v-y:_--:_=v<y&&v==y-1?v-y:0),y=p+_,"function"!=typeof h.type||v===y&&d.__k!==h.__k?"function"==typeof h.type||v===y&&!b?void 0!==h.__d?(c=h.__d,h.__d=void 0):c=g.nextSibling:c=bo(e,g,c):c=yo(h,c,e),"function"==typeof n.type&&(n.__d=c))):(d=w[p])&&null==d.key&&d.__e&&(d.__e==c&&(c=po(d)),Co(d,d,!1),w[p]=null);for(n.__e=m,p=A;p--;)null!=w[p]&&("function"==typeof n.type&&null!=w[p].__e&&w[p].__e==n.__d&&(n.__d=w[p].__e.nextSibling),Co(w[p],w[p]))}function yo(e,t,n){for(var r,o=e.__k,i=0;o&&i<o.length;i++)(r=o[i])&&(r.__=e,t="function"==typeof r.type?yo(r,t,n):bo(n,r.__e,t));return t}function vo(e,t){return t=t||[],null==e||"boolean"==typeof e||(oo(e)?e.some((function(e){vo(e,t)})):t.push(e)),t}function bo(e,t,n){return null==n||n.parentNode!==e?e.insertBefore(t,null):t==n&&null!=t.parentNode||e.insertBefore(t,n),t.nextSibling}function _o(e,t,n,r){var o=e.key,i=e.type,a=n-1,s=n+1,c=t[n];if(null===c||c&&o==c.key&&i===c.type)return n;if(r>(null!=c?1:0))for(;a>=0||s<t.length;){if(a>=0){if((c=t[a])&&o==c.key&&i===c.type)return a;a--}if(s<t.length){if((c=t[s])&&o==c.key&&i===c.type)return s;s++}}return-1}function wo(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||ro.test(t)?n:n+"px"}function Ao(e,t,n,r,o){var i;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||wo(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||wo(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r||e.addEventListener(t,i?xo:ko,i):e.removeEventListener(t,i?xo:ko,i);else if("dangerouslySetInnerHTML"!==t){if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))}}function ko(e){return this.l[e.type+!1](Yr.event?Yr.event(e):e)}function xo(e){return this.l[e.type+!0](Yr.event?Yr.event(e):e)}function So(e,t,n,r,o,i,a,s,c,l){var u,p,f,d,h,g,m,y,v,b,_,w,A,k,x,S=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(c=n.__h,s=t.__e=n.__e,t.__h=null,i=[s]),(u=Yr.__b)&&u(t);e:if("function"==typeof S)try{if(y=t.props,v=(u=S.contextType)&&r[u.__c],b=u?v?v.props.value:u.__:r,n.__c?m=(p=t.__c=n.__c).__=p.__E:("prototype"in S&&S.prototype.render?t.__c=p=new S(y,b):(t.__c=p=new uo(y,b),p.constructor=S,p.render=Po),v&&v.sub(p),p.props=y,p.state||(p.state={}),p.context=b,p.__n=r,f=p.__d=!0,p.__h=[],p._sb=[]),null==p.__s&&(p.__s=p.state),null!=S.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=io({},p.__s)),io(p.__s,S.getDerivedStateFromProps(y,p.__s))),d=p.props,h=p.state,p.__v=t,f)null==S.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==S.getDerivedStateFromProps&&y!==d&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(y,b),!p.__e&&(null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(y,p.__s,b)||t.__v===n.__v)){for(t.__v!==n.__v&&(p.props=y,p.state=p.__s,p.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),_=0;_<p._sb.length;_++)p.__h.push(p._sb[_]);p._sb=[],p.__h.length&&a.push(p);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(y,p.__s,b),null!=p.componentDidUpdate&&p.__h.push((function(){p.componentDidUpdate(d,h,g)}))}if(p.context=b,p.props=y,p.__P=e,p.__e=!1,w=Yr.__r,A=0,"prototype"in S&&S.prototype.render){for(p.state=p.__s,p.__d=!1,w&&w(t),u=p.render(p.props,p.state,p.context),k=0;k<p._sb.length;k++)p.__h.push(p._sb[k]);p._sb=[]}else do{p.__d=!1,w&&w(t),u=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++A<25);p.state=p.__s,null!=p.getChildContext&&(r=io(io({},r),p.getChildContext())),f||null==p.getSnapshotBeforeUpdate||(g=p.getSnapshotBeforeUpdate(d,h)),mo(e,oo(x=null!=u&&u.type===lo&&null==u.key?u.props.children:u)?x:[x],t,n,r,o,i,a,s,c,l),p.base=t.__e,t.__h=null,p.__h.length&&a.push(p),m&&(p.__E=p.__=null)}catch(e){t.__v=null,(c||null!=i)&&(t.__e=s,t.__h=!!c,i[i.indexOf(s)]=null),Yr.__e(e,t,n)}else null==i&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,r,o,i,a,s,c){var l,u,p,f=n.props,d=t.props,h=t.type,g=0;if("svg"===h&&(o=!0),null!=i)for(;g<i.length;g++)if((l=i[g])&&"setAttribute"in l==!!h&&(h?l.localName===h:3===l.nodeType)){e=l,i[g]=null;break}if(null==e){if(null===h)return document.createTextNode(d);e=o?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,d.is&&d),i=null,s=!1}if(null===h)f===d||s&&e.data===d||(e.data=d);else{if(i=i&&Wr.call(e.childNodes),u=(f=n.props||to).dangerouslySetInnerHTML,p=d.dangerouslySetInnerHTML,!s){if(null!=i)for(f={},g=0;g<e.attributes.length;g++)f[e.attributes[g].name]=e.attributes[g].value;(p||u)&&(p&&(u&&p.__html==u.__html||p.__html===e.innerHTML)||(e.innerHTML=p&&p.__html||""))}if(function(e,t,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in t||Ao(e,i,null,n[i],r);for(i in t)o&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||Ao(e,i,t[i],n[i],r)}(e,d,f,o,s),p)t.__k=[];else if(mo(e,oo(g=t.props.children)?g:[g],t,n,r,o&&"foreignObject"!==h,i,a,i?i[0]:n.__k&&po(n,0),s,c),null!=i)for(g=i.length;g--;)null!=i[g]&&ao(i[g]);s||("value"in d&&void 0!==(g=d.value)&&(g!==e.value||"progress"===h&&!g||"option"===h&&g!==f.value)&&Ao(e,"value",g,f.value,!1),"checked"in d&&void 0!==(g=d.checked)&&g!==e.checked&&Ao(e,"checked",g,f.checked,!1))}return e}(n.__e,t,n,r,o,i,a,c,l);(u=Yr.diffed)&&u(t)}function Oo(e,t,n){for(var r=0;r<n.length;r++)Eo(n[r],n[++r],n[++r]);Yr.__c&&Yr.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){Yr.__e(e,t.__v)}}))}function Eo(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){Yr.__e(e,n)}}function Co(e,t,n){var r,o;if(Yr.unmount&&Yr.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Eo(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){Yr.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&Co(r[o],t,n||"function"!=typeof e.type);n||null==e.__e||ao(e.__e),e.__=e.__e=e.__d=void 0}function Po(e,t,n){return this.constructor(e,n)}function To(e,t){var n={__c:t="__cC"+eo++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some((function(e){e.__e=!0,ho(e)}))},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}Wr=no.slice,Yr={__e:function(e,t,n,r){for(var o,i,a;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&null!=i.getDerivedStateFromError&&(o.setState(i.getDerivedStateFromError(e)),a=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(e,r||{}),a=o.__d),a)return o.__E=o}catch(t){e=t}throw e}},Gr=0,uo.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=io({},this.state),"function"==typeof e&&(e=e(io({},n),this.props)),e&&io(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),ho(this))},uo.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ho(this))},uo.prototype.render=lo,Xr=[],Zr="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Qr=function(e,t){return e.__v.__b-t.__v.__b},go.__r=0,eo=0;var Io,Do,Ro,Lo=[],Bo=[],No=Yr.__b,jo=Yr.__r,Mo=Yr.diffed,Uo=Yr.__c,Ho=Yr.unmount;function Fo(){for(var e;e=Lo.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach($o),e.__H.__h.forEach(Ko),e.__H.__h=[]}catch(t){e.__H.__h=[],Yr.__e(t,e.__v)}}Yr.__b=function(e){Io=null,No&&No(e)},Yr.__r=function(e){jo&&jo(e),0;var t=(Io=e.__c).__H;t&&(Do===Io?(t.__h=[],Io.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=Bo,e.__N=e.i=void 0}))):(t.__h.forEach($o),t.__h.forEach(Ko),t.__h=[],0)),Do=Io},Yr.diffed=function(e){Mo&&Mo(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==Lo.push(t)&&Ro===Yr.requestAnimationFrame||((Ro=Yr.requestAnimationFrame)||zo)(Fo)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==Bo&&(e.__=e.__V),e.i=void 0,e.__V=Bo}))),Do=Io=null},Yr.__c=function(e,t){t.some((function(e){try{e.__h.forEach($o),e.__h=e.__h.filter((function(e){return!e.__||Ko(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],Yr.__e(n,e.__v)}})),Uo&&Uo(e,t)},Yr.unmount=function(e){Ho&&Ho(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{$o(e)}catch(e){t=e}})),n.__H=void 0,t&&Yr.__e(t,n.__v))};var Vo="function"==typeof requestAnimationFrame;function zo(e){var t,n=function(){clearTimeout(r),Vo&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Vo&&(t=requestAnimationFrame(n))}function $o(e){var t=Io,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),Io=t}function Ko(e){var t=Io;e.__c=e.__(),Io=t}function qo(e,t){for(var n in t)e[n]=t[n];return e}function Wo(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function Yo(e){this.props=e}(Yo.prototype=new uo).isPureReactComponent=!0,Yo.prototype.shouldComponentUpdate=function(e,t){return Wo(this.props,e)||Wo(this.state,t)};var Go=Yr.__b;Yr.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Go&&Go(e)};"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var Xo=Yr.__e;Yr.__e=function(e,t,n,r){if(e.then)for(var o,i=t;i=i.__;)if((o=i.__c)&&o.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),o.__c(e,t);Xo(e,t,n,r)};var Jo=Yr.unmount;function Zo(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=qo({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return Zo(e,t,n)}))),e}function Qo(e,t,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return Qo(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function ei(){this.__u=0,this.t=null,this.__b=null}function ti(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function ni(){this.u=null,this.o=null}Yr.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),Jo&&Jo(e)},(ei.prototype=new uo).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=ti(r.__v),i=!1,a=function(){i||(i=!0,n.__R=null,o?o(s):s())};n.__R=a;var s=function(){if(! --r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=Qo(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(a,a)},ei.prototype.componentWillUnmount=function(){this.t=[]},ei.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=Zo(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__a&&so(lo,null,e.fallback);return o&&(o.__h=null),[so(lo,null,t.__a?null:e.children),o]};var ri=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};(ni.prototype=new uo).__a=function(e){var t=this,n=ti(t.__v),r=t.o.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),ri(t,e,r)):o()};n?n(i):i()}},ni.prototype.render=function(e){this.u=null,this.o=new Map;var t=vo(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},ni.prototype.componentDidUpdate=ni.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){ri(e,n,t)}))};var oi="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,ii=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ai=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,si=/[A-Z0-9]/g,ci="undefined"!=typeof document,li=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};uo.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(uo.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var ui=Yr.event;function pi(){}function fi(){return this.cancelBubble}function di(){return this.defaultPrevented}Yr.event=function(e){return ui&&(e=ui(e)),e.persist=pi,e.isPropagationStopped=fi,e.isDefaultPrevented=di,e.nativeEvent=e};var hi={enumerable:!1,configurable:!0,get:function(){return this.class}},gi=Yr.vnode;Yr.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,r={};for(var o in t){var i=t[o];if(!("value"===o&&"defaultValue"in t&&null==i||ci&&"children"===o&&"noscript"===n||"class"===o||"className"===o)){var a=o.toLowerCase();"defaultValue"===o&&"value"in t&&null==t.value?o="value":"download"===o&&!0===i?i="":"ondoubleclick"===a?o="ondblclick":"onchange"!==a||"input"!==n&&"textarea"!==n||li(t.type)?"onfocus"===a?o="onfocusin":"onblur"===a?o="onfocusout":ai.test(o)?o=a:-1===n.indexOf("-")&&ii.test(o)?o=o.replace(si,"-$&").toLowerCase():null===i&&(i=void 0):a=o="oninput","oninput"===a&&r[o=a]&&(o="oninputCapture"),r[o]=i}}"select"==n&&r.multiple&&Array.isArray(r.value)&&(r.value=vo(t.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==n&&null!=r.defaultValue&&(r.value=vo(t.children).forEach((function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value}))),t.class&&!t.className?(r.class=t.class,Object.defineProperty(r,"className",hi)):(t.className&&!t.class||t.class&&t.className)&&(r.class=r.className=t.className),e.props=r}(e),e.$$typeof=oi,gi&&gi(e)};var mi=Yr.__r;Yr.__r=function(e){mi&&mi(e),e.__c};var yi=Yr.diffed;Yr.diffed=function(e){yi&&yi(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value),null};o(1739);Object.create(null);var vi=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,bi={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},_i=function(e){return bi[e]};function wi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ai(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wi(Object(n),!0).forEach((function(t){An(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ki={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(e){return e.replace(vi,_i)}};var xi={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ki=Ai(Ai({},ki),e)}(e.options.react),function(e){e}(e)}};To(),function(){function e(){dn(this,e),this.usedNamespaces={}}mn(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}])}();const Si=e=>xr.use(qr).use(xi).init({backend:{loadPath:chrome.runtime.getURL(`/public/locales/${e}/{{ns}}.json`)},fallbackLng:Fe,interpolation:{escapeValue:!1},lng:e,load:"currentOnly",nsSeparator:!1,returnEmptyString:!1,supportedLngs:ct}),Oi=async()=>await we.get("serpSettings")??{enabled:!0},Ei="session:track";vt.logConsoleErrors(),vt.logUnhandledErrors();const Ci=new class{tabsIds=[];tabsService=new Ee;async activate(e){const{id:t}=await this.tabsService.createTab({active:!1,pinned:!0,url:e});if(!t)throw new Error("Cannot create activation tab");this.tabsIds.push(t)}isActivationTab(e){return this.tabsIds.includes(e)}onUpdated(e,t){this.isActivationTab(e)&&"complete"===t.status&&(this.tabsIds=this.tabsIds.filter((t=>t!=e)),setTimeout((()=>this.tabsService.removeTab(e)),1e3))}},Pi=new class{#a;#s;#c="gaClientId";constructor(e){const{apiSecret:t,measurementId:n,storage:r}=e;this.#a=`https://www.google-analytics.com/mp/collect?api_secret=${encodeURIComponent(t)}&measurement_id=${encodeURIComponent(n)}`,this.#s=new Promise((async e=>{let t=await r.get(this.#c);t||(t=this.generateClientId(),await r.set(this.#c,t)),e(t)}))}generateClientId(){let e="";for(let t=0;t<=9;t++)e+=(10*Math.random()|0).toString();return e+"."+Math.floor(Date.now()/1e3)}async sendEvent(e,t){fetch(this.#a,{body:JSON.stringify({client_id:await this.#s,events:[{name:e,params:t}]}),headers:{"Content-Type":"application/json"},method:"POST"})}}({apiSecret:"9t2rRvkkRIu-mWaZAz7XKw",measurementId:"G-JZRQ4HDRXJ",storage:we});async function Ti(){await Vt(),chrome.runtime.setUninstallURL(zt.getUninstallLink())}function Ii(){return Se.init({apiUrl:zt.getMegatronAPIURL()??"",businessModel:xe.Conversion,trackId:zt.getMegatronTrackingId()??"",trackUrlPrefix:zt.getMegatronBaseURL(),version:chrome.runtime.getManifest().version})}async function Di(){ln.getAllTabs().then((e=>{const t=e.find((e=>e.url?.endsWith("/language.html")));t?.id?ln.updateTab(t.id,{active:!0}):ln.createTab("./language.html")}))}Ti(),be({getUnifiedConfigUrl:async e=>(await Ue.get()).features.caa.configUrl.replace("{domain}",e),logger:St}),function(){const e={};async function t(e){const t=await on(e),n=await sn(e),r=[],o=function(e){const t=[];for(const n of e)n?.id&&t.push(n.id.toString());return t}([t,n]);return t&&r.push(t.name),n&&r.push(n.name),{merchant:t,merchantIds:o,merchantNames:r,pepperMerchant:n}}async function n(e){let n;if(n=await o(e),!n){const{merchant:o,pepperMerchant:i}=await t(e);if(!o&&!i)return;let a=[];o&&(a=await async function(e){if(!e)return[];return await qt(e)}(o.id.toString()));let s=[];i&&(s=await async function(e){if(!e)return[];const t=new Dt(zt.getCountryCode());return await t.getDeals(parseInt(e))??[]}(i.id.toString())),n={deals:s,merchant:o,pepperMerchant:i,vouchers:a},await async function(e,t){await we.set(await r(e),{expireAt:Date.now()+Qe,partner:t})}(e,n)}return n}async function r(e){const{merchant:n,pepperMerchant:r}=await t(e);return`partnerCache:${n?.id??r?.id}`}async function o(e){let t;const n=await we.get(await r(e));return n&&n.expireAt>Date.now()&&(t=n.partner),t}async function i(e,r,o){const{merchantNames:i}=await t(r);if(!i.length)return;const a=await n(r),s=await we.get("side-button-position-top");Ie().tabs.sendMessage(e,{param:{dealsCount:a?.deals.length,initialPosY:s,isEntryAnimated:o??!1,merchantNames:i},type:gt.DISPLAY})}async function a(e,t){if(await Jt(cn.CAYVouchersTooltip,"global",we))return;const r=await n(t);r?.vouchers.length&&(Ie().tabs.sendMessage(e,{type:mt.CAY.DEALS.REMOVE}),Ie().tabs.sendMessage(e,{type:mt.CAY.VOUCHERS.DISPLAY}),await Zt(cn.CAYVouchersTooltip,"global",we,!0))}async function s(e,t){if(await Jt(cn.CAYDealsTooltip,"global",we))return;const r=await n(t);r?.deals.length&&(Ie().tabs.sendMessage(e,{type:mt.CAY.VOUCHERS.REMOVE}),Ie().tabs.sendMessage(e,{type:mt.CAY.DEALS.DISPLAY}),await Zt(cn.CAYDealsTooltip,"global",we,!0))}function c(e){Ie().tabs.sendMessage(e,{type:mt.NOTIFICATION.REMOVE}),Zt(cn.NotificationTooltip,"global",we,!0),l(e,!1)}async function l(e,t=!0){const n=()=>{Ie().tabs.sendMessage(e,{type:mt.SIDE_BUTTON.DISPLAY}),Zt(cn.SideButtonTooltip,"global",we,!0)};await Jt(cn.SideButtonTooltip,"global",we)||(t?setTimeout(n,400):n())}function u(e){Ie().tabs.sendMessage(e,{type:mt.CAA.HIDE})}async function p(){const e=await(async()=>{try{let e=await Bt.get(yt);if(!e){const t=await fetch("https://pepper.gsg-extension.com/config.json");e=await t.json(),await Bt.set(yt,e,et)}return e}catch(e){}})(),t="nl"===zt.getCountryCode()?Gt.NETHERLAND:Gt.POLAND,n=e?.features.feedback[t]?.enabled??!1,r=await we.get(nt);return r?{...r,enabled:n}:{dealsClickCount:0,enabled:n,hiddenByUser:!1}}Ie().runtime.onMessage.addListener(((r,f,d)=>{var h;if(f.tab?.id&&f.tab.url?.match(/^https?:/))switch(r.type){case ft.READY:!async function(r,o){if(null===await we.get(it))return;const{merchant:a,pepperMerchant:s,merchantNames:c,merchantIds:l}=await t(o);if(!a&&!s)return;const u=await n(o),p=u?.vouchers.length,f=u?.deals.length;if(!u||!f&&!p)return;const d=a?a.id.toString():s?.id.toString(),h=await Jt(cn.Notification,d,Ae),g=await Ie().tabs.sendMessage(r,{type:lt.GET_STATE}).catch((()=>null)),m=g?.coupon.canApply??!1,y=c[0]&&!c.some((t=>t===e[r]?.merchantName));e[r]&&!y||(e[r]=await async function(e,t,n){const r=e.map((e=>({code:e.code,id:e.id,title:e.title,tracking_link:e.tracking_link}))),o=await Ie().tabs.sendMessage(n,{type:lt.GET_STATE}).catch((()=>null)),i=o?.amounts.total.amount?.value?o.amounts.total.amount.value:null;return{bestCoupon:null,couponsToTest:[...r].sort(((e,t)=>wt(e)&&!wt(t)?-1:1)),endTime:null,impressionsCount:0,initialPrice:i,merchantName:t,startTime:null,testedCoupons:[],trackedCoupons:r,trackingData:e[0]}}(u.vouchers,c[0],r));const v=e[r],b=v?.startTime,_=v?.initialPrice??0,w=g?.amounts.total.amount?.value??0,A=_!==w;if(b)return void Ie().tabs.sendMessage(r,{type:lt.DISPLAY});const k=!!v&&v.impressionsCount>=5;A&&(e[r]={...v,initialPrice:g?.amounts.total.amount?.value??null});const x=a?a.id.toString():s?.id.toString(),S=await Jt(cn.CAA,x,Ae);if(!m||!u.vouchers.filter(wt).length||S||!A&&k){const e=await Ae.get(tt),t=e?.includes(x);if(t){const e=u.vouchers.reduce(((e,t)=>[...e,t.id]),[]),t=await Ae.get("shownCodes")??[],n=Array.from(new Set([...t,...e]));Ae.set("shownCodes",n);const o=u.deals.length>0?st:"vouchers";Ie().tabs.sendMessage(r,{param:{partner:u,tabSelected:o},type:ut.DISPLAY}),Ae.remove(tt)}else i(r,o,!1);if(h||t)return;Ie().tabs.sendMessage(r,{param:{dealsCount:f,merchantIds:l,merchantName:c[0],vouchersCount:p},type:dt.DISPLAY})}else Ie().tabs.sendMessage(r,{type:lt.CTA.DISPLAY})}(f.tab.id,f.tab.url);break;case dt.HIDDEN:!async function(e){Ie().tabs.sendMessage(e,{type:dt.REMOVE})}(f.tab.id);break;case dt.SHOWN:!async function(e,n){const{merchant:r,pepperMerchant:o}=await t(n),i=r?r.id.toString():o?.id.toString();Zt(cn.Notification,i,Ae,!0);if(await Jt(cn.NotificationTooltip,"global",we))return;Ie().tabs.sendMessage(e,{type:mt.NOTIFICATION.DISPLAY})}(f.tab.id,f.tab.url);break;case ut.CLOSE_BUTTON.CLICKED:h=f.tab.id,Ie().tabs.sendMessage(h,{type:mt.CAY.VOUCHERS.HIDE}),function(e){Ie().tabs.sendMessage(e,{type:mt.CAY.DEALS.HIDE})}(f.tab.id),i(f.tab.id,f.tab.url,!0);break;case dt.CLOSE_BUTTON.CLICKED:!function(e){Ie().tabs.sendMessage(e,{type:mt.NOTIFICATION.HIDE})}(f.tab.id);break;case lt.CLOSE_BUTTON.CLICKED:case ye.Stop:u(f.tab.id),async function(e,r){const{merchant:o,merchantNames:i,pepperMerchant:a}=await t(r),s=await n(r),c=o?o.id.toString():a?.id.toString();Zt(cn.CAA,c,Ae,!0);const u=await we.get("side-button-position-top");Ie().tabs.sendMessage(e,{param:{dealsCount:s?.deals.length,initialPosY:u,merchantNames:i},type:gt.DISPLAY}),l(e)}(f.tab.id,f.tab.url);break;case ye.TryCodes:u(f.tab.id);break;case lt.SHOWN:!async function(e){if(await Jt(cn.CAATooltip,"global",we))return;Ie().tabs.sendMessage(e,{type:mt.CAA.DISPLAY})}(f.tab.id);break;case ut.HIDDEN:!async function(e){Ie().tabs.sendMessage(e,{type:ut.REMOVE})}(f.tab.id);break;case ut.SHOWN:r.param.tab===st?s(f.tab.id,f.tab.url):a(f.tab.id,f.tab.url);break;case gt.CLICKED:!function(e){Ie().tabs.sendMessage(e,{type:mt.SIDE_BUTTON.HIDE})}(f.tab.id),async function(e,t,n){const r=await o(n);if(!r)return;const i=await Ie().tabs.sendMessage(e,{type:lt.GET_STATE}).catch((()=>null)),a=i?.coupon.canApply&&r.vouchers.length?"vouchers":t;Ie().tabs.sendMessage(e,{param:{partner:r,tabSelected:a},type:ut.DISPLAY})}(f.tab.id,r.param.tab,f.tab.url);break;case gt.HIDDEN:!async function(e){Ie().tabs.sendMessage(e,{type:gt.REMOVE})}(f.tab.id);break;case gt.SET_POSITION_TOP:!async function(e){we.set("side-button-position-top",e)}(r.param);break;case mt.NOTIFICATION.BUTTON.CLICKED:c(f.tab.id);break;case mt.SIDE_BUTTON.BUTTON.CLICKED:!function(e){Ie().tabs.sendMessage(e,{type:mt.SIDE_BUTTON.REMOVE})}(f.tab.id);break;case mt.CAY.VOUCHERS.BUTTON.CLICKED:!function(e){Ie().tabs.sendMessage(e,{type:mt.CAY.VOUCHERS.REMOVE})}(f.tab.id);break;case mt.CAY.DEALS.BUTTON.CLICKED:!function(e){Ie().tabs.sendMessage(e,{type:mt.CAY.DEALS.REMOVE})}(f.tab.id);break;case mt.CAA.BUTTON.CLICKED:!function(e){Ie().tabs.sendMessage(e,{type:mt.CAA.REMOVE}),Zt(cn.CAATooltip,"global",we,!0)}(f.tab.id);break;case mt.CAY.VOUCHERS.DISPLAY:a(f.tab.id,f.tab.url);break;case mt.CAY.DEALS.DISPLAY:s(f.tab.id,f.tab.url);break;case mt.HIDDEN.DISPLAY:!async function(e){if(await Jt(cn.NotificationHideTooltip,"global",we))return;Ie().tabs.sendMessage(e,{type:mt.HIDDEN.DISPLAY})}(f.tab.id);break;case mt.HIDDEN.BUTTON.CLICKED:c(f.tab.id),function(e){Ie().tabs.sendMessage(e,{type:mt.HIDDEN.REMOVE}),Zt(cn.NotificationHideTooltip,"global",we,!0)}(f.tab.id);break;case lt.START:!async function(e){await Ie().tabs.sendMessage(e,{param:{tryCodes:!0},type:lt.DISPLAY})}(f.tab.id);break;case lt.LOG_SESSION:{const{pageState:e,tabSession:t}=r.param;if(!t)break;Et(f.tab.id,t,e);break}case lt.LOG_EVENT:{const e=r.param;St(f.tab.id)(e);break}case ht.REQUESTED:return d(e[f.tab.id]),!0;case ht.UPDATED:return e[f.tab.id]={...e[f.tab.id],...r.param},d(e[f.tab.id]),!0;case pt.GET_INFO:return d(p()),!0;case pt.HIDDEN_BY_USER:!async function(){const e=await p();e.hiddenByUser=!0,we.set(nt,e)}();break;case pt.INCREASE_DEALS_CLICK_COUNT:!async function(){const e=await p();e.dealsClickCount=e.dealsClickCount+1,we.set(nt,e)}()}}))}(),chrome.runtime.onMessage.addListener(((e,t,n)=>{const{dialogName:r,customDomain:o}=Object(e.param);switch(e.type){case"set-dialog-visibility":{const t=e.param;Zt(t.dialogName,t.merchantId,t.dialogName===cn.Notification?Ae:we,t.isVisible??!1);break}case"get-tooltip-visibility":{const{tooltipName:t}=e.param;return Jt(t,"global",we).then(n),!0}case"set-ga-consent":!async function(e){const t=new Date;t.setMonth(t.getMonth()+13),await we.set(Ct,{expireAt:t.getTime(),isAgreed:e})}(!!e.param);break;case"get-ga-consent":return Pt().then(n),!0;case"check-partner":return async function(e,t){if(!await Kt())return;const n=await on(e),r=await sn(e);if(!n&&!r)return;const o=[];n&&o.push(n.name),r&&o.push(r.name);const i=n?await qt(n.id):[],a=new Dt(zt.getCountryCode()),s=r?await a.getDeals(r.id)??[]:[];if(0===i.length&&0===s.length)return;let c=null;return t&&(c=await Jt(t,n?.id,t===cn.Notification?Ae:we)),{deals:s,isDialogVisible:c,merchant:n,merchantNames:o,pepperMerchant:r,vouchers:i}}(o||t.url,r).then(n),!0;case"open-affiliate-link":{const{voucher:n}=e.param;!async function(e,t){const n=`https://mega.joingsg.com/mercury/out?${new URLSearchParams({businessModel:"Conversion",clientCountry:zt.getCountryCode(),clientType:"wl",clientUid:zt.getMegatronTrackingId()??"",customerHash:await Se.getCustomerHash()??"",dataSource:await Se.getSourceType()??rt,filterApplied:"code",openUrl:t,pageType:"website",redirectionUrl:e.tracking_link,retailerId:e.merchantId,timestamp:Date.now().toString(),voucherId:e.id,voucherType:e.type}).toString()}`;await Ci.activate(n)}(n,t.url??"");break}case"open-serp-affiliate-link":{const{merchantId:n,searchEngine:r,affiliateUrl:o,redirectUrl:i,hasVouchers:a}=e.param;Ae.get(tt).then((e=>{const t=e??[];t.includes(n)||Ae.set(tt,[...t,n])})),a&&async function(e,t,n){const r=`https://mega.joingsg.com/mercury/out?${new URLSearchParams({businessModel:"Conversion",clientCountry:zt.getCountryCode(),clientType:"wl",clientUid:zt.getMegatronTrackingId()??"",customerHash:await Se.getCustomerHash()??"",dataSource:await Se.getSourceType()??rt,pageType:`serp-${t}`,redirectionUrl:n,retailerId:e,timestamp:Date.now().toString(),voucherId:"0"}).toString()}`;await Ci.activate(r)}(n,r,o),t.tab?.id?ln.updateTab(t.tab.id,{url:i}):ln.createTab({active:!0,url:i});break}case"open-settings-page":ln.createTab("./settings.html");break;case"open-feedback-page":ln.createTab(zt.getFeedbackLink()??"");break;case at.SEND_GA:{const{name:t,params:n}=e.param;Pt().then((e=>{e&&pn().then((e=>{const r={...n,engagement_time_msec:100,market:zt.getCountryCode().toUpperCase(),session_id:e};Pi.sendEvent(t,r)}))}));break}case"set-serp-settings":(async e=>{const t=await Oi();Object.entries(e).forEach((([e,n])=>{t[e]=n})),await we.set("serpSettings",t)})(e.param);break;case"get-serp-settings":return Oi().then(n),!0;case ut.CODE.ADD_TO_STORAGE:{const{voucherId:t}=e.param;!async function(e){let t=await Ae.get("shownCodes");t||(t=[]),t=[...t,e],Ae.set("shownCodes",t)}(t);break}case ut.CODE.IS_SHOWN:{const{voucherId:t}=e.param;return async function(e){const t=await Ae.get("shownCodes");return!!t&&t.includes(e)}(t).then(n),!0}case"send-megatron-analytics":{const{event:n}=e.param;Se.track({dl:t.url,...n})}break;case"set-locale":zt.updateLocale(e.param),Ti(),Ii();break;case"open-language-page":Di();break;case"search-on-retailer":{const{filterText:t}=e.param;if(!t)return;ln.createTab(zt.getSearchOnRetailerLink(encodeURIComponent(t))??"")}}})),(async()=>{const e=await jt();Si(e||Fe)})(),chrome.tabs.onUpdated.addListener(((e,t)=>{Ci.isActivationTab(e)&&Ci.onUpdated(e,t)})),async function(){await jt()&&Ii()}(),chrome.alarms.onAlarm.addListener((e=>{un.run(e.name)})),chrome.runtime.onInstalled.addListener((async({reason:e})=>{const t=await we.get(it);if(t&&zt.updateLocale(t),"update"===e&&(!async function(){const e=Nt();e!==qe&&e!==Ye&&e!==$e||zt.updateLocale(e)}(),Ti()),"install"===e){const e=Nt();e!==qe&&e!==Ye&&e!==$e||(zt.updateLocale(e),Ti());const t=await async function(){const e=(await ln.getAllTabs()).map((e=>e.url??"")).filter((e=>{try{const{hostname:t,search:n}=new URL(e);return(t===`mega.pepper.${Ye}`||t===`mega.${qe}.pepper.com`)&&!!/[?&]utm_/.test(n)}catch(e){return!1}}));if(e[0])try{return new URL(e[0]).search}catch(e){}return""}();if(await Ii(),Se.trackPageView({url:"/install"+t}),vt.info({data:{urlParams:t},forceLog:!0,message:"install"}),e===qe||e===Ye||e===$e)return void ln.createTab("./consent.html");await we.get(it)||Di()}})),un.registerCallback(Ei,(()=>{console.log(`[DEBUG SESSION TRACKING] ping @ ${new Date}`),Se.ping(),vt.ping(),async function(){if(2===chrome.runtime.getManifest().manifest_version)return;if(!await Pt())return;const e=(await chrome.action.getUserSettings()).isOnToolbar;if(e!==(await Ae.get("isExtensionPinned")??!1)){const t=await pn(),n=e?"pinned_icon":"unpinned_icon";await Pi.sendEvent(n,{engagement_time_msec:100,session_id:t}),await Ae.set("isExtensionPinned",e)}}()}));var Ri;Ri=()=>{console.log(`[DEBUG SESSION TRACKING] onTrackSessionStarted @ ${new Date}`),un.createTimer(Ei,10,10)},chrome.runtime.onInstalled.addListener((({reason:e})=>{e===chrome.runtime.OnInstalledReason.INSTALL&&Ri()})),chrome.windows.onCreated.addListener((async()=>{1===(await Ie().windows.getAll()).length&&Ri()})),(e=>{chrome.windows.onRemoved.addListener((async()=>{0===(await Ie().windows.getAll()).length&&e()}))})((()=>{console.log(`[DEBUG SESSION TRACKING] onTrackSessionEnded @ ${new Date}`),un.clearTimer(Ei),chrome.storage.session.clear()}))})()})();